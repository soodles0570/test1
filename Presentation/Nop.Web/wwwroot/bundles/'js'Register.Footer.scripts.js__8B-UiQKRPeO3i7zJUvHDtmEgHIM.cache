{"Headers":{"Last-Modified":"Thu, 18 Nov 2021 13:21:44 GMT","X-Content-Type-Options":"nosniff"},"Body":"LyohIGpRdWVyeSB2My41LjEgfCAoYykgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovCmZ1bmN0aW9uIE9wZW5XaW5kb3cobix0LGkscil7dmFyIHU9KHNjcmVlbi53aWR0aC10KS8yLGY9KHNjcmVlbi5oZWlnaHQtaSkvMixlO3dpbnByb3BzPSJyZXNpemFibGU9MCwgaGVpZ2h0PSIraSsiLHdpZHRoPSIrdCsiLHRvcD0iK2YrIixsZWZ0PSIrdSsidyI7ciYmKHdpbnByb3BzKz0iLHNjcm9sbGJhcnM9MSIpO2U9d2luZG93Lm9wZW4obiwiX2JsYW5rIix3aW5wcm9wcyl9ZnVuY3Rpb24gc2V0TG9jYXRpb24obil7d2luZG93LmxvY2F0aW9uLmhyZWY9bn1mdW5jdGlvbiBkaXNwbGF5QWpheExvYWRpbmcobil7bj8kKCIuYWpheC1sb2FkaW5nLWJsb2NrLXdpbmRvdyIpLnNob3coKTokKCIuYWpheC1sb2FkaW5nLWJsb2NrLXdpbmRvdyIpLmhpZGUoInNsb3ciKX1mdW5jdGlvbiBkaXNwbGF5UG9wdXBOb3RpZmljYXRpb24obix0LGkpe3ZhciBmLHIsdSxlO2lmKGY9dD09InN1Y2Nlc3MiPyQoIiNkaWFsb2ctbm90aWZpY2F0aW9ucy1zdWNjZXNzIik6dD09ImVycm9yIj8kKCIjZGlhbG9nLW5vdGlmaWNhdGlvbnMtZXJyb3IiKTp0PT0id2FybmluZyI/JCgiI2RpYWxvZy1ub3RpZmljYXRpb25zLXdhcm5pbmciKTokKCIjZGlhbG9nLW5vdGlmaWNhdGlvbnMtc3VjY2VzcyIpLHI9IiIsdHlwZW9mIG49PSJzdHJpbmciKXI9IjxwPiIrbisiPFwvcD4iO2Vsc2UgZm9yKHU9MDt1PG4ubGVuZ3RoO3UrKylyPXIrIjxwPiIrblt1XSsiPFwvcD4iO2YuaHRtbChyKTtlPWk/ITA6ITE7Zi5kaWFsb2coe21vZGFsOmUsd2lkdGg6MzUwfSl9ZnVuY3Rpb24gZGlzcGxheUpvaW5lZFBvcHVwTm90aWZpY2F0aW9ucyhuKXt2YXIgdSxmLGksZSxyLHQ7aWYoT2JqZWN0LmtleXMobikubGVuZ3RoIT09MCl7dT0kKCIjZGlhbG9nLW5vdGlmaWNhdGlvbnMtc3VjY2VzcyIpO2Y9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zm9yKGkgaW4gbilpZihuLmhhc093blByb3BlcnR5KGkpKWZvcihlPW5baV0scj0wO3I8ZS5sZW5ndGg7KytyKXQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdC5pbm5lckhUTUw9ZVtyXSx0LmNsYXNzTGlzdC5hZGQoInBvcHVwLW5vdGlmaWNhdGlvbiIpLHQuY2xhc3NMaXN0LmFkZChpKSxmLmFwcGVuZCh0KTt1Lmh0bWwoZik7dS5kaWFsb2coe3dpZHRoOjM1MCxtb2RhbDohMH0pfX1mdW5jdGlvbiBkaXNwbGF5UG9wdXBDb250ZW50RnJvbVVybChuLHQsaSxyKXt2YXIgdT1pPyEwOiExLGY9cj9yOjU1MCxlPSQod2luZG93KS5oZWlnaHQoKS0yMDskKCI8ZGl2PjxcL2Rpdj4iKS5sb2FkKG4pLmRpYWxvZyh7bW9kYWw6dSx3aWR0aDpmLG1heEhlaWdodDplLHRpdGxlOnQsY2xvc2U6ZnVuY3Rpb24oKXskKHRoaXMpLmRpYWxvZygiZGVzdHJveSIpLnJlbW92ZSgpfX0pfWZ1bmN0aW9uIGRpc3BsYXlCYXJOb3RpZmljYXRpb24obix0LGkpe3ZhciBjLG89dHlwZW9mIG49PSJzdHJpbmciP1tuXTpuLHMscix1LGYsZSxoO2lmKG8ubGVuZ3RoIT09MCl7Zm9yKHM9WyJzdWNjZXNzIiwiZXJyb3IiLCJ3YXJuaW5nIl0uaW5kZXhPZih0KSE9PS0xP3Q6InN1Y2Nlc3MiLCQoIiNiYXItbm90aWZpY2F0aW9uIikucmVtb3ZlQ2xhc3MoInN1Y2Nlc3MiKS5yZW1vdmVDbGFzcygiZXJyb3IiKS5yZW1vdmVDbGFzcygid2FybmluZyIpLCQoIi5iYXItbm90aWZpY2F0aW9uIikucmVtb3ZlKCkscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxyLmNsYXNzTGlzdC5hZGQoImJhci1ub3RpZmljYXRpb24iLHMpLHIuY2xhc3NMaXN0LmFkZChzKSx1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKSx1LmNsYXNzTGlzdC5hZGQoImNsb3NlIiksdS5zZXRBdHRyaWJ1dGUoInRpdGxlIixkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYmFyLW5vdGlmaWNhdGlvbiIpLmRhdGFzZXQuY2xvc2UpLGY9MDtmPG8ubGVuZ3RoO2YrKyllPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKSxlLmNsYXNzTGlzdC5hZGQoImNvbnRlbnQiKSxlLmlubmVySFRNTD1vW2ZdLHIuYXBwZW5kQ2hpbGQoZSk7ci5hcHBlbmRDaGlsZCh1KTskKCIjYmFyLW5vdGlmaWNhdGlvbiIpLmFwcGVuZChyKTskKHIpLmZhZGVJbigic2xvdyIpLm9uKCJtb3VzZWVudGVyIixmdW5jdGlvbigpe2NsZWFyVGltZW91dChjKX0pO2g9ZnVuY3Rpb24oKXskKHIpLnJlbW92ZSgpfTskKHUpLm9uKCJjbGljayIsZnVuY3Rpb24oKXskKHIpLmZhZGVPdXQoInNsb3ciLGgpfSk7aT4wJiYoYz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JChyKS5mYWRlT3V0KCJzbG93IixoKX0saSkpfX1mdW5jdGlvbiBodG1sRW5jb2RlKG4pe3JldHVybiAkKCI8ZGl2Lz4iKS50ZXh0KG4pLmh0bWwoKX1mdW5jdGlvbiBodG1sRGVjb2RlKG4pe3JldHVybiAkKCI8ZGl2Lz4iKS5odG1sKG4pLnRleHQoKX1mdW5jdGlvbiBhZGRBbnRpRm9yZ2VyeVRva2VuKG4pe258fChuPXt9KTt2YXIgdD0kKCJpbnB1dFtuYW1lPV9fUmVxdWVzdFZlcmlmaWNhdGlvblRva2VuXSIpO3JldHVybiB0Lmxlbmd0aCYmKG4uX19SZXF1ZXN0VmVyaWZpY2F0aW9uVG9rZW49dC52YWwoKSksbn0hZnVuY3Rpb24obix0KXsidXNlIHN0cmljdCI7Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9bi5kb2N1bWVudD90KG4sITApOmZ1bmN0aW9uKG4pe2lmKCFuLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiB0KG4pfTp0KG4pfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihuLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBicihuLHQsaSl7dmFyIHIsZSx1PShpPWl8fGYpLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2lmKHUudGV4dD1uLHQpZm9yKHIgaW4gc2UpKGU9dFtyXXx8dC5nZXRBdHRyaWJ1dGUmJnQuZ2V0QXR0cmlidXRlKHIpKSYmdS5zZXRBdHRyaWJ1dGUocixlKTtpLmhlYWQuYXBwZW5kQ2hpbGQodSkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh1KX1mdW5jdGlvbiB1dChuKXtyZXR1cm4gbnVsbD09bj9uKyIiOiJvYmplY3QiPT10eXBlb2Ygbnx8ImZ1bmN0aW9uIj09dHlwZW9mIG4/cmlbcHIuY2FsbChuKV18fCJvYmplY3QiOnR5cGVvZiBufWZ1bmN0aW9uIHBpKG4pe3ZhciB0PSEhbiYmImxlbmd0aCJpbiBuJiZuLmxlbmd0aCxpPXV0KG4pO3JldHVybiF1KG4pJiYhcnQobikmJigiYXJyYXkiPT09aXx8MD09PXR8fCJudW1iZXIiPT10eXBlb2YgdCYmMDx0JiZ0LTEgaW4gbil9ZnVuY3Rpb24gYyhuLHQpe3JldHVybiBuLm5vZGVOYW1lJiZuLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gYmkobix0LHIpe3JldHVybiB1KHQpP2kuZ3JlcChuLGZ1bmN0aW9uKG4saSl7cmV0dXJuISF0LmNhbGwobixpLG4pIT09cn0pOnQubm9kZVR5cGU/aS5ncmVwKG4sZnVuY3Rpb24obil7cmV0dXJuIG49PT10IT09cn0pOiJzdHJpbmciIT10eXBlb2YgdD9pLmdyZXAobixmdW5jdGlvbihuKXtyZXR1cm4tMTxpaS5jYWxsKHQsbikhPT1yfSk6aS5maWx0ZXIodCxuLHIpfWZ1bmN0aW9uIHV1KG4sdCl7d2hpbGUoKG49blt0XSkmJjEhPT1uLm5vZGVUeXBlKTtyZXR1cm4gbn1mdW5jdGlvbiBldChuKXtyZXR1cm4gbn1mdW5jdGlvbiBmaShuKXt0aHJvdyBuO31mdW5jdGlvbiBmdShuLHQsaSxyKXt2YXIgZjt0cnl7biYmdShmPW4ucHJvbWlzZSk/Zi5jYWxsKG4pLmRvbmUodCkuZmFpbChpKTpuJiZ1KGY9bi50aGVuKT9mLmNhbGwobix0LGkpOnQuYXBwbHkodm9pZCAwLFtuXS5zbGljZShyKSl9Y2F0Y2gobil7aS5hcHBseSh2b2lkIDAsW25dKX19ZnVuY3Rpb24gb2koKXtmLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLG9pKTtuLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLG9pKTtpLnJlYWR5KCl9ZnVuY3Rpb24gbGUobix0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfWZ1bmN0aW9uIHkobil7cmV0dXJuIG4ucmVwbGFjZShoZSwibXMtIikucmVwbGFjZShjZSxsZSl9ZnVuY3Rpb24gYnQoKXt0aGlzLmV4cGFuZG89aS5leHBhbmRvK2J0LnVpZCsrfWZ1bmN0aW9uIG91KG4sdCxpKXt2YXIgdSxyO2lmKHZvaWQgMD09PWkmJjE9PT1uLm5vZGVUeXBlKWlmKHU9ImRhdGEtIit0LnJlcGxhY2UodmUsIi0kJiIpLnRvTG93ZXJDYXNlKCksInN0cmluZyI9PXR5cGVvZihpPW4uZ2V0QXR0cmlidXRlKHUpKSl7dHJ5e2k9InRydWUiPT09KHI9aSl8fCJmYWxzZSIhPT1yJiYoIm51bGwiPT09cj9udWxsOnI9PT0rcisiIj8rcjphZS50ZXN0KHIpP0pTT04ucGFyc2Uocik6cil9Y2F0Y2gobil7fW8uc2V0KG4sdCxpKX1lbHNlIGk9dm9pZCAwO3JldHVybiBpfWZ1bmN0aW9uIGh1KG4sdCxyLHUpe3ZhciBzLGgsYz0yMCxsPXU/ZnVuY3Rpb24oKXtyZXR1cm4gdS5jdXIoKX06ZnVuY3Rpb24oKXtyZXR1cm4gaS5jc3Mobix0LCIiKX0sbz1sKCksZT1yJiZyWzNdfHwoaS5jc3NOdW1iZXJbdF0/IiI6InB4IiksZj1uLm5vZGVUeXBlJiYoaS5jc3NOdW1iZXJbdF18fCJweCIhPT1lJiYrbykmJmt0LmV4ZWMoaS5jc3Mobix0KSk7aWYoZiYmZlszXSE9PWUpe2ZvcihvLz0yLGU9ZXx8ZlszXSxmPStvfHwxO2MtLTspaS5zdHlsZShuLHQsZitlKSwoMS1oKSooMS0oaD1sKCkvb3x8LjUpKTw9MCYmKGM9MCksZi89aDtmKj0yO2kuc3R5bGUobix0LGYrZSk7cj1yfHxbXX1yZXR1cm4gciYmKGY9K2Z8fCtvfHwwLHM9clsxXT9mKyhyWzFdKzEpKnJbMl06K3JbMl0sdSYmKHUudW5pdD1lLHUuc3RhcnQ9Zix1LmVuZD1zKSksc31mdW5jdGlvbiBodChuLHQpe2Zvcih2YXIgaCxmLGEscyxjLGwsZSxvPVtdLHU9MCx2PW4ubGVuZ3RoO3U8djt1KyspKGY9blt1XSkuc3R5bGUmJihoPWYuc3R5bGUuZGlzcGxheSx0Pygibm9uZSI9PT1oJiYob1t1XT1yLmdldChmLCJkaXNwbGF5Iil8fG51bGwsb1t1XXx8KGYuc3R5bGUuZGlzcGxheT0iIikpLCIiPT09Zi5zdHlsZS5kaXNwbGF5JiZkdChmKSYmKG9bdV09KGU9Yz1zPXZvaWQgMCxjPShhPWYpLm93bmVyRG9jdW1lbnQsbD1hLm5vZGVOYW1lLChlPWtpW2xdKXx8KHM9Yy5ib2R5LmFwcGVuZENoaWxkKGMuY3JlYXRlRWxlbWVudChsKSksZT1pLmNzcyhzLCJkaXNwbGF5Iikscy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHMpLCJub25lIj09PWUmJihlPSJibG9jayIpLGtpW2xdPWUpKSkpOiJub25lIiE9PWgmJihvW3VdPSJub25lIixyLnNldChmLCJkaXNwbGF5IixoKSkpO2Zvcih1PTA7dTx2O3UrKyludWxsIT1vW3VdJiYoblt1XS5zdHlsZS5kaXNwbGF5PW9bdV0pO3JldHVybiBufWZ1bmN0aW9uIHMobix0KXt2YXIgcjtyZXR1cm4gcj0idW5kZWZpbmVkIiE9dHlwZW9mIG4uZ2V0RWxlbWVudHNCeVRhZ05hbWU/bi5nZXRFbGVtZW50c0J5VGFnTmFtZSh0fHwiKiIpOiJ1bmRlZmluZWQiIT10eXBlb2Ygbi5xdWVyeVNlbGVjdG9yQWxsP24ucXVlcnlTZWxlY3RvckFsbCh0fHwiKiIpOltdLHZvaWQgMD09PXR8fHQmJmMobix0KT9pLm1lcmdlKFtuXSxyKTpyfWZ1bmN0aW9uIGRpKG4sdCl7Zm9yKHZhciBpPTAsdT1uLmxlbmd0aDtpPHU7aSsrKXIuc2V0KG5baV0sImdsb2JhbEV2YWwiLCF0fHxyLmdldCh0W2ldLCJnbG9iYWxFdmFsIikpfWZ1bmN0aW9uIHZ1KG4sdCxyLHUsZil7Zm9yKHZhciBlLG8scCxhLHcsdixjPXQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHk9W10sbD0wLGI9bi5sZW5ndGg7bDxiO2wrKylpZigoZT1uW2xdKXx8MD09PWUpaWYoIm9iamVjdCI9PT11dChlKSlpLm1lcmdlKHksZS5ub2RlVHlwZT9bZV06ZSk7ZWxzZSBpZihhdS50ZXN0KGUpKXtmb3Iobz1vfHxjLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudCgiZGl2IikpLHA9KGN1LmV4ZWMoZSl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksYT1oW3BdfHxoLl9kZWZhdWx0LG8uaW5uZXJIVE1MPWFbMV0raS5odG1sUHJlZmlsdGVyKGUpK2FbMl0sdj1hWzBdO3YtLTspbz1vLmxhc3RDaGlsZDtpLm1lcmdlKHksby5jaGlsZE5vZGVzKTsobz1jLmZpcnN0Q2hpbGQpLnRleHRDb250ZW50PSIifWVsc2UgeS5wdXNoKHQuY3JlYXRlVGV4dE5vZGUoZSkpO2ZvcihjLnRleHRDb250ZW50PSIiLGw9MDtlPXlbbCsrXTspaWYodSYmLTE8aS5pbkFycmF5KGUsdSkpZiYmZi5wdXNoKGUpO2Vsc2UgaWYodz1zdChlKSxvPXMoYy5hcHBlbmRDaGlsZChlKSwic2NyaXB0IiksdyYmZGkobykscilmb3Iodj0wO2U9b1t2KytdOylsdS50ZXN0KGUudHlwZXx8IiIpJiZyLnB1c2goZSk7cmV0dXJuIGN9ZnVuY3Rpb24gY3QoKXtyZXR1cm4hMH1mdW5jdGlvbiBsdCgpe3JldHVybiExfWZ1bmN0aW9uIGJlKG4sdCl7cmV0dXJuIG49PT1mdW5jdGlvbigpe3RyeXtyZXR1cm4gZi5hY3RpdmVFbGVtZW50fWNhdGNoKG4pe319KCk9PSgiZm9jdXMiPT09dCl9ZnVuY3Rpb24gZ2kobix0LHIsdSxmLGUpe3ZhciBvLHM7aWYoIm9iamVjdCI9PXR5cGVvZiB0KXtmb3IocyBpbiJzdHJpbmciIT10eXBlb2YgciYmKHU9dXx8cixyPXZvaWQgMCksdClnaShuLHMscix1LHRbc10sZSk7cmV0dXJuIG59aWYobnVsbD09dSYmbnVsbD09Zj8oZj1yLHU9cj12b2lkIDApOm51bGw9PWYmJigic3RyaW5nIj09dHlwZW9mIHI/KGY9dSx1PXZvaWQgMCk6KGY9dSx1PXIscj12b2lkIDApKSwhMT09PWYpZj1sdDtlbHNlIGlmKCFmKXJldHVybiBuO3JldHVybiAxPT09ZSYmKG89ZiwoZj1mdW5jdGlvbihuKXtyZXR1cm4gaSgpLm9mZihuKSxvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLmd1aWQ9by5ndWlkfHwoby5ndWlkPWkuZ3VpZCsrKSksbi5lYWNoKGZ1bmN0aW9uKCl7aS5ldmVudC5hZGQodGhpcyx0LGYsdSxyKX0pfWZ1bmN0aW9uIGhpKG4sdCx1KXt1PyhyLnNldChuLHQsITEpLGkuZXZlbnQuYWRkKG4sdCx7bmFtZXNwYWNlOiExLGhhbmRsZXI6ZnVuY3Rpb24obil7dmFyIG8sZSxmPXIuZ2V0KHRoaXMsdCk7aWYoMSZuLmlzVHJpZ2dlciYmdGhpc1t0XSl7aWYoZi5sZW5ndGgpKGkuZXZlbnQuc3BlY2lhbFt0XXx8e30pLmRlbGVnYXRlVHlwZSYmbi5zdG9wUHJvcGFnYXRpb24oKTtlbHNlIGlmKGY9ay5jYWxsKGFyZ3VtZW50cyksci5zZXQodGhpcyx0LGYpLG89dSh0aGlzLHQpLHRoaXNbdF0oKSxmIT09KGU9ci5nZXQodGhpcyx0KSl8fG8/ci5zZXQodGhpcyx0LCExKTplPXt9LGYhPT1lKXJldHVybiBuLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLG4ucHJldmVudERlZmF1bHQoKSxlLnZhbHVlfWVsc2UgZi5sZW5ndGgmJihyLnNldCh0aGlzLHQse3ZhbHVlOmkuZXZlbnQudHJpZ2dlcihpLmV4dGVuZChmWzBdLGkuRXZlbnQucHJvdG90eXBlKSxmLnNsaWNlKDEpLHRoaXMpfSksbi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSl9fSkpOnZvaWQgMD09PXIuZ2V0KG4sdCkmJmkuZXZlbnQuYWRkKG4sdCxjdCl9ZnVuY3Rpb24gcHUobix0KXtyZXR1cm4gYyhuLCJ0YWJsZSIpJiZjKDExIT09dC5ub2RlVHlwZT90OnQuZmlyc3RDaGlsZCwidHIiKSYmaShuKS5jaGlsZHJlbigidGJvZHkiKVswXXx8bn1mdW5jdGlvbiBubyhuKXtyZXR1cm4gbi50eXBlPShudWxsIT09bi5nZXRBdHRyaWJ1dGUoInR5cGUiKSkrIi8iK24udHlwZSxufWZ1bmN0aW9uIHRvKG4pe3JldHVybiJ0cnVlLyI9PT0obi50eXBlfHwiIikuc2xpY2UoMCw1KT9uLnR5cGU9bi50eXBlLnNsaWNlKDUpOm4ucmVtb3ZlQXR0cmlidXRlKCJ0eXBlIiksbn1mdW5jdGlvbiB3dShuLHQpe3ZhciB1LHMsZixoLGMsZTtpZigxPT09dC5ub2RlVHlwZSl7aWYoci5oYXNEYXRhKG4pJiYoZT1yLmdldChuKS5ldmVudHMpKWZvcihmIGluIHIucmVtb3ZlKHQsImhhbmRsZSBldmVudHMiKSxlKWZvcih1PTAscz1lW2ZdLmxlbmd0aDt1PHM7dSsrKWkuZXZlbnQuYWRkKHQsZixlW2ZdW3VdKTtvLmhhc0RhdGEobikmJihoPW8uYWNjZXNzKG4pLGM9aS5leHRlbmQoe30saCksby5zZXQodCxjKSl9fWZ1bmN0aW9uIGF0KG4sdCxmLG8pe3Q9eXIodCk7dmFyIGEsYixsLHYsaCx5LGM9MCxwPW4ubGVuZ3RoLGQ9cC0xLHc9dFswXSxrPXUodyk7aWYoa3x8MTxwJiYic3RyaW5nIj09dHlwZW9mIHcmJiFlLmNoZWNrQ2xvbmUmJmRlLnRlc3QodykpcmV0dXJuIG4uZWFjaChmdW5jdGlvbihpKXt2YXIgcj1uLmVxKGkpO2smJih0WzBdPXcuY2FsbCh0aGlzLGksci5odG1sKCkpKTthdChyLHQsZixvKX0pO2lmKHAmJihiPShhPXZ1KHQsblswXS5vd25lckRvY3VtZW50LCExLG4sbykpLmZpcnN0Q2hpbGQsMT09PWEuY2hpbGROb2Rlcy5sZW5ndGgmJihhPWIpLGJ8fG8pKXtmb3Iodj0obD1pLm1hcChzKGEsInNjcmlwdCIpLG5vKSkubGVuZ3RoO2M8cDtjKyspaD1hLGMhPT1kJiYoaD1pLmNsb25lKGgsITAsITApLHYmJmkubWVyZ2UobCxzKGgsInNjcmlwdCIpKSksZi5jYWxsKG5bY10saCxjKTtpZih2KWZvcih5PWxbbC5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxpLm1hcChsLHRvKSxjPTA7Yzx2O2MrKyloPWxbY10sbHUudGVzdChoLnR5cGV8fCIiKSYmIXIuYWNjZXNzKGgsImdsb2JhbEV2YWwiKSYmaS5jb250YWlucyh5LGgpJiYoaC5zcmMmJiJtb2R1bGUiIT09KGgudHlwZXx8IiIpLnRvTG93ZXJDYXNlKCk/aS5fZXZhbFVybCYmIWgubm9Nb2R1bGUmJmkuX2V2YWxVcmwoaC5zcmMse25vbmNlOmgubm9uY2V8fGguZ2V0QXR0cmlidXRlKCJub25jZSIpfSx5KTpicihoLnRleHRDb250ZW50LnJlcGxhY2UoZ2UsIiIpLGgseSkpfXJldHVybiBufWZ1bmN0aW9uIGJ1KG4sdCxyKXtmb3IodmFyIHUsZT10P2kuZmlsdGVyKHQsbik6bixmPTA7bnVsbCE9KHU9ZVtmXSk7ZisrKXJ8fDEhPT11Lm5vZGVUeXBlfHxpLmNsZWFuRGF0YShzKHUpKSx1LnBhcmVudE5vZGUmJihyJiZzdCh1KSYmZGkocyh1LCJzY3JpcHQiKSksdS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHUpKTtyZXR1cm4gbn1mdW5jdGlvbiBuaShuLHQscil7dmFyIG8scyxoLGYsdT1uLnN0eWxlO3JldHVybihyPXJ8fGNpKG4pKSYmKCIiIT09KGY9ci5nZXRQcm9wZXJ0eVZhbHVlKHQpfHxyW3RdKXx8c3Qobil8fChmPWkuc3R5bGUobix0KSksIWUucGl4ZWxCb3hTdHlsZXMoKSYmbnIudGVzdChmKSYmaW8udGVzdCh0KSYmKG89dS53aWR0aCxzPXUubWluV2lkdGgsaD11Lm1heFdpZHRoLHUubWluV2lkdGg9dS5tYXhXaWR0aD11LndpZHRoPWYsZj1yLndpZHRoLHUud2lkdGg9byx1Lm1pbldpZHRoPXMsdS5tYXhXaWR0aD1oKSksdm9pZCAwIT09Zj9mKyIiOmZ9ZnVuY3Rpb24gZHUobix0KXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7aWYoIW4oKSlyZXR1cm4odGhpcy5nZXQ9dCkuYXBwbHkodGhpcyxhcmd1bWVudHMpO2RlbGV0ZSB0aGlzLmdldH19fWZ1bmN0aW9uIHRyKG4pe3ZhciB0PWkuY3NzUHJvcHNbbl18fHRmW25dO3JldHVybiB0fHwobiBpbiBuZj9uOnRmW25dPWZ1bmN0aW9uKG4pe2Zvcih2YXIgaT1uWzBdLnRvVXBwZXJDYXNlKCkrbi5zbGljZSgxKSx0PWd1Lmxlbmd0aDt0LS07KWlmKChuPWd1W3RdK2kpaW4gbmYpcmV0dXJuIG59KG4pfHxuKX1mdW5jdGlvbiBmZihuLHQsaSl7dmFyIHI9a3QuZXhlYyh0KTtyZXR1cm4gcj9NYXRoLm1heCgwLHJbMl0tKGl8fDApKSsoclszXXx8InB4Iik6dH1mdW5jdGlvbiBpcihuLHQscix1LGYsZSl7dmFyIG89IndpZHRoIj09PXQ/MTowLGg9MCxzPTA7aWYocj09PSh1PyJib3JkZXIiOiJjb250ZW50IikpcmV0dXJuIDA7Zm9yKDtvPDQ7bys9MikibWFyZ2luIj09PXImJihzKz1pLmNzcyhuLHIrYltvXSwhMCxmKSksdT8oImNvbnRlbnQiPT09ciYmKHMtPWkuY3NzKG4sInBhZGRpbmciK2Jbb10sITAsZikpLCJtYXJnaW4iIT09ciYmKHMtPWkuY3NzKG4sImJvcmRlciIrYltvXSsiV2lkdGgiLCEwLGYpKSk6KHMrPWkuY3NzKG4sInBhZGRpbmciK2Jbb10sITAsZiksInBhZGRpbmciIT09cj9zKz1pLmNzcyhuLCJib3JkZXIiK2Jbb10rIldpZHRoIiwhMCxmKTpoKz1pLmNzcyhuLCJib3JkZXIiK2Jbb10rIldpZHRoIiwhMCxmKSk7cmV0dXJuIXUmJjA8PWUmJihzKz1NYXRoLm1heCgwLE1hdGguY2VpbChuWyJvZmZzZXQiK3RbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpXS1lLXMtaC0uNSkpfHwwKSxzfWZ1bmN0aW9uIGVmKG4sdCxyKXt2YXIgZj1jaShuKSxvPSghZS5ib3hTaXppbmdSZWxpYWJsZSgpfHxyKSYmImJvcmRlci1ib3giPT09aS5jc3MobiwiYm94U2l6aW5nIiwhMSxmKSxzPW8sdT1uaShuLHQsZiksaD0ib2Zmc2V0Iit0WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKTtpZihuci50ZXN0KHUpKXtpZighcilyZXR1cm4gdTt1PSJhdXRvIn1yZXR1cm4oIWUuYm94U2l6aW5nUmVsaWFibGUoKSYmb3x8IWUucmVsaWFibGVUckRpbWVuc2lvbnMoKSYmYyhuLCJ0ciIpfHwiYXV0byI9PT11fHwhcGFyc2VGbG9hdCh1KSYmImlubGluZSI9PT1pLmNzcyhuLCJkaXNwbGF5IiwhMSxmKSkmJm4uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgmJihvPSJib3JkZXItYm94Ij09PWkuY3NzKG4sImJveFNpemluZyIsITEsZiksKHM9aCBpbiBuKSYmKHU9bltoXSkpLCh1PXBhcnNlRmxvYXQodSl8fDApK2lyKG4sdCxyfHwobz8iYm9yZGVyIjoiY29udGVudCIpLHMsZix1KSsicHgifWZ1bmN0aW9uIGEobix0LGkscix1KXtyZXR1cm4gbmV3IGEucHJvdG90eXBlLmluaXQobix0LGkscix1KX1mdW5jdGlvbiBycigpe2xpJiYoITE9PT1mLmhpZGRlbiYmbi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU/bi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocnIpOm4uc2V0VGltZW91dChycixpLmZ4LmludGVydmFsKSxpLmZ4LnRpY2soKSl9ZnVuY3Rpb24gbGYoKXtyZXR1cm4gbi5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dnQ9dm9pZCAwfSksdnQ9RGF0ZS5ub3coKX1mdW5jdGlvbiBhaShuLHQpe3ZhciB1LHI9MCxpPXtoZWlnaHQ6bn07Zm9yKHQ9dD8xOjA7cjw0O3IrPTItdClpWyJtYXJnaW4iKyh1PWJbcl0pXT1pWyJwYWRkaW5nIit1XT1uO3JldHVybiB0JiYoaS5vcGFjaXR5PWkud2lkdGg9biksaX1mdW5jdGlvbiBhZihuLHQsaSl7Zm9yKHZhciB1LGY9KHYudHdlZW5lcnNbdF18fFtdKS5jb25jYXQodi50d2VlbmVyc1siKiJdKSxyPTAsZT1mLmxlbmd0aDtyPGU7cisrKWlmKHU9ZltyXS5jYWxsKGksdCxuKSlyZXR1cm4gdX1mdW5jdGlvbiB2KG4sdCxyKXt2YXIgbyxzLGg9MCxhPXYucHJlZmlsdGVycy5sZW5ndGgsZT1pLkRlZmVycmVkKCkuYWx3YXlzKGZ1bmN0aW9uKCl7ZGVsZXRlIGwuZWxlbX0pLGw9ZnVuY3Rpb24oKXtpZihzKXJldHVybiExO2Zvcih2YXIgbz12dHx8bGYoKSx0PU1hdGgubWF4KDAsZi5zdGFydFRpbWUrZi5kdXJhdGlvbi1vKSxpPTEtKHQvZi5kdXJhdGlvbnx8MCkscj0wLHU9Zi50d2VlbnMubGVuZ3RoO3I8dTtyKyspZi50d2VlbnNbcl0ucnVuKGkpO3JldHVybiBlLm5vdGlmeVdpdGgobixbZixpLHRdKSxpPDEmJnU/dDoodXx8ZS5ub3RpZnlXaXRoKG4sW2YsMSwwXSksZS5yZXNvbHZlV2l0aChuLFtmXSksITEpfSxmPWUucHJvbWlzZSh7ZWxlbTpuLHByb3BzOmkuZXh0ZW5kKHt9LHQpLG9wdHM6aS5leHRlbmQoITAse3NwZWNpYWxFYXNpbmc6e30sZWFzaW5nOmkuZWFzaW5nLl9kZWZhdWx0fSxyKSxvcmlnaW5hbFByb3BlcnRpZXM6dCxvcmlnaW5hbE9wdGlvbnM6cixzdGFydFRpbWU6dnR8fGxmKCksZHVyYXRpb246ci5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24odCxyKXt2YXIgdT1pLlR3ZWVuKG4sZi5vcHRzLHQscixmLm9wdHMuc3BlY2lhbEVhc2luZ1t0XXx8Zi5vcHRzLmVhc2luZyk7cmV0dXJuIGYudHdlZW5zLnB1c2godSksdX0sc3RvcDpmdW5jdGlvbih0KXt2YXIgaT0wLHI9dD9mLnR3ZWVucy5sZW5ndGg6MDtpZihzKXJldHVybiB0aGlzO2ZvcihzPSEwO2k8cjtpKyspZi50d2VlbnNbaV0ucnVuKDEpO3JldHVybiB0PyhlLm5vdGlmeVdpdGgobixbZiwxLDBdKSxlLnJlc29sdmVXaXRoKG4sW2YsdF0pKTplLnJlamVjdFdpdGgobixbZix0XSksdGhpc319KSxjPWYucHJvcHM7Zm9yKCFmdW5jdGlvbihuLHQpe3ZhciByLGYsZSx1LG87Zm9yKHIgaW4gbilpZihlPXRbZj15KHIpXSx1PW5bcl0sQXJyYXkuaXNBcnJheSh1KSYmKGU9dVsxXSx1PW5bcl09dVswXSksciE9PWYmJihuW2ZdPXUsZGVsZXRlIG5bcl0pLChvPWkuY3NzSG9va3NbZl0pJiYiZXhwYW5kImluIG8pZm9yKHIgaW4gdT1vLmV4cGFuZCh1KSxkZWxldGUgbltmXSx1KXIgaW4gbnx8KG5bcl09dVtyXSx0W3JdPWUpO2Vsc2UgdFtmXT1lfShjLGYub3B0cy5zcGVjaWFsRWFzaW5nKTtoPGE7aCsrKWlmKG89di5wcmVmaWx0ZXJzW2hdLmNhbGwoZixuLGMsZi5vcHRzKSlyZXR1cm4gdShvLnN0b3ApJiYoaS5fcXVldWVIb29rcyhmLmVsZW0sZi5vcHRzLnF1ZXVlKS5zdG9wPW8uc3RvcC5iaW5kKG8pKSxvO3JldHVybiBpLm1hcChjLGFmLGYpLHUoZi5vcHRzLnN0YXJ0KSYmZi5vcHRzLnN0YXJ0LmNhbGwobixmKSxmLnByb2dyZXNzKGYub3B0cy5wcm9ncmVzcykuZG9uZShmLm9wdHMuZG9uZSxmLm9wdHMuY29tcGxldGUpLmZhaWwoZi5vcHRzLmZhaWwpLmFsd2F5cyhmLm9wdHMuYWx3YXlzKSxpLmZ4LnRpbWVyKGkuZXh0ZW5kKGwse2VsZW06bixhbmltOmYscXVldWU6Zi5vcHRzLnF1ZXVlfSkpLGZ9ZnVuY3Rpb24gdHQobil7cmV0dXJuKG4ubWF0Y2gobCl8fFtdKS5qb2luKCIgIil9ZnVuY3Rpb24gaXQobil7cmV0dXJuIG4uZ2V0QXR0cmlidXRlJiZuLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiJ9ZnVuY3Rpb24gdXIobil7cmV0dXJuIEFycmF5LmlzQXJyYXkobik/bjoic3RyaW5nIj09dHlwZW9mIG4mJm4ubWF0Y2gobCl8fFtdfWZ1bmN0aW9uIHNyKG4sdCxyLHUpe3ZhciBmO2lmKEFycmF5LmlzQXJyYXkodCkpaS5lYWNoKHQsZnVuY3Rpb24odCxpKXtyfHxmby50ZXN0KG4pP3UobixpKTpzcihuKyJbIisoIm9iamVjdCI9PXR5cGVvZiBpJiZudWxsIT1pP3Q6IiIpKyJdIixpLHIsdSl9KTtlbHNlIGlmKHJ8fCJvYmplY3QiIT09dXQodCkpdShuLHQpO2Vsc2UgZm9yKGYgaW4gdClzcihuKyJbIitmKyJdIix0W2ZdLHIsdSl9ZnVuY3Rpb24gbmUobil7cmV0dXJuIGZ1bmN0aW9uKHQsaSl7InN0cmluZyIhPXR5cGVvZiB0JiYoaT10LHQ9IioiKTt2YXIgcixmPTAsZT10LnRvTG93ZXJDYXNlKCkubWF0Y2gobCl8fFtdO2lmKHUoaSkpd2hpbGUocj1lW2YrK10pIisiPT09clswXT8ocj1yLnNsaWNlKDEpfHwiKiIsKG5bcl09bltyXXx8W10pLnVuc2hpZnQoaSkpOihuW3JdPW5bcl18fFtdKS5wdXNoKGkpfX1mdW5jdGlvbiB0ZShuLHQscix1KXtmdW5jdGlvbiBlKHMpe3ZhciBoO3JldHVybiBmW3NdPSEwLGkuZWFjaChuW3NdfHxbXSxmdW5jdGlvbihuLGkpe3ZhciBzPWkodCxyLHUpO3JldHVybiJzdHJpbmciIT10eXBlb2Ygc3x8b3x8ZltzXT9vPyEoaD1zKTp2b2lkIDA6KHQuZGF0YVR5cGVzLnVuc2hpZnQocyksZShzKSwhMSl9KSxofXZhciBmPXt9LG89bj09PWhyO3JldHVybiBlKHQuZGF0YVR5cGVzWzBdKXx8IWZbIioiXSYmZSgiKiIpfWZ1bmN0aW9uIGxyKG4sdCl7dmFyIHIsdSxmPWkuYWpheFNldHRpbmdzLmZsYXRPcHRpb25zfHx7fTtmb3IociBpbiB0KXZvaWQgMCE9PXRbcl0mJigoZltyXT9uOnV8fCh1PXt9KSlbcl09dFtyXSk7cmV0dXJuIHUmJmkuZXh0ZW5kKCEwLG4sdSksbn12YXIgcD1bXSx2cj1PYmplY3QuZ2V0UHJvdG90eXBlT2Ysaz1wLnNsaWNlLHlyPXAuZmxhdD9mdW5jdGlvbihuKXtyZXR1cm4gcC5mbGF0LmNhbGwobil9OmZ1bmN0aW9uKG4pe3JldHVybiBwLmNvbmNhdC5hcHBseShbXSxuKX0seWk9cC5wdXNoLGlpPXAuaW5kZXhPZixyaT17fSxwcj1yaS50b1N0cmluZyx1aT1yaS5oYXNPd25Qcm9wZXJ0eSx3cj11aS50b1N0cmluZyxvZT13ci5jYWxsKE9iamVjdCksZT17fSx1PWZ1bmN0aW9uKG4pe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBuJiYibnVtYmVyIiE9dHlwZW9mIG4ubm9kZVR5cGV9LHJ0PWZ1bmN0aW9uKG4pe3JldHVybiBudWxsIT1uJiZuPT09bi53aW5kb3d9LGY9bi5kb2N1bWVudCxzZT17dHlwZTohMCxzcmM6ITAsbm9uY2U6ITAsbm9Nb2R1bGU6ITB9LGtyPSIzLjUuMSIsaT1mdW5jdGlvbihuLHQpe3JldHVybiBuZXcgaS5mbi5pbml0KG4sdCl9LGQsd2ksbnUsdHUsaXUscnUsbCxldSxlaSxvdCxkdCxraSxoLGF1LHZ0LGxpLHl0LHNmLGhmLGNmLHZmLHB0LHlmLHBmLHdmLGZyLGVyLGllLHd0LHJlLGFyLHZpLHVlLGZlLGVlO2kuZm49aS5wcm90b3R5cGU9e2pxdWVyeTprcixjb25zdHJ1Y3RvcjppLGxlbmd0aDowLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gay5jYWxsKHRoaXMpfSxnZXQ6ZnVuY3Rpb24obil7cmV0dXJuIG51bGw9PW4/ay5jYWxsKHRoaXMpOm48MD90aGlzW24rdGhpcy5sZW5ndGhdOnRoaXNbbl19LHB1c2hTdGFjazpmdW5jdGlvbihuKXt2YXIgdD1pLm1lcmdlKHRoaXMuY29uc3RydWN0b3IoKSxuKTtyZXR1cm4gdC5wcmV2T2JqZWN0PXRoaXMsdH0sZWFjaDpmdW5jdGlvbihuKXtyZXR1cm4gaS5lYWNoKHRoaXMsbil9LG1hcDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaS5tYXAodGhpcyxmdW5jdGlvbih0LGkpe3JldHVybiBuLmNhbGwodCxpLHQpfSkpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhrLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LGV2ZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaS5ncmVwKHRoaXMsZnVuY3Rpb24obix0KXtyZXR1cm4odCsxKSUyfSkpfSxvZGQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaS5ncmVwKHRoaXMsZnVuY3Rpb24obix0KXtyZXR1cm4gdCUyfSkpfSxlcTpmdW5jdGlvbihuKXt2YXIgaT10aGlzLmxlbmd0aCx0PStuKyhuPDA/aTowKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soMDw9dCYmdDxpP1t0aGlzW3RdXTpbXSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IoKX0scHVzaDp5aSxzb3J0OnAuc29ydCxzcGxpY2U6cC5zcGxpY2V9O2kuZXh0ZW5kPWkuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIHMsZixlLHQsbyxjLG49YXJndW1lbnRzWzBdfHx7fSxyPTEsbD1hcmd1bWVudHMubGVuZ3RoLGg9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIG4mJihoPW4sbj1hcmd1bWVudHNbcl18fHt9LHIrKyksIm9iamVjdCI9PXR5cGVvZiBufHx1KG4pfHwobj17fSkscj09PWwmJihuPXRoaXMsci0tKTtyPGw7cisrKWlmKG51bGwhPShzPWFyZ3VtZW50c1tyXSkpZm9yKGYgaW4gcyl0PXNbZl0sIl9fcHJvdG9fXyIhPT1mJiZuIT09dCYmKGgmJnQmJihpLmlzUGxhaW5PYmplY3QodCl8fChvPUFycmF5LmlzQXJyYXkodCkpKT8oZT1uW2ZdLGM9byYmIUFycmF5LmlzQXJyYXkoZSk/W106b3x8aS5pc1BsYWluT2JqZWN0KGUpP2U6e30sbz0hMSxuW2ZdPWkuZXh0ZW5kKGgsYyx0KSk6dm9pZCAwIT09dCYmKG5bZl09dCkpO3JldHVybiBufTtpLmV4dGVuZCh7ZXhwYW5kbzoialF1ZXJ5Iisoa3IrTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywiIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihuKXt0aHJvdyBuZXcgRXJyb3Iobik7fSxub29wOmZ1bmN0aW9uKCl7fSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKG4pe3ZhciB0LGk7cmV0dXJuISghbnx8IltvYmplY3QgT2JqZWN0XSIhPT1wci5jYWxsKG4pKSYmKCEodD12cihuKSl8fCJmdW5jdGlvbiI9PXR5cGVvZihpPXVpLmNhbGwodCwiY29uc3RydWN0b3IiKSYmdC5jb25zdHJ1Y3RvcikmJndyLmNhbGwoaSk9PT1vZSl9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24obil7Zm9yKHZhciB0IGluIG4pcmV0dXJuITE7cmV0dXJuITB9LGdsb2JhbEV2YWw6ZnVuY3Rpb24obix0LGkpe2JyKG4se25vbmNlOnQmJnQubm9uY2V9LGkpfSxlYWNoOmZ1bmN0aW9uKG4sdCl7dmFyIHIsaT0wO2lmKHBpKG4pKXtmb3Iocj1uLmxlbmd0aDtpPHI7aSsrKWlmKCExPT09dC5jYWxsKG5baV0saSxuW2ldKSlicmVha31lbHNlIGZvcihpIGluIG4paWYoITE9PT10LmNhbGwobltpXSxpLG5baV0pKWJyZWFrO3JldHVybiBufSxtYWtlQXJyYXk6ZnVuY3Rpb24obix0KXt2YXIgcj10fHxbXTtyZXR1cm4gbnVsbCE9biYmKHBpKE9iamVjdChuKSk/aS5tZXJnZShyLCJzdHJpbmciPT10eXBlb2Ygbj9bbl06bik6eWkuY2FsbChyLG4pKSxyfSxpbkFycmF5OmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gbnVsbD09dD8tMTppaS5jYWxsKHQsbixpKX0sbWVyZ2U6ZnVuY3Rpb24obix0KXtmb3IodmFyIHU9K3QubGVuZ3RoLGk9MCxyPW4ubGVuZ3RoO2k8dTtpKyspbltyKytdPXRbaV07cmV0dXJuIG4ubGVuZ3RoPXIsbn0sZ3JlcDpmdW5jdGlvbihuLHQsaSl7Zm9yKHZhciB1PVtdLHI9MCxmPW4ubGVuZ3RoLGU9IWk7cjxmO3IrKykhdChuW3JdLHIpIT09ZSYmdS5wdXNoKG5bcl0pO3JldHVybiB1fSxtYXA6ZnVuY3Rpb24obix0LGkpe3ZhciBlLHUscj0wLGY9W107aWYocGkobikpZm9yKGU9bi5sZW5ndGg7cjxlO3IrKyludWxsIT0odT10KG5bcl0scixpKSkmJmYucHVzaCh1KTtlbHNlIGZvcihyIGluIG4pbnVsbCE9KHU9dChuW3JdLHIsaSkpJiZmLnB1c2godSk7cmV0dXJuIHlyKGYpfSxndWlkOjEsc3VwcG9ydDplfSk7ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKGkuZm5bU3ltYm9sLml0ZXJhdG9yXT1wW1N5bWJvbC5pdGVyYXRvcl0pO2kuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2wiLnNwbGl0KCIgIiksZnVuY3Rpb24obix0KXtyaVsiW29iamVjdCAiK3QrIl0iXT10LnRvTG93ZXJDYXNlKCl9KTtkPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHUobix0LHIsdSl7dmFyIHMseSxjLGwscCx3LGQsdj10JiZ0Lm93bmVyRG9jdW1lbnQsYT10P3Qubm9kZVR5cGU6OTtpZihyPXJ8fFtdLCJzdHJpbmciIT10eXBlb2Ygbnx8IW58fDEhPT1hJiY5IT09YSYmMTEhPT1hKXJldHVybiByO2lmKCF1JiYoYih0KSx0PXR8fGksaCkpe2lmKDExIT09YSYmKHA9YXIuZXhlYyhuKSkpaWYocz1wWzFdKXtpZig5PT09YSl7aWYoIShjPXQuZ2V0RWxlbWVudEJ5SWQocykpKXJldHVybiByO2lmKGMuaWQ9PT1zKXJldHVybiByLnB1c2goYykscn1lbHNlIGlmKHYmJihjPXYuZ2V0RWxlbWVudEJ5SWQocykpJiZldCh0LGMpJiZjLmlkPT09cylyZXR1cm4gci5wdXNoKGMpLHJ9ZWxzZXtpZihwWzJdKXJldHVybiBrLmFwcGx5KHIsdC5nZXRFbGVtZW50c0J5VGFnTmFtZShuKSkscjtpZigocz1wWzNdKSYmZi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZ0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIGsuYXBwbHkocix0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUocykpLHJ9aWYoZi5xc2EmJiFsdFtuKyIgIl0mJighb3x8IW8udGVzdChuKSkmJigxIT09YXx8Im9iamVjdCIhPT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKXtpZihkPW4sdj10LDE9PT1hJiYoZXIudGVzdChuKXx8eWkudGVzdChuKSkpe2Zvcigodj10aS50ZXN0KG4pJiZyaSh0LnBhcmVudE5vZGUpfHx0KT09PXQmJmYuc2NvcGV8fCgobD10LmdldEF0dHJpYnV0ZSgiaWQiKSk/bD1sLnJlcGxhY2UocGksd2kpOnQuc2V0QXR0cmlidXRlKCJpZCIsbD1lKSkseT0odz1mdChuKSkubGVuZ3RoO3ktLTspd1t5XT0obD8iIyIrbDoiOnNjb3BlIikrIiAiK3B0KHdbeV0pO2Q9dy5qb2luKCIsIil9dHJ5e3JldHVybiBrLmFwcGx5KHIsdi5xdWVyeVNlbGVjdG9yQWxsKGQpKSxyfWNhdGNoKHQpe2x0KG4sITApfWZpbmFsbHl7bD09PWUmJnQucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIHNpKG4ucmVwbGFjZShhdCwiJDEiKSx0LHIsdSl9ZnVuY3Rpb24geXQoKXt2YXIgbj1bXTtyZXR1cm4gZnVuY3Rpb24gaShyLHUpe3JldHVybiBuLnB1c2gocisiICIpPnQuY2FjaGVMZW5ndGgmJmRlbGV0ZSBpW24uc2hpZnQoKV0saVtyKyIgIl09dX19ZnVuY3Rpb24gbChuKXtyZXR1cm4gbltlXT0hMCxufWZ1bmN0aW9uIGEobil7dmFyIHQ9aS5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpO3RyeXtyZXR1cm4hIW4odCl9Y2F0Y2gobil7cmV0dXJuITF9ZmluYWxseXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KTt0PW51bGx9fWZ1bmN0aW9uIGlpKG4saSl7Zm9yKHZhciByPW4uc3BsaXQoInwiKSx1PXIubGVuZ3RoO3UtLTspdC5hdHRySGFuZGxlW3JbdV1dPWl9ZnVuY3Rpb24ga2kobix0KXt2YXIgaT10JiZuLHI9aSYmMT09PW4ubm9kZVR5cGUmJjE9PT10Lm5vZGVUeXBlJiZuLnNvdXJjZUluZGV4LXQuc291cmNlSW5kZXg7aWYocilyZXR1cm4gcjtpZihpKXdoaWxlKGk9aS5uZXh0U2libGluZylpZihpPT09dClyZXR1cm4tMTtyZXR1cm4gbj8xOi0xfWZ1bmN0aW9uIHlyKG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4iaW5wdXQiPT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZ0LnR5cGU9PT1ufX1mdW5jdGlvbiBwcihuKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGk9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybigiaW5wdXQiPT09aXx8ImJ1dHRvbiI9PT1pKSYmdC50eXBlPT09bn19ZnVuY3Rpb24gZGkobil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiJmb3JtImluIHQ/dC5wYXJlbnROb2RlJiYhMT09PXQuZGlzYWJsZWQ/ImxhYmVsImluIHQ/ImxhYmVsImluIHQucGFyZW50Tm9kZT90LnBhcmVudE5vZGUuZGlzYWJsZWQ9PT1uOnQuZGlzYWJsZWQ9PT1uOnQuaXNEaXNhYmxlZD09PW58fHQuaXNEaXNhYmxlZCE9PSFuJiZ2cih0KT09PW46dC5kaXNhYmxlZD09PW46ImxhYmVsImluIHQmJnQuZGlzYWJsZWQ9PT1ufX1mdW5jdGlvbiBpdChuKXtyZXR1cm4gbChmdW5jdGlvbih0KXtyZXR1cm4gdD0rdCxsKGZ1bmN0aW9uKGkscil7Zm9yKHZhciB1LGY9bihbXSxpLmxlbmd0aCx0KSxlPWYubGVuZ3RoO2UtLTspaVt1PWZbZV1dJiYoaVt1XT0hKHJbdV09aVt1XSkpfSl9KX1mdW5jdGlvbiByaShuKXtyZXR1cm4gbiYmInVuZGVmaW5lZCIhPXR5cGVvZiBuLmdldEVsZW1lbnRzQnlUYWdOYW1lJiZufWZ1bmN0aW9uIGdpKCl7fWZ1bmN0aW9uIHB0KG4pe2Zvcih2YXIgdD0wLHI9bi5sZW5ndGgsaT0iIjt0PHI7dCsrKWkrPW5bdF0udmFsdWU7cmV0dXJuIGl9ZnVuY3Rpb24gd3Qobix0LGkpe3ZhciByPXQuZGlyLHU9dC5uZXh0LGY9dXx8cixvPWkmJiJwYXJlbnROb2RlIj09PWYscz1ucisrO3JldHVybiB0LmZpcnN0P2Z1bmN0aW9uKHQsaSx1KXt3aGlsZSh0PXRbcl0paWYoMT09PXQubm9kZVR5cGV8fG8pcmV0dXJuIG4odCxpLHUpO3JldHVybiExfTpmdW5jdGlvbih0LGksaCl7dmFyIGMsbCxhLHk9W3Ysc107aWYoaCl7d2hpbGUodD10W3JdKWlmKCgxPT09dC5ub2RlVHlwZXx8bykmJm4odCxpLGgpKXJldHVybiEwfWVsc2Ugd2hpbGUodD10W3JdKWlmKDE9PT10Lm5vZGVUeXBlfHxvKWlmKGw9KGE9dFtlXXx8KHRbZV09e30pKVt0LnVuaXF1ZUlEXXx8KGFbdC51bmlxdWVJRF09e30pLHUmJnU9PT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpdD10W3JdfHx0O2Vsc2V7aWYoKGM9bFtmXSkmJmNbMF09PT12JiZjWzFdPT09cylyZXR1cm4geVsyXT1jWzJdO2lmKChsW2ZdPXkpWzJdPW4odCxpLGgpKXJldHVybiEwfXJldHVybiExfX1mdW5jdGlvbiB1aShuKXtyZXR1cm4gMTxuLmxlbmd0aD9mdW5jdGlvbih0LGkscil7Zm9yKHZhciB1PW4ubGVuZ3RoO3UtLTspaWYoIW5bdV0odCxpLHIpKXJldHVybiExO3JldHVybiEwfTpuWzBdfWZ1bmN0aW9uIGJ0KG4sdCxpLHIsdSl7Zm9yKHZhciBlLG89W10sZj0wLHM9bi5sZW5ndGgsaD1udWxsIT10O2Y8cztmKyspKGU9bltmXSkmJihpJiYhaShlLHIsdSl8fChvLnB1c2goZSksaCYmdC5wdXNoKGYpKSk7cmV0dXJuIG99ZnVuY3Rpb24gZmkobix0LGkscixmLG8pe3JldHVybiByJiYhcltlXSYmKHI9ZmkocikpLGYmJiFmW2VdJiYoZj1maShmLG8pKSxsKGZ1bmN0aW9uKGUsbyxzLGgpe3ZhciBhLGwsdix3PVtdLHA9W10sYj1vLmxlbmd0aCxkPWV8fGZ1bmN0aW9uKG4sdCxpKXtmb3IodmFyIHI9MCxmPXQubGVuZ3RoO3I8ZjtyKyspdShuLHRbcl0saSk7cmV0dXJuIGl9KHR8fCIqIixzLm5vZGVUeXBlP1tzXTpzLFtdKSx5PSFufHwhZSYmdD9kOmJ0KGQsdyxuLHMsaCksYz1pP2Z8fChlP246Ynx8cik/W106bzp5O2lmKGkmJmkoeSxjLHMsaCkscilmb3IoYT1idChjLHApLHIoYSxbXSxzLGgpLGw9YS5sZW5ndGg7bC0tOykodj1hW2xdKSYmKGNbcFtsXV09ISh5W3BbbF1dPXYpKTtpZihlKXtpZihmfHxuKXtpZihmKXtmb3IoYT1bXSxsPWMubGVuZ3RoO2wtLTspKHY9Y1tsXSkmJmEucHVzaCh5W2xdPXYpO2YobnVsbCxjPVtdLGEsaCl9Zm9yKGw9Yy5sZW5ndGg7bC0tOykodj1jW2xdKSYmLTE8KGE9Zj9udChlLHYpOndbbF0pJiYoZVthXT0hKG9bYV09dikpfX1lbHNlIGM9YnQoYz09PW8/Yy5zcGxpY2UoYixjLmxlbmd0aCk6YyksZj9mKG51bGwsbyxjLGgpOmsuYXBwbHkobyxjKX0pfWZ1bmN0aW9uIGVpKG4pe2Zvcih2YXIgbyx1LHIscz1uLmxlbmd0aCxoPXQucmVsYXRpdmVbblswXS50eXBlXSxjPWh8fHQucmVsYXRpdmVbIiAiXSxpPWg/MTowLGw9d3QoZnVuY3Rpb24obil7cmV0dXJuIG49PT1vfSxjLCEwKSxhPXd0KGZ1bmN0aW9uKG4pe3JldHVybi0xPG50KG8sbil9LGMsITApLGY9W2Z1bmN0aW9uKG4sdCxpKXt2YXIgcj0haCYmKGl8fHQhPT1odCl8fCgobz10KS5ub2RlVHlwZT9sKG4sdCxpKTphKG4sdCxpKSk7cmV0dXJuIG89bnVsbCxyfV07aTxzO2krKylpZih1PXQucmVsYXRpdmVbbltpXS50eXBlXSlmPVt3dCh1aShmKSx1KV07ZWxzZXtpZigodT10LmZpbHRlcltuW2ldLnR5cGVdLmFwcGx5KG51bGwsbltpXS5tYXRjaGVzKSlbZV0pe2ZvcihyPSsraTtyPHM7cisrKWlmKHQucmVsYXRpdmVbbltyXS50eXBlXSlicmVhaztyZXR1cm4gZmkoMTxpJiZ1aShmKSwxPGkmJnB0KG4uc2xpY2UoMCxpLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09bltpLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoYXQsIiQxIiksdSxpPHImJmVpKG4uc2xpY2UoaSxyKSkscjxzJiZlaShuPW4uc2xpY2UocikpLHI8cyYmcHQobikpfWYucHVzaCh1KX1yZXR1cm4gdWkoZil9dmFyIHJ0LGYsdCxzdCxvaSxmdCxrdCxzaSxodCx3LHV0LGIsaSxzLGgsbyxkLGN0LGV0LGU9InNpenpsZSIrMSpuZXcgRGF0ZSxjPW4uZG9jdW1lbnQsdj0wLG5yPTAsaGk9eXQoKSxjaT15dCgpLGxpPXl0KCksbHQ9eXQoKSxkdD1mdW5jdGlvbihuLHQpe3JldHVybiBuPT09dCYmKHV0PSEwKSwwfSx0cj17fS5oYXNPd25Qcm9wZXJ0eSxnPVtdLGlyPWcucG9wLHJyPWcucHVzaCxrPWcucHVzaCxhaT1nLnNsaWNlLG50PWZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBpPTAscj1uLmxlbmd0aDtpPHI7aSsrKWlmKG5baV09PT10KXJldHVybiBpO3JldHVybi0xfSxndD0iY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQiLHI9IltcXHgyMFxcdFxcclxcblxcZl0iLHR0PSIoPzpcXFxcW1xcZGEtZkEtRl17MSw2fSIrcisiP3xcXFxcW15cXHJcXG5cXGZdfFtcXHctXXxbXlwwLVxceDdmXSkrIix2aT0iXFxbIityKyIqKCIrdHQrIikoPzoiK3IrIiooWypeJHwhfl0/PSkiK3IrIiooPzonKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcInwoIit0dCsiKSl8KSIrcisiKlxcXSIsbmk9IjooIit0dCsiKSg/OlxcKCgoJygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCIpfCgoPzpcXFxcLnxbXlxcXFwoKVtcXF1dfCIrdmkrIikqKXwuKilcXCl8KSIsdXI9bmV3IFJlZ0V4cChyKyIrIiwiZyIpLGF0PW5ldyBSZWdFeHAoIl4iK3IrIit8KCg/Ol58W15cXFxcXSkoPzpcXFxcLikqKSIrcisiKyQiLCJnIiksZnI9bmV3IFJlZ0V4cCgiXiIrcisiKiwiK3IrIioiKSx5aT1uZXcgUmVnRXhwKCJeIityKyIqKFs+K35dfCIrcisiKSIrcisiKiIpLGVyPW5ldyBSZWdFeHAocisifD4iKSxvcj1uZXcgUmVnRXhwKG5pKSxzcj1uZXcgUmVnRXhwKCJeIit0dCsiJCIpLHZ0PXtJRDpuZXcgUmVnRXhwKCJeIygiK3R0KyIpIiksQ0xBU1M6bmV3IFJlZ0V4cCgiXlxcLigiK3R0KyIpIiksVEFHOm5ldyBSZWdFeHAoIl4oIit0dCsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK3ZpKSxQU0VVRE86bmV3IFJlZ0V4cCgiXiIrbmkpLENISUxEOm5ldyBSZWdFeHAoIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcKCIrcisiKihldmVufG9kZHwoKFsrLV18KShcXGQqKW58KSIrcisiKig/OihbKy1dfCkiK3IrIiooXFxkKyl8KSkiK3IrIipcXCl8KSIsImkiKSxib29sOm5ldyBSZWdFeHAoIl4oPzoiK2d0KyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrcisiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIityKyIqKCg/Oi1cXGQpP1xcZCopIityKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxocj0vSFRNTCQvaSxjcj0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLGxyPS9eaFxkJC9pLG90PS9eW157XStce1xzKlxbbmF0aXZlIFx3Lyxhcj0vXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLHRpPS9bK35dLyx5PW5ldyBSZWdFeHAoIlxcXFxbXFxkYS1mQS1GXXsxLDZ9IityKyI/fFxcXFwoW15cXHJcXG5cXGZdKSIsImciKSxwPWZ1bmN0aW9uKG4sdCl7dmFyIGk9IjB4IituLnNsaWNlKDEpLTY1NTM2O3JldHVybiB0fHwoaTwwP1N0cmluZy5mcm9tQ2hhckNvZGUoaSs2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShpPj4xMHw1NTI5NiwxMDIzJml8NTYzMjApKX0scGk9LyhbXDAtXHgxZlx4N2ZdfF4tP1xkKXxeLSR8W15cMC1ceDFmXHg3Zi1cdUZGRkZcdy1dL2csd2k9ZnVuY3Rpb24obix0KXtyZXR1cm4gdD8iXDAiPT09bj8i77+9IjpuLnNsaWNlKDAsLTEpKyJcXCIrbi5jaGFyQ29kZUF0KG4ubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KSsiICI6IlxcIitufSxiaT1mdW5jdGlvbigpe2IoKX0sdnI9d3QoZnVuY3Rpb24obil7cmV0dXJuITA9PT1uLmRpc2FibGVkJiYiZmllbGRzZXQiPT09bi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfSx7ZGlyOiJwYXJlbnROb2RlIixuZXh0OiJsZWdlbmQifSk7dHJ5e2suYXBwbHkoZz1haS5jYWxsKGMuY2hpbGROb2RlcyksYy5jaGlsZE5vZGVzKTtnW2MuY2hpbGROb2Rlcy5sZW5ndGhdLm5vZGVUeXBlfWNhdGNoKHJ0KXtrPXthcHBseTpnLmxlbmd0aD9mdW5jdGlvbihuLHQpe3JyLmFwcGx5KG4sYWkuY2FsbCh0KSl9OmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBpPW4ubGVuZ3RoLHI9MDtuW2krK109dFtyKytdOyk7bi5sZW5ndGg9aS0xfX19Zm9yKHJ0IGluIGY9dS5zdXBwb3J0PXt9LG9pPXUuaXNYTUw9ZnVuY3Rpb24obil7dmFyIGk9bi5uYW1lc3BhY2VVUkksdD0obi5vd25lckRvY3VtZW50fHxuKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIWhyLnRlc3QoaXx8dCYmdC5ub2RlTmFtZXx8IkhUTUwiKX0sYj11LnNldERvY3VtZW50PWZ1bmN0aW9uKG4pe3ZhciB2LHUsbD1uP24ub3duZXJEb2N1bWVudHx8bjpjO3JldHVybiBsIT1pJiY5PT09bC5ub2RlVHlwZSYmbC5kb2N1bWVudEVsZW1lbnQmJihzPShpPWwpLmRvY3VtZW50RWxlbWVudCxoPSFvaShpKSxjIT1pJiYodT1pLmRlZmF1bHRWaWV3KSYmdS50b3AhPT11JiYodS5hZGRFdmVudExpc3RlbmVyP3UuYWRkRXZlbnRMaXN0ZW5lcigidW5sb2FkIixiaSwhMSk6dS5hdHRhY2hFdmVudCYmdS5hdHRhY2hFdmVudCgib251bmxvYWQiLGJpKSksZi5zY29wZT1hKGZ1bmN0aW9uKG4pe3JldHVybiBzLmFwcGVuZENoaWxkKG4pLmFwcGVuZENoaWxkKGkuY3JlYXRlRWxlbWVudCgiZGl2IikpLCJ1bmRlZmluZWQiIT10eXBlb2Ygbi5xdWVyeVNlbGVjdG9yQWxsJiYhbi5xdWVyeVNlbGVjdG9yQWxsKCI6c2NvcGUgZmllbGRzZXQgZGl2IikubGVuZ3RofSksZi5hdHRyaWJ1dGVzPWEoZnVuY3Rpb24obil7cmV0dXJuIG4uY2xhc3NOYW1lPSJpIiwhbi5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksZi5nZXRFbGVtZW50c0J5VGFnTmFtZT1hKGZ1bmN0aW9uKG4pe3JldHVybiBuLmFwcGVuZENoaWxkKGkuY3JlYXRlQ29tbWVudCgiIikpLCFuLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RofSksZi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPW90LnRlc3QoaS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxmLmdldEJ5SWQ9YShmdW5jdGlvbihuKXtyZXR1cm4gcy5hcHBlbmRDaGlsZChuKS5pZD1lLCFpLmdldEVsZW1lbnRzQnlOYW1lfHwhaS5nZXRFbGVtZW50c0J5TmFtZShlKS5sZW5ndGh9KSxmLmdldEJ5SWQ/KHQuZmlsdGVyLklEPWZ1bmN0aW9uKG4pe3ZhciB0PW4ucmVwbGFjZSh5LHApO3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gbi5nZXRBdHRyaWJ1dGUoImlkIik9PT10fX0sdC5maW5kLklEPWZ1bmN0aW9uKG4sdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRCeUlkJiZoKXt2YXIgaT10LmdldEVsZW1lbnRCeUlkKG4pO3JldHVybiBpP1tpXTpbXX19KToodC5maWx0ZXIuSUQ9ZnVuY3Rpb24obil7dmFyIHQ9bi5yZXBsYWNlKHkscCk7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBpPSJ1bmRlZmluZWQiIT10eXBlb2Ygbi5nZXRBdHRyaWJ1dGVOb2RlJiZuLmdldEF0dHJpYnV0ZU5vZGUoImlkIik7cmV0dXJuIGkmJmkudmFsdWU9PT10fX0sdC5maW5kLklEPWZ1bmN0aW9uKG4sdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRCeUlkJiZoKXt2YXIgcix1LGYsaT10LmdldEVsZW1lbnRCeUlkKG4pO2lmKGkpe2lmKChyPWkuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKSkmJnIudmFsdWU9PT1uKXJldHVybltpXTtmb3IoZj10LmdldEVsZW1lbnRzQnlOYW1lKG4pLHU9MDtpPWZbdSsrXTspaWYoKHI9aS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmci52YWx1ZT09PW4pcmV0dXJuW2ldfXJldHVybltdfX0pLHQuZmluZC5UQUc9Zi5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihuLHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50c0J5VGFnTmFtZT90LmdldEVsZW1lbnRzQnlUYWdOYW1lKG4pOmYucXNhP3QucXVlcnlTZWxlY3RvckFsbChuKTp2b2lkIDB9OmZ1bmN0aW9uKG4sdCl7dmFyIGkscj1bXSxmPTAsdT10LmdldEVsZW1lbnRzQnlUYWdOYW1lKG4pO2lmKCIqIj09PW4pe3doaWxlKGk9dVtmKytdKTE9PT1pLm5vZGVUeXBlJiZyLnB1c2goaSk7cmV0dXJuIHJ9cmV0dXJuIHV9LHQuZmluZC5DTEFTUz1mLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKG4sdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmgpcmV0dXJuIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShuKX0sZD1bXSxvPVtdLChmLnFzYT1vdC50ZXN0KGkucXVlcnlTZWxlY3RvckFsbCkpJiYoYShmdW5jdGlvbihuKXt2YXIgdDtzLmFwcGVuZENoaWxkKG4pLmlubmVySFRNTD0iPGEgaWQ9JyIrZSsiJz48XC9hPjxzZWxlY3QgaWQ9JyIrZSsiLVxyXFwnIG1zYWxsb3djYXB0dXJlPScnPjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PFwvb3B0aW9uPjxcL3NlbGVjdD4iO24ucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJm8ucHVzaCgiWypeJF09IityKyIqKD86Jyd8XCJcIikiKTtuLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fG8ucHVzaCgiXFxbIityKyIqKD86dmFsdWV8IitndCsiKSIpO24ucXVlcnlTZWxlY3RvckFsbCgiW2lkfj0iK2UrIi1dIikubGVuZ3RofHxvLnB1c2goIn49Iik7KHQ9aS5jcmVhdGVFbGVtZW50KCJpbnB1dCIpKS5zZXRBdHRyaWJ1dGUoIm5hbWUiLCIiKTtuLmFwcGVuZENoaWxkKHQpO24ucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9JyddIikubGVuZ3RofHxvLnB1c2goIlxcWyIrcisiKm5hbWUiK3IrIio9IityKyIqKD86Jyd8XCJcIikiKTtuLnF1ZXJ5U2VsZWN0b3JBbGwoIjpjaGVja2VkIikubGVuZ3RofHxvLnB1c2goIjpjaGVja2VkIik7bi5xdWVyeVNlbGVjdG9yQWxsKCJhIyIrZSsiKyoiKS5sZW5ndGh8fG8ucHVzaCgiLiMuK1srfl0iKTtuLnF1ZXJ5U2VsZWN0b3JBbGwoIlxcXGYiKTtvLnB1c2goIltcXHJcXG5cXGZdIil9KSxhKGZ1bmN0aW9uKG4pe24uaW5uZXJIVE1MPSI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PFwvYT48c2VsZWN0IGRpc2FibGVkPSdkaXNhYmxlZCc+PG9wdGlvbi8+PFwvc2VsZWN0PiI7dmFyIHQ9aS5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3Quc2V0QXR0cmlidXRlKCJ0eXBlIiwiaGlkZGVuIik7bi5hcHBlbmRDaGlsZCh0KS5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJEIik7bi5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT1kXSIpLmxlbmd0aCYmby5wdXNoKCJuYW1lIityKyIqWypeJHwhfl0/PSIpOzIhPT1uLnF1ZXJ5U2VsZWN0b3JBbGwoIjplbmFibGVkIikubGVuZ3RoJiZvLnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIik7cy5hcHBlbmRDaGlsZChuKS5kaXNhYmxlZD0hMDsyIT09bi5xdWVyeVNlbGVjdG9yQWxsKCI6ZGlzYWJsZWQiKS5sZW5ndGgmJm8ucHVzaCgiOmVuYWJsZWQiLCI6ZGlzYWJsZWQiKTtuLnF1ZXJ5U2VsZWN0b3JBbGwoIiosOngiKTtvLnB1c2goIiwuKjoiKX0pKSwoZi5tYXRjaGVzU2VsZWN0b3I9b3QudGVzdChjdD1zLm1hdGNoZXN8fHMud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxzLm1vek1hdGNoZXNTZWxlY3Rvcnx8cy5vTWF0Y2hlc1NlbGVjdG9yfHxzLm1zTWF0Y2hlc1NlbGVjdG9yKSkmJmEoZnVuY3Rpb24obil7Zi5kaXNjb25uZWN0ZWRNYXRjaD1jdC5jYWxsKG4sIioiKTtjdC5jYWxsKG4sIltzIT0nJ106eCIpO2QucHVzaCgiIT0iLG5pKX0pLG89by5sZW5ndGgmJm5ldyBSZWdFeHAoby5qb2luKCJ8IikpLGQ9ZC5sZW5ndGgmJm5ldyBSZWdFeHAoZC5qb2luKCJ8IikpLHY9b3QudGVzdChzLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSxldD12fHxvdC50ZXN0KHMuY29udGFpbnMpP2Z1bmN0aW9uKG4sdCl7dmFyIHI9OT09PW4ubm9kZVR5cGU/bi5kb2N1bWVudEVsZW1lbnQ6bixpPXQmJnQucGFyZW50Tm9kZTtyZXR1cm4gbj09PWl8fCEoIWl8fDEhPT1pLm5vZGVUeXBlfHwhKHIuY29udGFpbnM/ci5jb250YWlucyhpKTpuLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZuLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGkpKSl9OmZ1bmN0aW9uKG4sdCl7aWYodCl3aGlsZSh0PXQucGFyZW50Tm9kZSlpZih0PT09bilyZXR1cm4hMDtyZXR1cm4hMX0sZHQ9dj9mdW5jdGlvbihuLHQpe2lmKG49PT10KXJldHVybiB1dD0hMCwwO3ZhciByPSFuLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSF0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiByfHwoMSYocj0obi5vd25lckRvY3VtZW50fHxuKT09KHQub3duZXJEb2N1bWVudHx8dCk/bi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbih0KToxKXx8IWYuc29ydERldGFjaGVkJiZ0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG4pPT09cj9uPT1pfHxuLm93bmVyRG9jdW1lbnQ9PWMmJmV0KGMsbik/LTE6dD09aXx8dC5vd25lckRvY3VtZW50PT1jJiZldChjLHQpPzE6dz9udCh3LG4pLW50KHcsdCk6MDo0JnI/LTE6MSl9OmZ1bmN0aW9uKG4sdCl7aWYobj09PXQpcmV0dXJuIHV0PSEwLDA7dmFyIHIsdT0wLG89bi5wYXJlbnROb2RlLHM9dC5wYXJlbnROb2RlLGY9W25dLGU9W3RdO2lmKCFvfHwhcylyZXR1cm4gbj09aT8tMTp0PT1pPzE6bz8tMTpzPzE6dz9udCh3LG4pLW50KHcsdCk6MDtpZihvPT09cylyZXR1cm4ga2kobix0KTtmb3Iocj1uO3I9ci5wYXJlbnROb2RlOylmLnVuc2hpZnQocik7Zm9yKHI9dDtyPXIucGFyZW50Tm9kZTspZS51bnNoaWZ0KHIpO3doaWxlKGZbdV09PT1lW3VdKXUrKztyZXR1cm4gdT9raShmW3VdLGVbdV0pOmZbdV09PWM/LTE6ZVt1XT09Yz8xOjB9KSxpfSx1Lm1hdGNoZXM9ZnVuY3Rpb24obix0KXtyZXR1cm4gdShuLG51bGwsbnVsbCx0KX0sdS5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24obix0KXtpZihiKG4pLGYubWF0Y2hlc1NlbGVjdG9yJiZoJiYhbHRbdCsiICJdJiYoIWR8fCFkLnRlc3QodCkpJiYoIW98fCFvLnRlc3QodCkpKXRyeXt2YXIgcj1jdC5jYWxsKG4sdCk7aWYocnx8Zi5kaXNjb25uZWN0ZWRNYXRjaHx8bi5kb2N1bWVudCYmMTEhPT1uLmRvY3VtZW50Lm5vZGVUeXBlKXJldHVybiByfWNhdGNoKG4pe2x0KHQsITApfXJldHVybiAwPHUodCxpLG51bGwsW25dKS5sZW5ndGh9LHUuY29udGFpbnM9ZnVuY3Rpb24obix0KXtyZXR1cm4obi5vd25lckRvY3VtZW50fHxuKSE9aSYmYihuKSxldChuLHQpfSx1LmF0dHI9ZnVuY3Rpb24obixyKXsobi5vd25lckRvY3VtZW50fHxuKSE9aSYmYihuKTt2YXIgZT10LmF0dHJIYW5kbGVbci50b0xvd2VyQ2FzZSgpXSx1PWUmJnRyLmNhbGwodC5hdHRySGFuZGxlLHIudG9Mb3dlckNhc2UoKSk/ZShuLHIsIWgpOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09dT91OmYuYXR0cmlidXRlc3x8IWg/bi5nZXRBdHRyaWJ1dGUocik6KHU9bi5nZXRBdHRyaWJ1dGVOb2RlKHIpKSYmdS5zcGVjaWZpZWQ/dS52YWx1ZTpudWxsfSx1LmVzY2FwZT1mdW5jdGlvbihuKXtyZXR1cm4obisiIikucmVwbGFjZShwaSx3aSl9LHUuZXJyb3I9ZnVuY3Rpb24obil7dGhyb3cgbmV3IEVycm9yKCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiAiK24pO30sdS51bmlxdWVTb3J0PWZ1bmN0aW9uKG4pe3ZhciByLHU9W10sdD0wLGk9MDtpZih1dD0hZi5kZXRlY3REdXBsaWNhdGVzLHc9IWYuc29ydFN0YWJsZSYmbi5zbGljZSgwKSxuLnNvcnQoZHQpLHV0KXt3aGlsZShyPW5baSsrXSlyPT09bltpXSYmKHQ9dS5wdXNoKGkpKTt3aGlsZSh0LS0pbi5zcGxpY2UodVt0XSwxKX1yZXR1cm4gdz1udWxsLG59LHN0PXUuZ2V0VGV4dD1mdW5jdGlvbihuKXt2YXIgcixpPSIiLHU9MCx0PW4ubm9kZVR5cGU7aWYodCl7aWYoMT09PXR8fDk9PT10fHwxMT09PXQpe2lmKCJzdHJpbmciPT10eXBlb2Ygbi50ZXh0Q29udGVudClyZXR1cm4gbi50ZXh0Q29udGVudDtmb3Iobj1uLmZpcnN0Q2hpbGQ7bjtuPW4ubmV4dFNpYmxpbmcpaSs9c3Qobil9ZWxzZSBpZigzPT09dHx8ND09PXQpcmV0dXJuIG4ubm9kZVZhbHVlfWVsc2Ugd2hpbGUocj1uW3UrK10paSs9c3Qocik7cmV0dXJuIGl9LCh0PXUuc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86bCxtYXRjaDp2dCxhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6eyI+Ijp7ZGlyOiJwYXJlbnROb2RlIixmaXJzdDohMH0sIiAiOntkaXI6InBhcmVudE5vZGUifSwiKyI6e2RpcjoicHJldmlvdXNTaWJsaW5nIixmaXJzdDohMH0sIn4iOntkaXI6InByZXZpb3VzU2libGluZyJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24obil7cmV0dXJuIG5bMV09blsxXS5yZXBsYWNlKHkscCksblszXT0oblszXXx8bls0XXx8bls1XXx8IiIpLnJlcGxhY2UoeSxwKSwifj0iPT09blsyXSYmKG5bM109IiAiK25bM10rIiAiKSxuLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKG4pe3JldHVybiBuWzFdPW5bMV0udG9Mb3dlckNhc2UoKSwibnRoIj09PW5bMV0uc2xpY2UoMCwzKT8oblszXXx8dS5lcnJvcihuWzBdKSxuWzRdPSsobls0XT9uWzVdKyhuWzZdfHwxKToyKigiZXZlbiI9PT1uWzNdfHwib2RkIj09PW5bM10pKSxuWzVdPSsobls3XStuWzhdfHwib2RkIj09PW5bM10pKTpuWzNdJiZ1LmVycm9yKG5bMF0pLG59LFBTRVVETzpmdW5jdGlvbihuKXt2YXIgaSx0PSFuWzZdJiZuWzJdO3JldHVybiB2dC5DSElMRC50ZXN0KG5bMF0pP251bGw6KG5bM10/blsyXT1uWzRdfHxuWzVdfHwiIjp0JiZvci50ZXN0KHQpJiYoaT1mdCh0LCEwKSkmJihpPXQuaW5kZXhPZigiKSIsdC5sZW5ndGgtaSktdC5sZW5ndGgpJiYoblswXT1uWzBdLnNsaWNlKDAsaSksblsyXT10LnNsaWNlKDAsaSkpLG4uc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihuKXt2YXIgdD1uLnJlcGxhY2UoeSxwKS50b0xvd2VyQ2FzZSgpO3JldHVybiIqIj09PW4/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24obil7cmV0dXJuIG4ubm9kZU5hbWUmJm4ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihuKXt2YXIgdD1oaVtuKyIgIl07cmV0dXJuIHR8fCh0PW5ldyBSZWdFeHAoIihefCIrcisiKSIrbisiKCIrcisifCQpIikpJiZoaShuLGZ1bmN0aW9uKG4pe3JldHVybiB0LnRlc3QoInN0cmluZyI9PXR5cGVvZiBuLmNsYXNzTmFtZSYmbi5jbGFzc05hbWV8fCJ1bmRlZmluZWQiIT10eXBlb2Ygbi5nZXRBdHRyaWJ1dGUmJm4uZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIil9KX0sQVRUUjpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBmPXUuYXR0cihyLG4pO3JldHVybiBudWxsPT1mPyIhPSI9PT10OiF0fHwoZis9IiIsIj0iPT09dD9mPT09aToiIT0iPT09dD9mIT09aToiXj0iPT09dD9pJiYwPT09Zi5pbmRleE9mKGkpOiIqPSI9PT10P2kmJi0xPGYuaW5kZXhPZihpKToiJD0iPT09dD9pJiZmLnNsaWNlKC1pLmxlbmd0aCk9PT1pOiJ+PSI9PT10Py0xPCgiICIrZi5yZXBsYWNlKHVyLCIgIikrIiAiKS5pbmRleE9mKGkpOiJ8PSI9PT10JiYoZj09PWl8fGYuc2xpY2UoMCxpLmxlbmd0aCsxKT09PWkrIi0iKSl9fSxDSElMRDpmdW5jdGlvbihuLHQsaSxyLHUpe3ZhciBzPSJudGgiIT09bi5zbGljZSgwLDMpLG89Imxhc3QiIT09bi5zbGljZSgtNCksZj0ib2YtdHlwZSI9PT10O3JldHVybiAxPT09ciYmMD09PXU/ZnVuY3Rpb24obil7cmV0dXJuISFuLnBhcmVudE5vZGV9OmZ1bmN0aW9uKHQsaSxoKXt2YXIgcCxkLHksYyxhLHcsYj1zIT09bz8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLGs9dC5wYXJlbnROb2RlLG50PWYmJnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxnPSFoJiYhZixsPSExO2lmKGspe2lmKHMpe3doaWxlKGIpe2ZvcihjPXQ7Yz1jW2JdOylpZihmP2Mubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PW50OjE9PT1jLm5vZGVUeXBlKXJldHVybiExO3c9Yj0ib25seSI9PT1uJiYhdyYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZih3PVtvP2suZmlyc3RDaGlsZDprLmxhc3RDaGlsZF0sbyYmZyl7Zm9yKGw9KGE9KHA9KGQ9KHk9KGM9aylbZV18fChjW2VdPXt9KSlbYy51bmlxdWVJRF18fCh5W2MudW5pcXVlSURdPXt9KSlbbl18fFtdKVswXT09PXYmJnBbMV0pJiZwWzJdLGM9YSYmay5jaGlsZE5vZGVzW2FdO2M9KythJiZjJiZjW2JdfHwobD1hPTApfHx3LnBvcCgpOylpZigxPT09Yy5ub2RlVHlwZSYmKytsJiZjPT09dCl7ZFtuXT1bdixhLGxdO2JyZWFrfX1lbHNlIGlmKGcmJihsPWE9KHA9KGQ9KHk9KGM9dClbZV18fChjW2VdPXt9KSlbYy51bmlxdWVJRF18fCh5W2MudW5pcXVlSURdPXt9KSlbbl18fFtdKVswXT09PXYmJnBbMV0pLCExPT09bCl3aGlsZShjPSsrYSYmYyYmY1tiXXx8KGw9YT0wKXx8dy5wb3AoKSlpZigoZj9jLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1udDoxPT09Yy5ub2RlVHlwZSkmJisrbCYmKGcmJigoZD0oeT1jW2VdfHwoY1tlXT17fSkpW2MudW5pcXVlSURdfHwoeVtjLnVuaXF1ZUlEXT17fSkpW25dPVt2LGxdKSxjPT09dCkpYnJlYWs7cmV0dXJuKGwtPXUpPT09cnx8bCVyPT0wJiYwPD1sL3J9fX0sUFNFVURPOmZ1bmN0aW9uKG4saSl7dmFyIGYscj10LnBzZXVkb3Nbbl18fHQuc2V0RmlsdGVyc1tuLnRvTG93ZXJDYXNlKCldfHx1LmVycm9yKCJ1bnN1cHBvcnRlZCBwc2V1ZG86ICIrbik7cmV0dXJuIHJbZV0/cihpKToxPHIubGVuZ3RoPyhmPVtuLG4sIiIsaV0sdC5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KG4udG9Mb3dlckNhc2UoKSk/bChmdW5jdGlvbihuLHQpe2Zvcih2YXIgZSx1PXIobixpKSxmPXUubGVuZ3RoO2YtLTspbltlPW50KG4sdVtmXSldPSEodFtlXT11W2ZdKX0pOmZ1bmN0aW9uKG4pe3JldHVybiByKG4sMCxmKX0pOnJ9fSxwc2V1ZG9zOntub3Q6bChmdW5jdGlvbihuKXt2YXIgdD1bXSxyPVtdLGk9a3Qobi5yZXBsYWNlKGF0LCIkMSIpKTtyZXR1cm4gaVtlXT9sKGZ1bmN0aW9uKG4sdCxyLHUpe2Zvcih2YXIgZSxvPWkobixudWxsLHUsW10pLGY9bi5sZW5ndGg7Zi0tOykoZT1vW2ZdKSYmKG5bZl09ISh0W2ZdPWUpKX0pOmZ1bmN0aW9uKG4sdSxmKXtyZXR1cm4gdFswXT1uLGkodCxudWxsLGYsciksdFswXT1udWxsLCFyLnBvcCgpfX0pLGhhczpsKGZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gMDx1KG4sdCkubGVuZ3RofX0pLGNvbnRhaW5zOmwoZnVuY3Rpb24obil7cmV0dXJuIG49bi5yZXBsYWNlKHkscCksZnVuY3Rpb24odCl7cmV0dXJuLTE8KHQudGV4dENvbnRlbnR8fHN0KHQpKS5pbmRleE9mKG4pfX0pLGxhbmc6bChmdW5jdGlvbihuKXtyZXR1cm4gc3IudGVzdChufHwiIil8fHUuZXJyb3IoInVuc3VwcG9ydGVkIGxhbmc6ICIrbiksbj1uLnJlcGxhY2UoeSxwKS50b0xvd2VyQ2FzZSgpLGZ1bmN0aW9uKHQpe3ZhciBpO2RvIGlmKGk9aD90Lmxhbmc6dC5nZXRBdHRyaWJ1dGUoInhtbDpsYW5nIil8fHQuZ2V0QXR0cmlidXRlKCJsYW5nIikpcmV0dXJuKGk9aS50b0xvd2VyQ2FzZSgpKT09PW58fDA9PT1pLmluZGV4T2YobisiLSIpO3doaWxlKCh0PXQucGFyZW50Tm9kZSkmJjE9PT10Lm5vZGVUeXBlKTtyZXR1cm4hMX19KSx0YXJnZXQ6ZnVuY3Rpb24odCl7dmFyIGk9bi5sb2NhdGlvbiYmbi5sb2NhdGlvbi5oYXNoO3JldHVybiBpJiZpLnNsaWNlKDEpPT09dC5pZH0scm9vdDpmdW5jdGlvbihuKXtyZXR1cm4gbj09PXN9LGZvY3VzOmZ1bmN0aW9uKG4pe3JldHVybiBuPT09aS5hY3RpdmVFbGVtZW50JiYoIWkuaGFzRm9jdXN8fGkuaGFzRm9jdXMoKSkmJiEhKG4udHlwZXx8bi5ocmVmfHx+bi50YWJJbmRleCl9LGVuYWJsZWQ6ZGkoITEpLGRpc2FibGVkOmRpKCEwKSxjaGVja2VkOmZ1bmN0aW9uKG4pe3ZhciB0PW4ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09dCYmISFuLmNoZWNrZWR8fCJvcHRpb24iPT09dCYmISFuLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihuKXtyZXR1cm4gbi5wYXJlbnROb2RlJiZuLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCwhMD09PW4uc2VsZWN0ZWR9LGVtcHR5OmZ1bmN0aW9uKG4pe2ZvcihuPW4uZmlyc3RDaGlsZDtuO249bi5uZXh0U2libGluZylpZihuLm5vZGVUeXBlPDYpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihuKXtyZXR1cm4hdC5wc2V1ZG9zLmVtcHR5KG4pfSxoZWFkZXI6ZnVuY3Rpb24obil7cmV0dXJuIGxyLnRlc3Qobi5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKG4pe3JldHVybiBjci50ZXN0KG4ubm9kZU5hbWUpfSxidXR0b246ZnVuY3Rpb24obil7dmFyIHQ9bi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT10JiYiYnV0dG9uIj09PW4udHlwZXx8ImJ1dHRvbiI9PT10fSx0ZXh0OmZ1bmN0aW9uKG4pe3ZhciB0O3JldHVybiJpbnB1dCI9PT1uLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJiJ0ZXh0Ij09PW4udHlwZSYmKG51bGw9PSh0PW4uZ2V0QXR0cmlidXRlKCJ0eXBlIikpfHwidGV4dCI9PT10LnRvTG93ZXJDYXNlKCkpfSxmaXJzdDppdChmdW5jdGlvbigpe3JldHVyblswXX0pLGxhc3Q6aXQoZnVuY3Rpb24obix0KXtyZXR1cm5bdC0xXX0pLGVxOml0KGZ1bmN0aW9uKG4sdCxpKXtyZXR1cm5baTwwP2krdDppXX0pLGV2ZW46aXQoZnVuY3Rpb24obix0KXtmb3IodmFyIGk9MDtpPHQ7aSs9MiluLnB1c2goaSk7cmV0dXJuIG59KSxvZGQ6aXQoZnVuY3Rpb24obix0KXtmb3IodmFyIGk9MTtpPHQ7aSs9MiluLnB1c2goaSk7cmV0dXJuIG59KSxsdDppdChmdW5jdGlvbihuLHQsaSl7Zm9yKHZhciByPWk8MD9pK3Q6dDxpP3Q6aTswPD0tLXI7KW4ucHVzaChyKTtyZXR1cm4gbn0pLGd0Oml0KGZ1bmN0aW9uKG4sdCxpKXtmb3IodmFyIHI9aTwwP2krdDppOysrcjx0OyluLnB1c2gocik7cmV0dXJuIG59KX19KS5wc2V1ZG9zLm50aD10LnBzZXVkb3MuZXEse3JhZGlvOiEwLGNoZWNrYm94OiEwLGZpbGU6ITAscGFzc3dvcmQ6ITAsaW1hZ2U6ITB9KXQucHNldWRvc1tydF09eXIocnQpO2ZvcihydCBpbntzdWJtaXQ6ITAscmVzZXQ6ITB9KXQucHNldWRvc1tydF09cHIocnQpO3JldHVybiBnaS5wcm90b3R5cGU9dC5maWx0ZXJzPXQucHNldWRvcyx0LnNldEZpbHRlcnM9bmV3IGdpLGZ0PXUudG9rZW5pemU9ZnVuY3Rpb24obixpKXt2YXIgZSxmLHMsbyxyLGgsYyxsPWNpW24rIiAiXTtpZihsKXJldHVybiBpPzA6bC5zbGljZSgwKTtmb3Iocj1uLGg9W10sYz10LnByZUZpbHRlcjtyOyl7Zm9yKG8gaW4gZSYmIShmPWZyLmV4ZWMocikpfHwoZiYmKHI9ci5zbGljZShmWzBdLmxlbmd0aCl8fHIpLGgucHVzaChzPVtdKSksZT0hMSwoZj15aS5leGVjKHIpKSYmKGU9Zi5zaGlmdCgpLHMucHVzaCh7dmFsdWU6ZSx0eXBlOmZbMF0ucmVwbGFjZShhdCwiICIpfSkscj1yLnNsaWNlKGUubGVuZ3RoKSksdC5maWx0ZXIpKGY9dnRbb10uZXhlYyhyKSkmJighY1tvXXx8KGY9Y1tvXShmKSkpJiYoZT1mLnNoaWZ0KCkscy5wdXNoKHt2YWx1ZTplLHR5cGU6byxtYXRjaGVzOmZ9KSxyPXIuc2xpY2UoZS5sZW5ndGgpKTtpZighZSlicmVha31yZXR1cm4gaT9yLmxlbmd0aDpyP3UuZXJyb3Iobik6Y2kobixoKS5zbGljZSgwKX0sa3Q9dS5jb21waWxlPWZ1bmN0aW9uKG4scil7dmFyIHMsYyxhLG8seSxwLHc9W10sZD1bXSxmPWxpW24rIiAiXTtpZighZil7Zm9yKHJ8fChyPWZ0KG4pKSxzPXIubGVuZ3RoO3MtLTspKGY9ZWkocltzXSkpW2VdP3cucHVzaChmKTpkLnB1c2goZik7KGY9bGkobiwoYz1kLG89MDwoYT13KS5sZW5ndGgseT0wPGMubGVuZ3RoLHA9ZnVuY3Rpb24obixyLGYsZSxzKXt2YXIgbCxudCxkLGc9MCxwPSIwIix0dD1uJiZbXSx3PVtdLGl0PWh0LHJ0PW58fHkmJnQuZmluZC5UQUcoIioiLHMpLHV0PXYrPW51bGw9PWl0PzE6TWF0aC5yYW5kb20oKXx8LjEsZnQ9cnQubGVuZ3RoO2ZvcihzJiYoaHQ9cj09aXx8cnx8cyk7cCE9PWZ0JiZudWxsIT0obD1ydFtwXSk7cCsrKXtpZih5JiZsKXtmb3IobnQ9MCxyfHxsLm93bmVyRG9jdW1lbnQ9PWl8fChiKGwpLGY9IWgpO2Q9Y1tudCsrXTspaWYoZChsLHJ8fGksZikpe2UucHVzaChsKTticmVha31zJiYodj11dCl9byYmKChsPSFkJiZsKSYmZy0tLG4mJnR0LnB1c2gobCkpfWlmKGcrPXAsbyYmcCE9PWcpe2ZvcihudD0wO2Q9YVtudCsrXTspZCh0dCx3LHIsZik7aWYobil7aWYoMDxnKXdoaWxlKHAtLSl0dFtwXXx8d1twXXx8KHdbcF09aXIuY2FsbChlKSk7dz1idCh3KX1rLmFwcGx5KGUsdyk7cyYmIW4mJjA8dy5sZW5ndGgmJjE8ZythLmxlbmd0aCYmdS51bmlxdWVTb3J0KGUpfXJldHVybiBzJiYodj11dCxodD1pdCksdHR9LG8/bChwKTpwKSkpLnNlbGVjdG9yPW59cmV0dXJuIGZ9LHNpPXUuc2VsZWN0PWZ1bmN0aW9uKG4saSxyLHUpe3ZhciBvLGYsZSxsLGEsYz0iZnVuY3Rpb24iPT10eXBlb2YgbiYmbixzPSF1JiZmdChuPWMuc2VsZWN0b3J8fG4pO2lmKHI9cnx8W10sMT09PXMubGVuZ3RoKXtpZigyPChmPXNbMF09c1swXS5zbGljZSgwKSkubGVuZ3RoJiYiSUQiPT09KGU9ZlswXSkudHlwZSYmOT09PWkubm9kZVR5cGUmJmgmJnQucmVsYXRpdmVbZlsxXS50eXBlXSl7aWYoIShpPSh0LmZpbmQuSUQoZS5tYXRjaGVzWzBdLnJlcGxhY2UoeSxwKSxpKXx8W10pWzBdKSlyZXR1cm4gcjtjJiYoaT1pLnBhcmVudE5vZGUpO249bi5zbGljZShmLnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1mb3Iobz12dC5uZWVkc0NvbnRleHQudGVzdChuKT8wOmYubGVuZ3RoO28tLTspe2lmKGU9ZltvXSx0LnJlbGF0aXZlW2w9ZS50eXBlXSlicmVhaztpZigoYT10LmZpbmRbbF0pJiYodT1hKGUubWF0Y2hlc1swXS5yZXBsYWNlKHkscCksdGkudGVzdChmWzBdLnR5cGUpJiZyaShpLnBhcmVudE5vZGUpfHxpKSkpe2lmKGYuc3BsaWNlKG8sMSksIShuPXUubGVuZ3RoJiZwdChmKSkpcmV0dXJuIGsuYXBwbHkocix1KSxyO2JyZWFrfX19cmV0dXJuKGN8fGt0KG4scykpKHUsaSwhaCxyLCFpfHx0aS50ZXN0KG4pJiZyaShpLnBhcmVudE5vZGUpfHxpKSxyfSxmLnNvcnRTdGFibGU9ZS5zcGxpdCgiIikuc29ydChkdCkuam9pbigiIik9PT1lLGYuZGV0ZWN0RHVwbGljYXRlcz0hIXV0LGIoKSxmLnNvcnREZXRhY2hlZD1hKGZ1bmN0aW9uKG4pe3JldHVybiAxJm4uY29tcGFyZURvY3VtZW50UG9zaXRpb24oaS5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpKX0pLGEoZnVuY3Rpb24obil7cmV0dXJuIG4uaW5uZXJIVE1MPSI8YSBocmVmPScjJz48XC9hPiIsIiMiPT09bi5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpfSl8fGlpKCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoIixmdW5jdGlvbihuLHQsaSl7aWYoIWkpcmV0dXJuIG4uZ2V0QXR0cmlidXRlKHQsInR5cGUiPT09dC50b0xvd2VyQ2FzZSgpPzE6Mil9KSxmLmF0dHJpYnV0ZXMmJmEoZnVuY3Rpb24obil7cmV0dXJuIG4uaW5uZXJIVE1MPSI8aW5wdXQvPiIsbi5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIiKSwiIj09PW4uZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoInZhbHVlIil9KXx8aWkoInZhbHVlIixmdW5jdGlvbihuLHQsaSl7aWYoIWkmJiJpbnB1dCI9PT1uLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpcmV0dXJuIG4uZGVmYXVsdFZhbHVlfSksYShmdW5jdGlvbihuKXtyZXR1cm4gbnVsbD09bi5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIil9KXx8aWkoZ3QsZnVuY3Rpb24obix0LGkpe3ZhciByO2lmKCFpKXJldHVybiEwPT09blt0XT90LnRvTG93ZXJDYXNlKCk6KHI9bi5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSksdX0obik7aS5maW5kPWQ7aS5leHByPWQuc2VsZWN0b3JzO2kuZXhwclsiOiJdPWkuZXhwci5wc2V1ZG9zO2kudW5pcXVlU29ydD1pLnVuaXF1ZT1kLnVuaXF1ZVNvcnQ7aS50ZXh0PWQuZ2V0VGV4dDtpLmlzWE1MRG9jPWQuaXNYTUw7aS5jb250YWlucz1kLmNvbnRhaW5zO2kuZXNjYXBlU2VsZWN0b3I9ZC5lc2NhcGU7dmFyIGZ0PWZ1bmN0aW9uKG4sdCxyKXtmb3IodmFyIHU9W10sZj12b2lkIDAhPT1yOyhuPW5bdF0pJiY5IT09bi5ub2RlVHlwZTspaWYoMT09PW4ubm9kZVR5cGUpe2lmKGYmJmkobikuaXMocikpYnJlYWs7dS5wdXNoKG4pfXJldHVybiB1fSxkcj1mdW5jdGlvbihuLHQpe2Zvcih2YXIgaT1bXTtuO249bi5uZXh0U2libGluZykxPT09bi5ub2RlVHlwZSYmbiE9PXQmJmkucHVzaChuKTtyZXR1cm4gaX0sZ3I9aS5leHByLm1hdGNoLm5lZWRzQ29udGV4dDt3aT0vXjwoW2Etel1bXlwvXDA+Olx4MjBcdFxyXG5cZl0qKVtceDIwXHRcclxuXGZdKlwvPz4oPzo8XC9cMT58KSQvaTtpLmZpbHRlcj1mdW5jdGlvbihuLHQscil7dmFyIHU9dFswXTtyZXR1cm4gciYmKG49Ijpub3QoIituKyIpIiksMT09PXQubGVuZ3RoJiYxPT09dS5ub2RlVHlwZT9pLmZpbmQubWF0Y2hlc1NlbGVjdG9yKHUsbik/W3VdOltdOmkuZmluZC5tYXRjaGVzKG4saS5ncmVwKHQsZnVuY3Rpb24obil7cmV0dXJuIDE9PT1uLm5vZGVUeXBlfSkpfTtpLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihuKXt2YXIgdCxyLHU9dGhpcy5sZW5ndGgsZj10aGlzO2lmKCJzdHJpbmciIT10eXBlb2YgbilyZXR1cm4gdGhpcy5wdXNoU3RhY2soaShuKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodD0wO3Q8dTt0KyspaWYoaS5jb250YWlucyhmW3RdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihyPXRoaXMucHVzaFN0YWNrKFtdKSx0PTA7dDx1O3QrKylpLmZpbmQobixmW3RdLHIpO3JldHVybiAxPHU/aS51bmlxdWVTb3J0KHIpOnJ9LGZpbHRlcjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soYmkodGhpcyxufHxbXSwhMSkpfSxub3Q6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGJpKHRoaXMsbnx8W10sITApKX0saXM6ZnVuY3Rpb24obil7cmV0dXJuISFiaSh0aGlzLCJzdHJpbmciPT10eXBlb2YgbiYmZ3IudGVzdChuKT9pKG4pOm58fFtdLCExKS5sZW5ndGh9fSk7dHU9L14oPzpccyooPFtcd1xXXSs+KVtePl0qfCMoW1x3LV0rKSkkLzsoaS5mbi5pbml0PWZ1bmN0aW9uKG4sdCxyKXt2YXIgZSxvO2lmKCFuKXJldHVybiB0aGlzO2lmKHI9cnx8bnUsInN0cmluZyI9PXR5cGVvZiBuKXtpZighKGU9IjwiPT09blswXSYmIj4iPT09bltuLmxlbmd0aC0xXSYmMzw9bi5sZW5ndGg/W251bGwsbixudWxsXTp0dS5leGVjKG4pKXx8IWVbMV0mJnQpcmV0dXJuIXR8fHQuanF1ZXJ5Pyh0fHxyKS5maW5kKG4pOnRoaXMuY29uc3RydWN0b3IodCkuZmluZChuKTtpZihlWzFdKXtpZih0PXQgaW5zdGFuY2VvZiBpP3RbMF06dCxpLm1lcmdlKHRoaXMsaS5wYXJzZUhUTUwoZVsxXSx0JiZ0Lm5vZGVUeXBlP3Qub3duZXJEb2N1bWVudHx8dDpmLCEwKSksd2kudGVzdChlWzFdKSYmaS5pc1BsYWluT2JqZWN0KHQpKWZvcihlIGluIHQpdSh0aGlzW2VdKT90aGlzW2VdKHRbZV0pOnRoaXMuYXR0cihlLHRbZV0pO3JldHVybiB0aGlzfXJldHVybihvPWYuZ2V0RWxlbWVudEJ5SWQoZVsyXSkpJiYodGhpc1swXT1vLHRoaXMubGVuZ3RoPTEpLHRoaXN9cmV0dXJuIG4ubm9kZVR5cGU/KHRoaXNbMF09bix0aGlzLmxlbmd0aD0xLHRoaXMpOnUobik/dm9pZCAwIT09ci5yZWFkeT9yLnJlYWR5KG4pOm4oaSk6aS5tYWtlQXJyYXkobix0aGlzKX0pLnByb3RvdHlwZT1pLmZuO251PWkoZik7aXU9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS87cnU9e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07aS5mbi5leHRlbmQoe2hhczpmdW5jdGlvbihuKXt2YXIgdD1pKG4sdGhpcykscj10Lmxlbmd0aDtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodmFyIG49MDtuPHI7bisrKWlmKGkuY29udGFpbnModGhpcyx0W25dKSlyZXR1cm4hMH0pfSxjbG9zZXN0OmZ1bmN0aW9uKG4sdCl7dmFyIHIsZj0wLG89dGhpcy5sZW5ndGgsdT1bXSxlPSJzdHJpbmciIT10eXBlb2YgbiYmaShuKTtpZighZ3IudGVzdChuKSlmb3IoO2Y8bztmKyspZm9yKHI9dGhpc1tmXTtyJiZyIT09dDtyPXIucGFyZW50Tm9kZSlpZihyLm5vZGVUeXBlPDExJiYoZT8tMTxlLmluZGV4KHIpOjE9PT1yLm5vZGVUeXBlJiZpLmZpbmQubWF0Y2hlc1NlbGVjdG9yKHIsbikpKXt1LnB1c2gocik7YnJlYWt9cmV0dXJuIHRoaXMucHVzaFN0YWNrKDE8dS5sZW5ndGg/aS51bmlxdWVTb3J0KHUpOnUpfSxpbmRleDpmdW5jdGlvbihuKXtyZXR1cm4gbj8ic3RyaW5nIj09dHlwZW9mIG4/aWkuY2FsbChpKG4pLHRoaXNbMF0pOmlpLmNhbGwodGhpcyxuLmpxdWVyeT9uWzBdOm4pOnRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aDotMX0sYWRkOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGkudW5pcXVlU29ydChpLm1lcmdlKHRoaXMuZ2V0KCksaShuLHQpKSkpfSxhZGRCYWNrOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmFkZChudWxsPT1uP3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKG4pKX19KTtpLmVhY2goe3BhcmVudDpmdW5jdGlvbihuKXt2YXIgdD1uLnBhcmVudE5vZGU7cmV0dXJuIHQmJjExIT09dC5ub2RlVHlwZT90Om51bGx9LHBhcmVudHM6ZnVuY3Rpb24obil7cmV0dXJuIGZ0KG4sInBhcmVudE5vZGUiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gZnQobiwicGFyZW50Tm9kZSIsaSl9LG5leHQ6ZnVuY3Rpb24obil7cmV0dXJuIHV1KG4sIm5leHRTaWJsaW5nIil9LHByZXY6ZnVuY3Rpb24obil7cmV0dXJuIHV1KG4sInByZXZpb3VzU2libGluZyIpfSxuZXh0QWxsOmZ1bmN0aW9uKG4pe3JldHVybiBmdChuLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKG4pe3JldHVybiBmdChuLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dFVudGlsOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gZnQobiwibmV4dFNpYmxpbmciLGkpfSxwcmV2VW50aWw6ZnVuY3Rpb24obix0LGkpe3JldHVybiBmdChuLCJwcmV2aW91c1NpYmxpbmciLGkpfSxzaWJsaW5nczpmdW5jdGlvbihuKXtyZXR1cm4gZHIoKG4ucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsbil9LGNoaWxkcmVuOmZ1bmN0aW9uKG4pe3JldHVybiBkcihuLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihuKXtyZXR1cm4gbnVsbCE9bi5jb250ZW50RG9jdW1lbnQmJnZyKG4uY29udGVudERvY3VtZW50KT9uLmNvbnRlbnREb2N1bWVudDooYyhuLCJ0ZW1wbGF0ZSIpJiYobj1uLmNvbnRlbnR8fG4pLGkubWVyZ2UoW10sbi5jaGlsZE5vZGVzKSl9fSxmdW5jdGlvbihuLHQpe2kuZm5bbl09ZnVuY3Rpb24ocix1KXt2YXIgZj1pLm1hcCh0aGlzLHQscik7cmV0dXJuIlVudGlsIiE9PW4uc2xpY2UoLTUpJiYodT1yKSx1JiYic3RyaW5nIj09dHlwZW9mIHUmJihmPWkuZmlsdGVyKHUsZikpLDE8dGhpcy5sZW5ndGgmJihydVtuXXx8aS51bmlxdWVTb3J0KGYpLGl1LnRlc3QobikmJmYucmV2ZXJzZSgpKSx0aGlzLnB1c2hTdGFjayhmKX19KTtsPS9bXlx4MjBcdFxyXG5cZl0rL2c7aS5DYWxsYmFja3M9ZnVuY3Rpb24obil7dmFyIGEsaDtuPSJzdHJpbmciPT10eXBlb2Ygbj8oYT1uLGg9e30saS5lYWNoKGEubWF0Y2gobCl8fFtdLGZ1bmN0aW9uKG4sdCl7aFt0XT0hMH0pLGgpOmkuZXh0ZW5kKHt9LG4pO3ZhciBvLHIsdixmLHQ9W10scz1bXSxlPS0xLHk9ZnVuY3Rpb24oKXtmb3IoZj1mfHxuLm9uY2Usdj1vPSEwO3MubGVuZ3RoO2U9LTEpZm9yKHI9cy5zaGlmdCgpOysrZTx0Lmxlbmd0aDspITE9PT10W2VdLmFwcGx5KHJbMF0sclsxXSkmJm4uc3RvcE9uRmFsc2UmJihlPXQubGVuZ3RoLHI9ITEpO24ubWVtb3J5fHwocj0hMSk7bz0hMTtmJiYodD1yP1tdOiIiKX0sYz17YWRkOmZ1bmN0aW9uKCl7cmV0dXJuIHQmJihyJiYhbyYmKGU9dC5sZW5ndGgtMSxzLnB1c2gocikpLGZ1bmN0aW9uIGYocil7aS5lYWNoKHIsZnVuY3Rpb24oaSxyKXt1KHIpP24udW5pcXVlJiZjLmhhcyhyKXx8dC5wdXNoKHIpOnImJnIubGVuZ3RoJiYic3RyaW5nIiE9PXV0KHIpJiZmKHIpfSl9KGFyZ3VtZW50cyksciYmIW8mJnkoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIGkuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24obixyKXtmb3IodmFyIHU7LTE8KHU9aS5pbkFycmF5KHIsdCx1KSk7KXQuc3BsaWNlKHUsMSksdTw9ZSYmZS0tfSksdGhpc30saGFzOmZ1bmN0aW9uKG4pe3JldHVybiBuPy0xPGkuaW5BcnJheShuLHQpOjA8dC5sZW5ndGh9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIHQmJih0PVtdKSx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGY9cz1bXSx0PXI9IiIsdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hdH0sbG9jazpmdW5jdGlvbigpe3JldHVybiBmPXM9W10scnx8b3x8KHQ9cj0iIiksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuISFmfSxmaXJlV2l0aDpmdW5jdGlvbihuLHQpe3JldHVybiBmfHwodD1bbiwodD10fHxbXSkuc2xpY2U/dC5zbGljZSgpOnRdLHMucHVzaCh0KSxvfHx5KCkpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gYy5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXZ9fTtyZXR1cm4gY307aS5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKHQpe3ZhciBmPVtbIm5vdGlmeSIsInByb2dyZXNzIixpLkNhbGxiYWNrcygibWVtb3J5IiksaS5DYWxsYmFja3MoIm1lbW9yeSIpLDJdLFsicmVzb2x2ZSIsImRvbmUiLGkuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLGkuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLDAsInJlc29sdmVkIl0sWyJyZWplY3QiLCJmYWlsIixpLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxpLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwxLCJyZWplY3RlZCJdXSxvPSJwZW5kaW5nIixlPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBvfSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gci5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LCJjYXRjaCI6ZnVuY3Rpb24obil7cmV0dXJuIGUudGhlbihudWxsLG4pfSxwaXBlOmZ1bmN0aW9uKCl7dmFyIG49YXJndW1lbnRzO3JldHVybiBpLkRlZmVycmVkKGZ1bmN0aW9uKHQpe2kuZWFjaChmLGZ1bmN0aW9uKGksZil7dmFyIGU9dShuW2ZbNF1dKSYmbltmWzRdXTtyW2ZbMV1dKGZ1bmN0aW9uKCl7dmFyIG49ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7biYmdShuLnByb21pc2UpP24ucHJvbWlzZSgpLnByb2dyZXNzKHQubm90aWZ5KS5kb25lKHQucmVzb2x2ZSkuZmFpbCh0LnJlamVjdCk6dFtmWzBdKyJXaXRoIl0odGhpcyxlP1tuXTphcmd1bWVudHMpfSl9KTtuPW51bGx9KS5wcm9taXNlKCl9LHRoZW46ZnVuY3Rpb24odCxyLGUpe2Z1bmN0aW9uIHModCxyLGYsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGg9dGhpcyxjPWFyZ3VtZW50cyxsPWZ1bmN0aW9uKCl7dmFyIG4saTtpZighKHQ8bykpe2lmKChuPWYuYXBwbHkoaCxjKSk9PT1yLnByb21pc2UoKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb24iKTtpPW4mJigib2JqZWN0Ij09dHlwZW9mIG58fCJmdW5jdGlvbiI9PXR5cGVvZiBuKSYmbi50aGVuO3UoaSk/ZT9pLmNhbGwobixzKG8scixldCxlKSxzKG8scixmaSxlKSk6KG8rKyxpLmNhbGwobixzKG8scixldCxlKSxzKG8scixmaSxlKSxzKG8scixldCxyLm5vdGlmeVdpdGgpKSk6KGYhPT1ldCYmKGg9dm9pZCAwLGM9W25dKSwoZXx8ci5yZXNvbHZlV2l0aCkoaCxjKSl9fSxhPWU/bDpmdW5jdGlvbigpe3RyeXtsKCl9Y2F0Y2gobCl7aS5EZWZlcnJlZC5leGNlcHRpb25Ib29rJiZpLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2sobCxhLnN0YWNrVHJhY2UpO288PXQrMSYmKGYhPT1maSYmKGg9dm9pZCAwLGM9W2xdKSxyLnJlamVjdFdpdGgoaCxjKSl9fTt0P2EoKTooaS5EZWZlcnJlZC5nZXRTdGFja0hvb2smJihhLnN0YWNrVHJhY2U9aS5EZWZlcnJlZC5nZXRTdGFja0hvb2soKSksbi5zZXRUaW1lb3V0KGEpKX19dmFyIG89MDtyZXR1cm4gaS5EZWZlcnJlZChmdW5jdGlvbihuKXtmWzBdWzNdLmFkZChzKDAsbix1KGUpP2U6ZXQsbi5ub3RpZnlXaXRoKSk7ZlsxXVszXS5hZGQocygwLG4sdSh0KT90OmV0KSk7ZlsyXVszXS5hZGQocygwLG4sdShyKT9yOmZpKSl9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24obil7cmV0dXJuIG51bGwhPW4/aS5leHRlbmQobixlKTplfX0scj17fTtyZXR1cm4gaS5lYWNoKGYsZnVuY3Rpb24obix0KXt2YXIgaT10WzJdLHU9dFs1XTtlW3RbMV1dPWkuYWRkO3UmJmkuYWRkKGZ1bmN0aW9uKCl7bz11fSxmWzMtbl1bMl0uZGlzYWJsZSxmWzMtbl1bM10uZGlzYWJsZSxmWzBdWzJdLmxvY2ssZlswXVszXS5sb2NrKTtpLmFkZCh0WzNdLmZpcmUpO3JbdFswXV09ZnVuY3Rpb24oKXtyZXR1cm4gclt0WzBdKyJXaXRoIl0odGhpcz09PXI/dm9pZCAwOnRoaXMsYXJndW1lbnRzKSx0aGlzfTtyW3RbMF0rIldpdGgiXT1pLmZpcmVXaXRofSksZS5wcm9taXNlKHIpLHQmJnQuY2FsbChyLHIpLHJ9LHdoZW46ZnVuY3Rpb24obil7dmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PWUsbz1BcnJheSh0KSxmPWsuY2FsbChhcmd1bWVudHMpLHI9aS5EZWZlcnJlZCgpLHM9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHQpe29bbl09dGhpcztmW25dPTE8YXJndW1lbnRzLmxlbmd0aD9rLmNhbGwoYXJndW1lbnRzKTp0Oy0tZXx8ci5yZXNvbHZlV2l0aChvLGYpfX07aWYoZTw9MSYmKGZ1KG4sci5kb25lKHModCkpLnJlc29sdmUsci5yZWplY3QsIWUpLCJwZW5kaW5nIj09PXIuc3RhdGUoKXx8dShmW3RdJiZmW3RdLnRoZW4pKSlyZXR1cm4gci50aGVuKCk7d2hpbGUodC0tKWZ1KGZbdF0scyh0KSxyLnJlamVjdCk7cmV0dXJuIHIucHJvbWlzZSgpfX0pO2V1PS9eKEV2YWx8SW50ZXJuYWx8UmFuZ2V8UmVmZXJlbmNlfFN5bnRheHxUeXBlfFVSSSlFcnJvciQvO2kuRGVmZXJyZWQuZXhjZXB0aW9uSG9vaz1mdW5jdGlvbih0LGkpe24uY29uc29sZSYmbi5jb25zb2xlLndhcm4mJnQmJmV1LnRlc3QodC5uYW1lKSYmbi5jb25zb2xlLndhcm4oImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246ICIrdC5tZXNzYWdlLHQuc3RhY2ssaSl9O2kucmVhZHlFeGNlcHRpb249ZnVuY3Rpb24odCl7bi5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgdDt9KX07ZWk9aS5EZWZlcnJlZCgpO2kuZm4ucmVhZHk9ZnVuY3Rpb24obil7cmV0dXJuIGVpLnRoZW4obilbImNhdGNoIl0oZnVuY3Rpb24obil7aS5yZWFkeUV4Y2VwdGlvbihuKX0pLHRoaXN9O2kuZXh0ZW5kKHtpc1JlYWR5OiExLHJlYWR5V2FpdDoxLHJlYWR5OmZ1bmN0aW9uKG4peyghMD09PW4/LS1pLnJlYWR5V2FpdDppLmlzUmVhZHkpfHwoaS5pc1JlYWR5PSEwKSE9PW4mJjA8LS1pLnJlYWR5V2FpdHx8ZWkucmVzb2x2ZVdpdGgoZixbaV0pfX0pO2kucmVhZHkudGhlbj1laS50aGVuOyJjb21wbGV0ZSI9PT1mLnJlYWR5U3RhdGV8fCJsb2FkaW5nIiE9PWYucmVhZHlTdGF0ZSYmIWYuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsP24uc2V0VGltZW91dChpLnJlYWR5KTooZi5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixvaSksbi5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixvaSkpO3ZhciB3PWZ1bmN0aW9uKG4sdCxyLGYsZSxvLHMpe3ZhciBoPTAsbD1uLmxlbmd0aCxjPW51bGw9PXI7aWYoIm9iamVjdCI9PT11dChyKSlmb3IoaCBpbiBlPSEwLHIpdyhuLHQsaCxyW2hdLCEwLG8scyk7ZWxzZSBpZih2b2lkIDAhPT1mJiYoZT0hMCx1KGYpfHwocz0hMCksYyYmKHM/KHQuY2FsbChuLGYpLHQ9bnVsbCk6KGM9dCx0PWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gYy5jYWxsKGkobikscil9KSksdCkpZm9yKDtoPGw7aCsrKXQobltoXSxyLHM/ZjpmLmNhbGwobltoXSxoLHQobltoXSxyKSkpO3JldHVybiBlP246Yz90LmNhbGwobik6bD90KG5bMF0scik6b30saGU9L14tbXMtLyxjZT0vLShbYS16XSkvZztvdD1mdW5jdGlvbihuKXtyZXR1cm4gMT09PW4ubm9kZVR5cGV8fDk9PT1uLm5vZGVUeXBlfHwhK24ubm9kZVR5cGV9O2J0LnVpZD0xO2J0LnByb3RvdHlwZT17Y2FjaGU6ZnVuY3Rpb24obil7dmFyIHQ9blt0aGlzLmV4cGFuZG9dO3JldHVybiB0fHwodD17fSxvdChuKSYmKG4ubm9kZVR5cGU/blt0aGlzLmV4cGFuZG9dPXQ6T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sdGhpcy5leHBhbmRvLHt2YWx1ZTp0LGNvbmZpZ3VyYWJsZTohMH0pKSksdH0sc2V0OmZ1bmN0aW9uKG4sdCxpKXt2YXIgcix1PXRoaXMuY2FjaGUobik7aWYoInN0cmluZyI9PXR5cGVvZiB0KXVbeSh0KV09aTtlbHNlIGZvcihyIGluIHQpdVt5KHIpXT10W3JdO3JldHVybiB1fSxnZXQ6ZnVuY3Rpb24obix0KXtyZXR1cm4gdm9pZCAwPT09dD90aGlzLmNhY2hlKG4pOm5bdGhpcy5leHBhbmRvXSYmblt0aGlzLmV4cGFuZG9dW3kodCldfSxhY2Nlc3M6ZnVuY3Rpb24obix0LGkpe3JldHVybiB2b2lkIDA9PT10fHx0JiYic3RyaW5nIj09dHlwZW9mIHQmJnZvaWQgMD09PWk/dGhpcy5nZXQobix0KToodGhpcy5zZXQobix0LGkpLHZvaWQgMCE9PWk/aTp0KX0scmVtb3ZlOmZ1bmN0aW9uKG4sdCl7dmFyIHUscj1uW3RoaXMuZXhwYW5kb107aWYodm9pZCAwIT09cil7aWYodm9pZCAwIT09dClmb3IodT0odD1BcnJheS5pc0FycmF5KHQpP3QubWFwKHkpOih0PXkodCkpaW4gcj9bdF06dC5tYXRjaChsKXx8W10pLmxlbmd0aDt1LS07KWRlbGV0ZSByW3RbdV1dOyh2b2lkIDA9PT10fHxpLmlzRW1wdHlPYmplY3QocikpJiYobi5ub2RlVHlwZT9uW3RoaXMuZXhwYW5kb109dm9pZCAwOmRlbGV0ZSBuW3RoaXMuZXhwYW5kb10pfX0saGFzRGF0YTpmdW5jdGlvbihuKXt2YXIgdD1uW3RoaXMuZXhwYW5kb107cmV0dXJuIHZvaWQgMCE9PXQmJiFpLmlzRW1wdHlPYmplY3QodCl9fTt2YXIgcj1uZXcgYnQsbz1uZXcgYnQsYWU9L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyx2ZT0vW0EtWl0vZztpLmV4dGVuZCh7aGFzRGF0YTpmdW5jdGlvbihuKXtyZXR1cm4gby5oYXNEYXRhKG4pfHxyLmhhc0RhdGEobil9LGRhdGE6ZnVuY3Rpb24obix0LGkpe3JldHVybiBvLmFjY2VzcyhuLHQsaSl9LHJlbW92ZURhdGE6ZnVuY3Rpb24obix0KXtvLnJlbW92ZShuLHQpfSxfZGF0YTpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIHIuYWNjZXNzKG4sdCxpKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24obix0KXtyLnJlbW92ZShuLHQpfX0pO2kuZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKG4sdCl7dmFyIGYsdSxlLGk9dGhpc1swXSxzPWkmJmkuYXR0cmlidXRlcztpZih2b2lkIDA9PT1uKXtpZih0aGlzLmxlbmd0aCYmKGU9by5nZXQoaSksMT09PWkubm9kZVR5cGUmJiFyLmdldChpLCJoYXNEYXRhQXR0cnMiKSkpe2ZvcihmPXMubGVuZ3RoO2YtLTspc1tmXSYmMD09PSh1PXNbZl0ubmFtZSkuaW5kZXhPZigiZGF0YS0iKSYmKHU9eSh1LnNsaWNlKDUpKSxvdShpLHUsZVt1XSkpO3Iuc2V0KGksImhhc0RhdGFBdHRycyIsITApfXJldHVybiBlfXJldHVybiJvYmplY3QiPT10eXBlb2Ygbj90aGlzLmVhY2goZnVuY3Rpb24oKXtvLnNldCh0aGlzLG4pfSk6dyh0aGlzLGZ1bmN0aW9uKHQpe3ZhciByO2lmKGkmJnZvaWQgMD09PXQpcmV0dXJuIHZvaWQgMCE9PShyPW8uZ2V0KGksbikpP3I6dm9pZCAwIT09KHI9b3UoaSxuKSk/cjp2b2lkIDA7dGhpcy5lYWNoKGZ1bmN0aW9uKCl7by5zZXQodGhpcyxuLHQpfSl9LG51bGwsdCwxPGFyZ3VtZW50cy5sZW5ndGgsbnVsbCwhMCl9LHJlbW92ZURhdGE6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe28ucmVtb3ZlKHRoaXMsbil9KX19KTtpLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24obix0LHUpe3ZhciBmO2lmKG4pcmV0dXJuIHQ9KHR8fCJmeCIpKyJxdWV1ZSIsZj1yLmdldChuLHQpLHUmJighZnx8QXJyYXkuaXNBcnJheSh1KT9mPXIuYWNjZXNzKG4sdCxpLm1ha2VBcnJheSh1KSk6Zi5wdXNoKHUpKSxmfHxbXX0sZGVxdWV1ZTpmdW5jdGlvbihuLHQpe3Q9dHx8ImZ4Ijt2YXIgcj1pLnF1ZXVlKG4sdCksZT1yLmxlbmd0aCx1PXIuc2hpZnQoKSxmPWkuX3F1ZXVlSG9va3Mobix0KTsiaW5wcm9ncmVzcyI9PT11JiYodT1yLnNoaWZ0KCksZS0tKTt1JiYoImZ4Ij09PXQmJnIudW5zaGlmdCgiaW5wcm9ncmVzcyIpLGRlbGV0ZSBmLnN0b3AsdS5jYWxsKG4sZnVuY3Rpb24oKXtpLmRlcXVldWUobix0KX0sZikpOyFlJiZmJiZmLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24obix0KXt2YXIgdT10KyJxdWV1ZUhvb2tzIjtyZXR1cm4gci5nZXQobix1KXx8ci5hY2Nlc3Mobix1LHtlbXB0eTppLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKS5hZGQoZnVuY3Rpb24oKXtyLnJlbW92ZShuLFt0KyJxdWV1ZSIsdV0pfSl9KX19KTtpLmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24obix0KXt2YXIgcj0yO3JldHVybiJzdHJpbmciIT10eXBlb2YgbiYmKHQ9bixuPSJmeCIsci0tKSxhcmd1bWVudHMubGVuZ3RoPHI/aS5xdWV1ZSh0aGlzWzBdLG4pOnZvaWQgMD09PXQ/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgcj1pLnF1ZXVlKHRoaXMsbix0KTtpLl9xdWV1ZUhvb2tzKHRoaXMsbik7ImZ4Ij09PW4mJiJpbnByb2dyZXNzIiE9PXJbMF0mJmkuZGVxdWV1ZSh0aGlzLG4pfSl9LGRlcXVldWU6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2kuZGVxdWV1ZSh0aGlzLG4pfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucXVldWUobnx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24obix0KXt2YXIgdSxlPTEsbz1pLkRlZmVycmVkKCksZj10aGlzLHM9dGhpcy5sZW5ndGgsaD1mdW5jdGlvbigpey0tZXx8by5yZXNvbHZlV2l0aChmLFtmXSl9O2Zvcigic3RyaW5nIiE9dHlwZW9mIG4mJih0PW4sbj12b2lkIDApLG49bnx8ImZ4IjtzLS07KSh1PXIuZ2V0KGZbc10sbisicXVldWVIb29rcyIpKSYmdS5lbXB0eSYmKGUrKyx1LmVtcHR5LmFkZChoKSk7cmV0dXJuIGgoKSxvLnByb21pc2UodCl9fSk7dmFyIHN1PS9bKy1dPyg/OlxkKlwufClcZCsoPzpbZUVdWystXT9cZCt8KS8uc291cmNlLGt0PW5ldyBSZWdFeHAoIl4oPzooWystXSk9fCkoIitzdSsiKShbYS16JV0qKSQiLCJpIiksYj1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLGc9Zi5kb2N1bWVudEVsZW1lbnQsc3Q9ZnVuY3Rpb24obil7cmV0dXJuIGkuY29udGFpbnMobi5vd25lckRvY3VtZW50LG4pfSx5ZT17Y29tcG9zZWQ6ITB9O2cuZ2V0Um9vdE5vZGUmJihzdD1mdW5jdGlvbihuKXtyZXR1cm4gaS5jb250YWlucyhuLm93bmVyRG9jdW1lbnQsbil8fG4uZ2V0Um9vdE5vZGUoeWUpPT09bi5vd25lckRvY3VtZW50fSk7ZHQ9ZnVuY3Rpb24obix0KXtyZXR1cm4ibm9uZSI9PT0obj10fHxuKS5zdHlsZS5kaXNwbGF5fHwiIj09PW4uc3R5bGUuZGlzcGxheSYmc3QobikmJiJub25lIj09PWkuY3NzKG4sImRpc3BsYXkiKX07a2k9e307aS5mbi5leHRlbmQoe3Nob3c6ZnVuY3Rpb24oKXtyZXR1cm4gaHQodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gaHQodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihuKXtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBuP24/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZHQodGhpcyk/aSh0aGlzKS5zaG93KCk6aSh0aGlzKS5oaWRlKCl9KX19KTt2YXIgbnQsc2ksZ3Q9L14oPzpjaGVja2JveHxyYWRpbykkL2ksY3U9LzwoW2Etel1bXlwvXDA+XHgyMFx0XHJcblxmXSopL2ksbHU9L14kfF5tb2R1bGUkfFwvKD86amF2YXxlY21hKXNjcmlwdC9pO250PWYuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLmFwcGVuZENoaWxkKGYuY3JlYXRlRWxlbWVudCgiZGl2IikpOyhzaT1mLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnNldEF0dHJpYnV0ZSgidHlwZSIsInJhZGlvIik7c2kuc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpO3NpLnNldEF0dHJpYnV0ZSgibmFtZSIsInQiKTtudC5hcHBlbmRDaGlsZChzaSk7ZS5jaGVja0Nsb25lPW50LmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZDtudC5pbm5lckhUTUw9Ijx0ZXh0YXJlYT54PFwvdGV4dGFyZWE+IjtlLm5vQ2xvbmVDaGVja2VkPSEhbnQuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlO250LmlubmVySFRNTD0iPG9wdGlvbj48XC9vcHRpb24+IjtlLm9wdGlvbj0hIW50Lmxhc3RDaGlsZDtoPXt0aGVhZDpbMSwiPHRhYmxlPiIsIjxcL3RhYmxlPiJdLGNvbDpbMiwiPHRhYmxlPjxjb2xncm91cD4iLCI8XC9jb2xncm91cD48XC90YWJsZT4iXSx0cjpbMiwiPHRhYmxlPjx0Ym9keT4iLCI8XC90Ym9keT48XC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPFwvdHI+PFwvdGJvZHk+PFwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtoLnRib2R5PWgudGZvb3Q9aC5jb2xncm91cD1oLmNhcHRpb249aC50aGVhZDtoLnRoPWgudGQ7ZS5vcHRpb258fChoLm9wdGdyb3VwPWgub3B0aW9uPVsxLCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+IiwiPFwvc2VsZWN0PiJdKTthdT0vPHwmIz9cdys7Lzt2YXIgcGU9L15rZXkvLHdlPS9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudXxkcmFnfGRyb3ApfGNsaWNrLyx5dT0vXihbXi5dKikoPzpcLiguKyl8KS87aS5ldmVudD17Z2xvYmFsOnt9LGFkZDpmdW5jdGlvbihuLHQsdSxmLGUpe3ZhciBwLGEsayx2LHcsaCxzLGMsbyxiLGQseT1yLmdldChuKTtpZihvdChuKSlmb3IodS5oYW5kbGVyJiYodT0ocD11KS5oYW5kbGVyLGU9cC5zZWxlY3RvciksZSYmaS5maW5kLm1hdGNoZXNTZWxlY3RvcihnLGUpLHUuZ3VpZHx8KHUuZ3VpZD1pLmd1aWQrKyksKHY9eS5ldmVudHMpfHwodj15LmV2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpKSwoYT15LmhhbmRsZSl8fChhPXkuaGFuZGxlPWZ1bmN0aW9uKHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgaSYmaS5ldmVudC50cmlnZ2VyZWQhPT10LnR5cGUpcmV0dXJuIGkuZXZlbnQuZGlzcGF0Y2guYXBwbHkobixhcmd1bWVudHMpfSksdz0odD0odHx8IiIpLm1hdGNoKGwpfHxbIiJdKS5sZW5ndGg7dy0tOylvPWQ9KGs9eXUuZXhlYyh0W3ddKXx8W10pWzFdLGI9KGtbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxvJiYocz1pLmV2ZW50LnNwZWNpYWxbb118fHt9LG89KGU/cy5kZWxlZ2F0ZVR5cGU6cy5iaW5kVHlwZSl8fG8scz1pLmV2ZW50LnNwZWNpYWxbb118fHt9LGg9aS5leHRlbmQoe3R5cGU6byxvcmlnVHlwZTpkLGRhdGE6ZixoYW5kbGVyOnUsZ3VpZDp1Lmd1aWQsc2VsZWN0b3I6ZSxuZWVkc0NvbnRleHQ6ZSYmaS5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGUpLG5hbWVzcGFjZTpiLmpvaW4oIi4iKX0scCksKGM9dltvXSl8fCgoYz12W29dPVtdKS5kZWxlZ2F0ZUNvdW50PTAscy5zZXR1cCYmITEhPT1zLnNldHVwLmNhbGwobixmLGIsYSl8fG4uYWRkRXZlbnRMaXN0ZW5lciYmbi5hZGRFdmVudExpc3RlbmVyKG8sYSkpLHMuYWRkJiYocy5hZGQuY2FsbChuLGgpLGguaGFuZGxlci5ndWlkfHwoaC5oYW5kbGVyLmd1aWQ9dS5ndWlkKSksZT9jLnNwbGljZShjLmRlbGVnYXRlQ291bnQrKywwLGgpOmMucHVzaChoKSxpLmV2ZW50Lmdsb2JhbFtvXT0hMCl9LHJlbW92ZTpmdW5jdGlvbihuLHQsdSxmLGUpe3ZhciB5LGssYyx2LHAscyxoLGEsbyxiLGQsdz1yLmhhc0RhdGEobikmJnIuZ2V0KG4pO2lmKHcmJih2PXcuZXZlbnRzKSl7Zm9yKHA9KHQ9KHR8fCIiKS5tYXRjaChsKXx8WyIiXSkubGVuZ3RoO3AtLTspaWYobz1kPShjPXl1LmV4ZWModFtwXSl8fFtdKVsxXSxiPShjWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksbyl7Zm9yKGg9aS5ldmVudC5zcGVjaWFsW29dfHx7fSxhPXZbbz0oZj9oLmRlbGVnYXRlVHlwZTpoLmJpbmRUeXBlKXx8b118fFtdLGM9Y1syXSYmbmV3IFJlZ0V4cCgiKF58XFwuKSIrYi5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKSxrPXk9YS5sZW5ndGg7eS0tOylzPWFbeV0sIWUmJmQhPT1zLm9yaWdUeXBlfHx1JiZ1Lmd1aWQhPT1zLmd1aWR8fGMmJiFjLnRlc3Qocy5uYW1lc3BhY2UpfHxmJiZmIT09cy5zZWxlY3RvciYmKCIqKiIhPT1mfHwhcy5zZWxlY3Rvcil8fChhLnNwbGljZSh5LDEpLHMuc2VsZWN0b3ImJmEuZGVsZWdhdGVDb3VudC0tLGgucmVtb3ZlJiZoLnJlbW92ZS5jYWxsKG4scykpO2smJiFhLmxlbmd0aCYmKGgudGVhcmRvd24mJiExIT09aC50ZWFyZG93bi5jYWxsKG4sYix3LmhhbmRsZSl8fGkucmVtb3ZlRXZlbnQobixvLHcuaGFuZGxlKSxkZWxldGUgdltvXSl9ZWxzZSBmb3IobyBpbiB2KWkuZXZlbnQucmVtb3ZlKG4sbyt0W3BdLHUsZiwhMCk7aS5pc0VtcHR5T2JqZWN0KHYpJiZyLnJlbW92ZShuLCJoYW5kbGUgZXZlbnRzIil9fSxkaXNwYXRjaDpmdW5jdGlvbihuKXt2YXIgdSxoLGMsZSxmLGwscz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksdD1pLmV2ZW50LmZpeChuKSxhPShyLmdldCh0aGlzLCJldmVudHMiKXx8T2JqZWN0LmNyZWF0ZShudWxsKSlbdC50eXBlXXx8W10sbz1pLmV2ZW50LnNwZWNpYWxbdC50eXBlXXx8e307Zm9yKHNbMF09dCx1PTE7dTxhcmd1bWVudHMubGVuZ3RoO3UrKylzW3VdPWFyZ3VtZW50c1t1XTtpZih0LmRlbGVnYXRlVGFyZ2V0PXRoaXMsIW8ucHJlRGlzcGF0Y2h8fCExIT09by5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsdCkpe2ZvcihsPWkuZXZlbnQuaGFuZGxlcnMuY2FsbCh0aGlzLHQsYSksdT0wOyhlPWxbdSsrXSkmJiF0LmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7KWZvcih0LmN1cnJlbnRUYXJnZXQ9ZS5lbGVtLGg9MDsoZj1lLmhhbmRsZXJzW2grK10pJiYhdC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpOyl0LnJuYW1lc3BhY2UmJiExIT09Zi5uYW1lc3BhY2UmJiF0LnJuYW1lc3BhY2UudGVzdChmLm5hbWVzcGFjZSl8fCh0LmhhbmRsZU9iaj1mLHQuZGF0YT1mLmRhdGEsdm9pZCAwIT09KGM9KChpLmV2ZW50LnNwZWNpYWxbZi5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fGYuaGFuZGxlcikuYXBwbHkoZS5lbGVtLHMpKSYmITE9PT0odC5yZXN1bHQ9YykmJih0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSkpO3JldHVybiBvLnBvc3REaXNwYXRjaCYmby5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLHQpLHQucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24obix0KXt2YXIgZixoLHUsZSxvLGM9W10scz10LmRlbGVnYXRlQ291bnQscj1uLnRhcmdldDtpZihzJiZyLm5vZGVUeXBlJiYhKCJjbGljayI9PT1uLnR5cGUmJjE8PW4uYnV0dG9uKSlmb3IoO3IhPT10aGlzO3I9ci5wYXJlbnROb2RlfHx0aGlzKWlmKDE9PT1yLm5vZGVUeXBlJiYoImNsaWNrIiE9PW4udHlwZXx8ITAhPT1yLmRpc2FibGVkKSl7Zm9yKGU9W10sbz17fSxmPTA7ZjxzO2YrKyl2b2lkIDA9PT1vW3U9KGg9dFtmXSkuc2VsZWN0b3IrIiAiXSYmKG9bdV09aC5uZWVkc0NvbnRleHQ/LTE8aSh1LHRoaXMpLmluZGV4KHIpOmkuZmluZCh1LHRoaXMsbnVsbCxbcl0pLmxlbmd0aCksb1t1XSYmZS5wdXNoKGgpO2UubGVuZ3RoJiZjLnB1c2goe2VsZW06cixoYW5kbGVyczplfSl9cmV0dXJuIHI9dGhpcyxzPHQubGVuZ3RoJiZjLnB1c2goe2VsZW06cixoYW5kbGVyczp0LnNsaWNlKHMpfSksY30sYWRkUHJvcDpmdW5jdGlvbihuLHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkV2ZW50LnByb3RvdHlwZSxuLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6dSh0KT9mdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdCh0aGlzLm9yaWdpbmFsRXZlbnQpfTpmdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50W25dfSxzZXQ6ZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsbix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pfX0pfSxmaXg6ZnVuY3Rpb24obil7cmV0dXJuIG5baS5leHBhbmRvXT9uOm5ldyBpLkV2ZW50KG4pfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sY2xpY2s6e3NldHVwOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXN8fG47cmV0dXJuIGd0LnRlc3QodC50eXBlKSYmdC5jbGljayYmYyh0LCJpbnB1dCIpJiZoaSh0LCJjbGljayIsY3QpLCExfSx0cmlnZ2VyOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXN8fG47cmV0dXJuIGd0LnRlc3QodC50eXBlKSYmdC5jbGljayYmYyh0LCJpbnB1dCIpJiZoaSh0LCJjbGljayIpLCEwfSxfZGVmYXVsdDpmdW5jdGlvbihuKXt2YXIgdD1uLnRhcmdldDtyZXR1cm4gZ3QudGVzdCh0LnR5cGUpJiZ0LmNsaWNrJiZjKHQsImlucHV0IikmJnIuZ2V0KHQsImNsaWNrIil8fGModCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24obil7dm9pZCAwIT09bi5yZXN1bHQmJm4ub3JpZ2luYWxFdmVudCYmKG4ub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1uLnJlc3VsdCl9fX19O2kucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24obix0LGkpe24ucmVtb3ZlRXZlbnRMaXN0ZW5lciYmbi5yZW1vdmVFdmVudExpc3RlbmVyKHQsaSl9O2kuRXZlbnQ9ZnVuY3Rpb24obix0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBpLkV2ZW50KSlyZXR1cm4gbmV3IGkuRXZlbnQobix0KTtuJiZuLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1uLHRoaXMudHlwZT1uLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9bi5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1uLmRlZmF1bHRQcmV2ZW50ZWQmJiExPT09bi5yZXR1cm5WYWx1ZT9jdDpsdCx0aGlzLnRhcmdldD1uLnRhcmdldCYmMz09PW4udGFyZ2V0Lm5vZGVUeXBlP24udGFyZ2V0LnBhcmVudE5vZGU6bi50YXJnZXQsdGhpcy5jdXJyZW50VGFyZ2V0PW4uY3VycmVudFRhcmdldCx0aGlzLnJlbGF0ZWRUYXJnZXQ9bi5yZWxhdGVkVGFyZ2V0KTp0aGlzLnR5cGU9bjt0JiZpLmV4dGVuZCh0aGlzLHQpO3RoaXMudGltZVN0YW1wPW4mJm4udGltZVN0YW1wfHxEYXRlLm5vdygpO3RoaXNbaS5leHBhbmRvXT0hMH07aS5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmkuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOmx0LGlzUHJvcGFnYXRpb25TdG9wcGVkOmx0LGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOmx0LGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPWN0O24mJiF0aGlzLmlzU2ltdWxhdGVkJiZuLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBuPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPWN0O24mJiF0aGlzLmlzU2ltdWxhdGVkJiZuLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1jdDtuJiYhdGhpcy5pc1NpbXVsYXRlZCYmbi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTt0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX07aS5lYWNoKHthbHRLZXk6ITAsYnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGNoYW5nZWRUb3VjaGVzOiEwLGN0cmxLZXk6ITAsZGV0YWlsOiEwLGV2ZW50UGhhc2U6ITAsbWV0YUtleTohMCxwYWdlWDohMCxwYWdlWTohMCxzaGlmdEtleTohMCx2aWV3OiEwLGNoYXI6ITAsY29kZTohMCxjaGFyQ29kZTohMCxrZXk6ITAsa2V5Q29kZTohMCxidXR0b246ITAsYnV0dG9uczohMCxjbGllbnRYOiEwLGNsaWVudFk6ITAsb2Zmc2V0WDohMCxvZmZzZXRZOiEwLHBvaW50ZXJJZDohMCxwb2ludGVyVHlwZTohMCxzY3JlZW5YOiEwLHNjcmVlblk6ITAsdGFyZ2V0VG91Y2hlczohMCx0b0VsZW1lbnQ6ITAsdG91Y2hlczohMCx3aGljaDpmdW5jdGlvbihuKXt2YXIgdD1uLmJ1dHRvbjtyZXR1cm4gbnVsbD09bi53aGljaCYmcGUudGVzdChuLnR5cGUpP251bGwhPW4uY2hhckNvZGU/bi5jaGFyQ29kZTpuLmtleUNvZGU6IW4ud2hpY2gmJnZvaWQgMCE9PXQmJndlLnRlc3Qobi50eXBlKT8xJnQ/MToyJnQ/Mzo0JnQ/MjowOm4ud2hpY2h9fSxpLmV2ZW50LmFkZFByb3ApO2kuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24obix0KXtpLmV2ZW50LnNwZWNpYWxbbl09e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIGhpKHRoaXMsbixiZSksITF9LHRyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gaGkodGhpcyxuKSwhMH0sZGVsZWdhdGVUeXBlOnR9fSk7aS5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0Iixwb2ludGVyZW50ZXI6InBvaW50ZXJvdmVyIixwb2ludGVybGVhdmU6InBvaW50ZXJvdXQifSxmdW5jdGlvbihuLHQpe2kuZXZlbnQuc3BlY2lhbFtuXT17ZGVsZWdhdGVUeXBlOnQsYmluZFR5cGU6dCxoYW5kbGU6ZnVuY3Rpb24obil7dmFyIHUscj1uLnJlbGF0ZWRUYXJnZXQsZj1uLmhhbmRsZU9iajtyZXR1cm4gciYmKHI9PT10aGlzfHxpLmNvbnRhaW5zKHRoaXMscikpfHwobi50eXBlPWYub3JpZ1R5cGUsdT1mLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLG4udHlwZT10KSx1fX19KTtpLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24obix0LGkscil7cmV0dXJuIGdpKHRoaXMsbix0LGkscil9LG9uZTpmdW5jdGlvbihuLHQsaSxyKXtyZXR1cm4gZ2kodGhpcyxuLHQsaSxyLDEpfSxvZmY6ZnVuY3Rpb24obix0LHIpe3ZhciB1LGY7aWYobiYmbi5wcmV2ZW50RGVmYXVsdCYmbi5oYW5kbGVPYmopcmV0dXJuIHU9bi5oYW5kbGVPYmosaShuLmRlbGVnYXRlVGFyZ2V0KS5vZmYodS5uYW1lc3BhY2U/dS5vcmlnVHlwZSsiLiIrdS5uYW1lc3BhY2U6dS5vcmlnVHlwZSx1LnNlbGVjdG9yLHUuaGFuZGxlciksdGhpcztpZigib2JqZWN0Ij09dHlwZW9mIG4pe2ZvcihmIGluIG4pdGhpcy5vZmYoZix0LG5bZl0pO3JldHVybiB0aGlzfXJldHVybiExIT09dCYmImZ1bmN0aW9uIiE9dHlwZW9mIHR8fChyPXQsdD12b2lkIDApLCExPT09ciYmKHI9bHQpLHRoaXMuZWFjaChmdW5jdGlvbigpe2kuZXZlbnQucmVtb3ZlKHRoaXMsbixyLHQpfSl9fSk7dmFyIGtlPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLGRlPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLGdlPS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZztpLmV4dGVuZCh7aHRtbFByZWZpbHRlcjpmdW5jdGlvbihuKXtyZXR1cm4gbn0sY2xvbmU6ZnVuY3Rpb24obix0LHIpe3ZhciB1LGMsbyxmLGwsYSx2LGg9bi5jbG9uZU5vZGUoITApLHk9c3Qobik7aWYoIShlLm5vQ2xvbmVDaGVja2VkfHwxIT09bi5ub2RlVHlwZSYmMTEhPT1uLm5vZGVUeXBlfHxpLmlzWE1MRG9jKG4pKSlmb3IoZj1zKGgpLHU9MCxjPShvPXMobikpLmxlbmd0aDt1PGM7dSsrKWw9b1t1XSxhPWZbdV0sdm9pZCAwLCJpbnB1dCI9PT0odj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpJiZndC50ZXN0KGwudHlwZSk/YS5jaGVja2VkPWwuY2hlY2tlZDoiaW5wdXQiIT09diYmInRleHRhcmVhIiE9PXZ8fChhLmRlZmF1bHRWYWx1ZT1sLmRlZmF1bHRWYWx1ZSk7aWYodClpZihyKWZvcihvPW98fHMobiksZj1mfHxzKGgpLHU9MCxjPW8ubGVuZ3RoO3U8Yzt1Kyspd3Uob1t1XSxmW3VdKTtlbHNlIHd1KG4saCk7cmV0dXJuIDA8KGY9cyhoLCJzY3JpcHQiKSkubGVuZ3RoJiZkaShmLCF5JiZzKG4sInNjcmlwdCIpKSxofSxjbGVhbkRhdGE6ZnVuY3Rpb24obil7Zm9yKHZhciB1LHQsZixzPWkuZXZlbnQuc3BlY2lhbCxlPTA7dm9pZCAwIT09KHQ9bltlXSk7ZSsrKWlmKG90KHQpKXtpZih1PXRbci5leHBhbmRvXSl7aWYodS5ldmVudHMpZm9yKGYgaW4gdS5ldmVudHMpc1tmXT9pLmV2ZW50LnJlbW92ZSh0LGYpOmkucmVtb3ZlRXZlbnQodCxmLHUuaGFuZGxlKTt0W3IuZXhwYW5kb109dm9pZCAwfXRbby5leHBhbmRvXSYmKHRbby5leHBhbmRvXT12b2lkIDApfX19KTtpLmZuLmV4dGVuZCh7ZGV0YWNoOmZ1bmN0aW9uKG4pe3JldHVybiBidSh0aGlzLG4sITApfSxyZW1vdmU6ZnVuY3Rpb24obil7cmV0dXJuIGJ1KHRoaXMsbil9LHRleHQ6ZnVuY3Rpb24obil7cmV0dXJuIHcodGhpcyxmdW5jdGlvbihuKXtyZXR1cm4gdm9pZCAwPT09bj9pLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8KHRoaXMudGV4dENvbnRlbnQ9bil9KX0sbnVsbCxuLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gYXQodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24obil7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fHB1KHRoaXMsbikuYXBwZW5kQ2hpbGQobil9KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiBhdCh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihuKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHQ9cHUodGhpcyxuKTt0Lmluc2VydEJlZm9yZShuLHQuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiBhdCh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihuKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobix0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiBhdCh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihuKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobix0aGlzLm5leHRTaWJsaW5nKX0pfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgbix0PTA7bnVsbCE9KG49dGhpc1t0XSk7dCsrKTE9PT1uLm5vZGVUeXBlJiYoaS5jbGVhbkRhdGEocyhuLCExKSksbi50ZXh0Q29udGVudD0iIik7cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG49bnVsbCE9biYmbix0PW51bGw9PXQ/bjp0LHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGkuY2xvbmUodGhpcyxuLHQpfSl9LGh0bWw6ZnVuY3Rpb24obil7cmV0dXJuIHcodGhpcyxmdW5jdGlvbihuKXt2YXIgdD10aGlzWzBdfHx7fSxyPTAsdT10aGlzLmxlbmd0aDtpZih2b2lkIDA9PT1uJiYxPT09dC5ub2RlVHlwZSlyZXR1cm4gdC5pbm5lckhUTUw7aWYoInN0cmluZyI9PXR5cGVvZiBuJiYha2UudGVzdChuKSYmIWhbKGN1LmV4ZWMobil8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCldKXtuPWkuaHRtbFByZWZpbHRlcihuKTt0cnl7Zm9yKDtyPHU7cisrKTE9PT0odD10aGlzW3JdfHx7fSkubm9kZVR5cGUmJihpLmNsZWFuRGF0YShzKHQsITEpKSx0LmlubmVySFRNTD1uKTt0PTB9Y2F0Y2gobil7fX10JiZ0aGlzLmVtcHR5KCkuYXBwZW5kKG4pfSxudWxsLG4sYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIG49W107cmV0dXJuIGF0KHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKHQpe3ZhciByPXRoaXMucGFyZW50Tm9kZTtpLmluQXJyYXkodGhpcyxuKTwwJiYoaS5jbGVhbkRhdGEocyh0aGlzKSksciYmci5yZXBsYWNlQ2hpbGQodCx0aGlzKSl9LG4pfX0pO2kuZWFjaCh7YXBwZW5kVG86ImFwcGVuZCIscHJlcGVuZFRvOiJwcmVwZW5kIixpbnNlcnRCZWZvcmU6ImJlZm9yZSIsaW5zZXJ0QWZ0ZXI6ImFmdGVyIixyZXBsYWNlQWxsOiJyZXBsYWNlV2l0aCJ9LGZ1bmN0aW9uKG4sdCl7aS5mbltuXT1mdW5jdGlvbihuKXtmb3IodmFyIHUsZj1bXSxlPWkobiksbz1lLmxlbmd0aC0xLHI9MDtyPD1vO3IrKyl1PXI9PT1vP3RoaXM6dGhpcy5jbG9uZSghMCksaShlW3JdKVt0XSh1KSx5aS5hcHBseShmLHUuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhmKX19KTt2YXIgbnI9bmV3IFJlZ0V4cCgiXigiK3N1KyIpKD8hcHgpW2EteiVdKyQiLCJpIiksY2k9ZnVuY3Rpb24odCl7dmFyIGk9dC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O3JldHVybiBpJiZpLm9wZW5lcnx8KGk9biksaS5nZXRDb21wdXRlZFN0eWxlKHQpfSxrdT1mdW5jdGlvbihuLHQsaSl7dmFyIHUscixmPXt9O2ZvcihyIGluIHQpZltyXT1uLnN0eWxlW3JdLG4uc3R5bGVbcl09dFtyXTtmb3IociBpbiB1PWkuY2FsbChuKSx0KW4uc3R5bGVbcl09ZltyXTtyZXR1cm4gdX0saW89bmV3IFJlZ0V4cChiLmpvaW4oInwiKSwiaSIpOyFmdW5jdGlvbigpe2Z1bmN0aW9uIHIoKXtpZih0KXtzLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7d2lkdGg6NjBweDttYXJnaW4tdG9wOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjAiO3Quc3R5bGUuY3NzVGV4dD0icG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7b3ZlcmZsb3c6c2Nyb2xsO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NjAlO3RvcDoxJSI7Zy5hcHBlbmRDaGlsZChzKS5hcHBlbmRDaGlsZCh0KTt2YXIgaT1uLmdldENvbXB1dGVkU3R5bGUodCk7aD0iMSUiIT09aS50b3A7dj0xMj09PXUoaS5tYXJnaW5MZWZ0KTt0LnN0eWxlLnJpZ2h0PSI2MCUiO2E9MzY9PT11KGkucmlnaHQpO2M9MzY9PT11KGkud2lkdGgpO3Quc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtsPTEyPT09dSh0Lm9mZnNldFdpZHRoLzMpO2cucmVtb3ZlQ2hpbGQocyk7dD1udWxsfX1mdW5jdGlvbiB1KG4pe3JldHVybiBNYXRoLnJvdW5kKHBhcnNlRmxvYXQobikpfXZhciBoLGMsbCxhLG8sdixzPWYuY3JlYXRlRWxlbWVudCgiZGl2IiksdD1mLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3Quc3R5bGUmJih0LnN0eWxlLmJhY2tncm91bmRDbGlwPSJjb250ZW50LWJveCIsdC5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPSIiLGUuY2xlYXJDbG9uZVN0eWxlPSJjb250ZW50LWJveCI9PT10LnN0eWxlLmJhY2tncm91bmRDbGlwLGkuZXh0ZW5kKGUse2JveFNpemluZ1JlbGlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHIoKSxjfSxwaXhlbEJveFN0eWxlczpmdW5jdGlvbigpe3JldHVybiByKCksYX0scGl4ZWxQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiByKCksaH0scmVsaWFibGVNYXJnaW5MZWZ0OmZ1bmN0aW9uKCl7cmV0dXJuIHIoKSx2fSxzY3JvbGxib3hTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHIoKSxsfSxyZWxpYWJsZVRyRGltZW5zaW9uczpmdW5jdGlvbigpe3ZhciB0LGkscix1O3JldHVybiBudWxsPT1vJiYodD1mLmNyZWF0ZUVsZW1lbnQoInRhYmxlIiksaT1mLmNyZWF0ZUVsZW1lbnQoInRyIikscj1mLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHQuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7bGVmdDotMTExMTFweCIsaS5zdHlsZS5oZWlnaHQ9IjFweCIsci5zdHlsZS5oZWlnaHQ9IjlweCIsZy5hcHBlbmRDaGlsZCh0KS5hcHBlbmRDaGlsZChpKS5hcHBlbmRDaGlsZChyKSx1PW4uZ2V0Q29tcHV0ZWRTdHlsZShpKSxvPTM8cGFyc2VJbnQodS5oZWlnaHQpLGcucmVtb3ZlQ2hpbGQodCkpLG99fSkpfSgpO3ZhciBndT1bIldlYmtpdCIsIk1veiIsIm1zIl0sbmY9Zi5jcmVhdGVFbGVtZW50KCJkaXYiKS5zdHlsZSx0Zj17fTt2YXIgcm89L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLHJmPS9eLS0vLHVvPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSx1Zj17bGV0dGVyU3BhY2luZzoiMCIsZm9udFdlaWdodDoiNDAwIn07aS5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24obix0KXtpZih0KXt2YXIgaT1uaShuLCJvcGFjaXR5Iik7cmV0dXJuIiI9PT1pPyIxIjppfX19fSxjc3NOdW1iZXI6e2FuaW1hdGlvbkl0ZXJhdGlvbkNvdW50OiEwLGNvbHVtbkNvdW50OiEwLGZpbGxPcGFjaXR5OiEwLGZsZXhHcm93OiEwLGZsZXhTaHJpbms6ITAsZm9udFdlaWdodDohMCxncmlkQXJlYTohMCxncmlkQ29sdW1uOiEwLGdyaWRDb2x1bW5FbmQ6ITAsZ3JpZENvbHVtblN0YXJ0OiEwLGdyaWRSb3c6ITAsZ3JpZFJvd0VuZDohMCxncmlkUm93U3RhcnQ6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9yZGVyOiEwLG9ycGhhbnM6ITAsd2lkb3dzOiEwLHpJbmRleDohMCx6b29tOiEwfSxjc3NQcm9wczp7fSxzdHlsZTpmdW5jdGlvbihuLHQscix1KXtpZihuJiYzIT09bi5ub2RlVHlwZSYmOCE9PW4ubm9kZVR5cGUmJm4uc3R5bGUpe3ZhciBmLGgsbyxjPXkodCksbD1yZi50ZXN0KHQpLHM9bi5zdHlsZTtpZihsfHwodD10cihjKSksbz1pLmNzc0hvb2tzW3RdfHxpLmNzc0hvb2tzW2NdLHZvaWQgMD09PXIpcmV0dXJuIG8mJiJnZXQiaW4gbyYmdm9pZCAwIT09KGY9by5nZXQobiwhMSx1KSk/ZjpzW3RdOyJzdHJpbmciPT0oaD10eXBlb2YgcikmJihmPWt0LmV4ZWMocikpJiZmWzFdJiYocj1odShuLHQsZiksaD0ibnVtYmVyIik7bnVsbCE9ciYmcj09ciYmKCJudW1iZXIiIT09aHx8bHx8KHIrPWYmJmZbM118fChpLmNzc051bWJlcltjXT8iIjoicHgiKSksZS5jbGVhckNsb25lU3R5bGV8fCIiIT09cnx8MCE9PXQuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwoc1t0XT0iaW5oZXJpdCIpLG8mJiJzZXQiaW4gbyYmdm9pZCAwPT09KHI9by5zZXQobixyLHUpKXx8KGw/cy5zZXRQcm9wZXJ0eSh0LHIpOnNbdF09cikpfX0sY3NzOmZ1bmN0aW9uKG4sdCxyLHUpe3ZhciBmLGUsbyxzPXkodCk7cmV0dXJuIHJmLnRlc3QodCl8fCh0PXRyKHMpKSwobz1pLmNzc0hvb2tzW3RdfHxpLmNzc0hvb2tzW3NdKSYmImdldCJpbiBvJiYoZj1vLmdldChuLCEwLHIpKSx2b2lkIDA9PT1mJiYoZj1uaShuLHQsdSkpLCJub3JtYWwiPT09ZiYmdCBpbiB1ZiYmKGY9dWZbdF0pLCIiPT09cnx8cj8oZT1wYXJzZUZsb2F0KGYpLCEwPT09cnx8aXNGaW5pdGUoZSk/ZXx8MDpmKTpmfX0pO2kuZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24obix0KXtpLmNzc0hvb2tzW3RdPXtnZXQ6ZnVuY3Rpb24obixyLHUpe2lmKHIpcmV0dXJuIXJvLnRlc3QoaS5jc3MobiwiZGlzcGxheSIpKXx8bi5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCYmbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aD9lZihuLHQsdSk6a3Uobix1byxmdW5jdGlvbigpe3JldHVybiBlZihuLHQsdSl9KX0sc2V0OmZ1bmN0aW9uKG4scix1KXt2YXIgcyxmPWNpKG4pLGg9IWUuc2Nyb2xsYm94U2l6ZSgpJiYiYWJzb2x1dGUiPT09Zi5wb3NpdGlvbixjPShofHx1KSYmImJvcmRlci1ib3giPT09aS5jc3MobiwiYm94U2l6aW5nIiwhMSxmKSxvPXU/aXIobix0LHUsYyxmKTowO3JldHVybiBjJiZoJiYoby09TWF0aC5jZWlsKG5bIm9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSldLXBhcnNlRmxvYXQoZlt0XSktaXIobix0LCJib3JkZXIiLCExLGYpLS41KSksbyYmKHM9a3QuZXhlYyhyKSkmJiJweCIhPT0oc1szXXx8InB4IikmJihuLnN0eWxlW3RdPXIscj1pLmNzcyhuLHQpKSxmZigwLHIsbyl9fX0pO2kuY3NzSG9va3MubWFyZ2luTGVmdD1kdShlLnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihuLHQpe2lmKHQpcmV0dXJuKHBhcnNlRmxvYXQobmkobiwibWFyZ2luTGVmdCIpKXx8bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LWt1KG4se21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpKyJweCJ9KTtpLmVhY2goe21hcmdpbjoiIixwYWRkaW5nOiIiLGJvcmRlcjoiV2lkdGgifSxmdW5jdGlvbihuLHQpe2kuY3NzSG9va3Nbbit0XT17ZXhwYW5kOmZ1bmN0aW9uKGkpe2Zvcih2YXIgcj0wLGY9e30sdT0ic3RyaW5nIj09dHlwZW9mIGk/aS5zcGxpdCgiICIpOltpXTtyPDQ7cisrKWZbbitiW3JdK3RdPXVbcl18fHVbci0yXXx8dVswXTtyZXR1cm4gZn19OyJtYXJnaW4iIT09biYmKGkuY3NzSG9va3Nbbit0XS5zZXQ9ZmYpfSk7aS5mbi5leHRlbmQoe2NzczpmdW5jdGlvbihuLHQpe3JldHVybiB3KHRoaXMsZnVuY3Rpb24obix0LHIpe3ZhciBmLGUsbz17fSx1PTA7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKGY9Y2kobiksZT10Lmxlbmd0aDt1PGU7dSsrKW9bdFt1XV09aS5jc3Mobix0W3VdLCExLGYpO3JldHVybiBvfXJldHVybiB2b2lkIDAhPT1yP2kuc3R5bGUobix0LHIpOmkuY3NzKG4sdCl9LG4sdCwxPGFyZ3VtZW50cy5sZW5ndGgpfX0pOygoaS5Ud2Vlbj1hKS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmEsaW5pdDpmdW5jdGlvbihuLHQscix1LGYsZSl7dGhpcy5lbGVtPW47dGhpcy5wcm9wPXI7dGhpcy5lYXNpbmc9Znx8aS5lYXNpbmcuX2RlZmF1bHQ7dGhpcy5vcHRpb25zPXQ7dGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpO3RoaXMuZW5kPXU7dGhpcy51bml0PWV8fChpLmNzc051bWJlcltyXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIG49YS5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gbiYmbi5nZXQ/bi5nZXQodGhpcyk6YS5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24obil7dmFyIHQscj1hLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLnBvcz10aGlzLm9wdGlvbnMuZHVyYXRpb24/dD1pLmVhc2luZ1t0aGlzLmVhc2luZ10obix0aGlzLm9wdGlvbnMuZHVyYXRpb24qbiwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTp0PW4sdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKnQrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksciYmci5zZXQ/ci5zZXQodGhpcyk6YS5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpLHRoaXN9fSkuaW5pdC5wcm90b3R5cGU9YS5wcm90b3R5cGU7KGEucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKG4pe3ZhciB0O3JldHVybiAxIT09bi5lbGVtLm5vZGVUeXBlfHxudWxsIT1uLmVsZW1bbi5wcm9wXSYmbnVsbD09bi5lbGVtLnN0eWxlW24ucHJvcF0/bi5lbGVtW24ucHJvcF06KHQ9aS5jc3Mobi5lbGVtLG4ucHJvcCwiIikpJiYiYXV0byIhPT10P3Q6MH0sc2V0OmZ1bmN0aW9uKG4pe2kuZnguc3RlcFtuLnByb3BdP2kuZnguc3RlcFtuLnByb3BdKG4pOjEhPT1uLmVsZW0ubm9kZVR5cGV8fCFpLmNzc0hvb2tzW24ucHJvcF0mJm51bGw9PW4uZWxlbS5zdHlsZVt0cihuLnByb3ApXT9uLmVsZW1bbi5wcm9wXT1uLm5vdzppLnN0eWxlKG4uZWxlbSxuLnByb3Asbi5ub3crbi51bml0KX19fSkuc2Nyb2xsVG9wPWEucHJvcEhvb2tzLnNjcm9sbExlZnQ9e3NldDpmdW5jdGlvbihuKXtuLmVsZW0ubm9kZVR5cGUmJm4uZWxlbS5wYXJlbnROb2RlJiYobi5lbGVtW24ucHJvcF09bi5ub3cpfX07aS5lYXNpbmc9e2xpbmVhcjpmdW5jdGlvbihuKXtyZXR1cm4gbn0sc3dpbmc6ZnVuY3Rpb24obil7cmV0dXJuLjUtTWF0aC5jb3MobipNYXRoLlBJKS8yfSxfZGVmYXVsdDoic3dpbmcifTtpLmZ4PWEucHJvdG90eXBlLmluaXQ7aS5meC5zdGVwPXt9O2hmPS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLztjZj0vcXVldWVIb29rcyQvO2kuQW5pbWF0aW9uPWkuZXh0ZW5kKHYse3R3ZWVuZXJzOnsiKiI6W2Z1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5jcmVhdGVUd2VlbihuLHQpO3JldHVybiBodShpLmVsZW0sbixrdC5leGVjKHQpLGkpLGl9XX0sdHdlZW5lcjpmdW5jdGlvbihuLHQpe3Uobik/KHQ9bixuPVsiKiJdKTpuPW4ubWF0Y2gobCk7Zm9yKHZhciBpLHI9MCxmPW4ubGVuZ3RoO3I8ZjtyKyspaT1uW3JdLHYudHdlZW5lcnNbaV09di50d2VlbmVyc1tpXXx8W10sdi50d2VlbmVyc1tpXS51bnNoaWZ0KHQpfSxwcmVmaWx0ZXJzOltmdW5jdGlvbihuLHQsdSl7dmFyIGYseSx3LGMsYixoLG8sbCxrPSJ3aWR0aCJpbiB0fHwiaGVpZ2h0ImluIHQsdj10aGlzLHA9e30scz1uLnN0eWxlLGE9bi5ub2RlVHlwZSYmZHQobiksZT1yLmdldChuLCJmeHNob3ciKTtmb3IoZiBpbiB1LnF1ZXVlfHwobnVsbD09KGM9aS5fcXVldWVIb29rcyhuLCJmeCIpKS51bnF1ZXVlZCYmKGMudW5xdWV1ZWQ9MCxiPWMuZW1wdHkuZmlyZSxjLmVtcHR5LmZpcmU9ZnVuY3Rpb24oKXtjLnVucXVldWVkfHxiKCl9KSxjLnVucXVldWVkKyssdi5hbHdheXMoZnVuY3Rpb24oKXt2LmFsd2F5cyhmdW5jdGlvbigpe2MudW5xdWV1ZWQtLTtpLnF1ZXVlKG4sImZ4IikubGVuZ3RofHxjLmVtcHR5LmZpcmUoKX0pfSkpLHQpaWYoeT10W2ZdLGhmLnRlc3QoeSkpe2lmKGRlbGV0ZSB0W2ZdLHc9d3x8InRvZ2dsZSI9PT15LHk9PT0oYT8iaGlkZSI6InNob3ciKSl7aWYoInNob3ciIT09eXx8IWV8fHZvaWQgMD09PWVbZl0pY29udGludWU7YT0hMH1wW2ZdPWUmJmVbZl18fGkuc3R5bGUobixmKX1pZigoaD0haS5pc0VtcHR5T2JqZWN0KHQpKXx8IWkuaXNFbXB0eU9iamVjdChwKSlmb3IoZiBpbiBrJiYxPT09bi5ub2RlVHlwZSYmKHUub3ZlcmZsb3c9W3Mub3ZlcmZsb3cscy5vdmVyZmxvd1gscy5vdmVyZmxvd1ldLG51bGw9PShvPWUmJmUuZGlzcGxheSkmJihvPXIuZ2V0KG4sImRpc3BsYXkiKSksIm5vbmUiPT09KGw9aS5jc3MobiwiZGlzcGxheSIpKSYmKG8/bD1vOihodChbbl0sITApLG89bi5zdHlsZS5kaXNwbGF5fHxvLGw9aS5jc3MobiwiZGlzcGxheSIpLGh0KFtuXSkpKSwoImlubGluZSI9PT1sfHwiaW5saW5lLWJsb2NrIj09PWwmJm51bGwhPW8pJiYibm9uZSI9PT1pLmNzcyhuLCJmbG9hdCIpJiYoaHx8KHYuZG9uZShmdW5jdGlvbigpe3MuZGlzcGxheT1vfSksbnVsbD09byYmKGw9cy5kaXNwbGF5LG89Im5vbmUiPT09bD8iIjpsKSkscy5kaXNwbGF5PSJpbmxpbmUtYmxvY2siKSksdS5vdmVyZmxvdyYmKHMub3ZlcmZsb3c9ImhpZGRlbiIsdi5hbHdheXMoZnVuY3Rpb24oKXtzLm92ZXJmbG93PXUub3ZlcmZsb3dbMF07cy5vdmVyZmxvd1g9dS5vdmVyZmxvd1sxXTtzLm92ZXJmbG93WT11Lm92ZXJmbG93WzJdfSkpLGg9ITEscClofHwoZT8iaGlkZGVuImluIGUmJihhPWUuaGlkZGVuKTplPXIuYWNjZXNzKG4sImZ4c2hvdyIse2Rpc3BsYXk6b30pLHcmJihlLmhpZGRlbj0hYSksYSYmaHQoW25dLCEwKSx2LmRvbmUoZnVuY3Rpb24oKXtmb3IoZiBpbiBhfHxodChbbl0pLHIucmVtb3ZlKG4sImZ4c2hvdyIpLHApaS5zdHlsZShuLGYscFtmXSl9KSksaD1hZihhP2VbZl06MCxmLHYpLGYgaW4gZXx8KGVbZl09aC5zdGFydCxhJiYoaC5lbmQ9aC5zdGFydCxoLnN0YXJ0PTApKX1dLHByZWZpbHRlcjpmdW5jdGlvbihuLHQpe3Q/di5wcmVmaWx0ZXJzLnVuc2hpZnQobik6di5wcmVmaWx0ZXJzLnB1c2gobil9fSk7aS5zcGVlZD1mdW5jdGlvbihuLHQscil7dmFyIGY9biYmIm9iamVjdCI9PXR5cGVvZiBuP2kuZXh0ZW5kKHt9LG4pOntjb21wbGV0ZTpyfHwhciYmdHx8dShuKSYmbixkdXJhdGlvbjpuLGVhc2luZzpyJiZ0fHx0JiYhdSh0KSYmdH07cmV0dXJuIGkuZngub2ZmP2YuZHVyYXRpb249MDoibnVtYmVyIiE9dHlwZW9mIGYuZHVyYXRpb24mJihmLmR1cmF0aW9uPWYuZHVyYXRpb24gaW4gaS5meC5zcGVlZHM/aS5meC5zcGVlZHNbZi5kdXJhdGlvbl06aS5meC5zcGVlZHMuX2RlZmF1bHQpLG51bGwhPWYucXVldWUmJiEwIT09Zi5xdWV1ZXx8KGYucXVldWU9ImZ4IiksZi5vbGQ9Zi5jb21wbGV0ZSxmLmNvbXBsZXRlPWZ1bmN0aW9uKCl7dShmLm9sZCkmJmYub2xkLmNhbGwodGhpcyk7Zi5xdWV1ZSYmaS5kZXF1ZXVlKHRoaXMsZi5xdWV1ZSl9LGZ9O2kuZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24obix0LGkscil7cmV0dXJuIHRoaXMuZmlsdGVyKGR0KS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OnR9LG4saSxyKX0sYW5pbWF0ZTpmdW5jdGlvbihuLHQsdSxmKXt2YXIgcz1pLmlzRW1wdHlPYmplY3Qobiksbz1pLnNwZWVkKHQsdSxmKSxlPWZ1bmN0aW9uKCl7dmFyIHQ9dih0aGlzLGkuZXh0ZW5kKHt9LG4pLG8pOyhzfHxyLmdldCh0aGlzLCJmaW5pc2giKSkmJnQuc3RvcCghMCl9O3JldHVybiBlLmZpbmlzaD1lLHN8fCExPT09by5xdWV1ZT90aGlzLmVhY2goZSk6dGhpcy5xdWV1ZShvLnF1ZXVlLGUpfSxzdG9wOmZ1bmN0aW9uKG4sdCx1KXt2YXIgZj1mdW5jdGlvbihuKXt2YXIgdD1uLnN0b3A7ZGVsZXRlIG4uc3RvcDt0KHUpfTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIG4mJih1PXQsdD1uLG49dm9pZCAwKSx0JiZ0aGlzLnF1ZXVlKG58fCJmeCIsW10pLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBzPSEwLHQ9bnVsbCE9biYmbisicXVldWVIb29rcyIsbz1pLnRpbWVycyxlPXIuZ2V0KHRoaXMpO2lmKHQpZVt0XSYmZVt0XS5zdG9wJiZmKGVbdF0pO2Vsc2UgZm9yKHQgaW4gZSllW3RdJiZlW3RdLnN0b3AmJmNmLnRlc3QodCkmJmYoZVt0XSk7Zm9yKHQ9by5sZW5ndGg7dC0tOylvW3RdLmVsZW0hPT10aGlzfHxudWxsIT1uJiZvW3RdLnF1ZXVlIT09bnx8KG9bdF0uYW5pbS5zdG9wKHUpLHM9ITEsby5zcGxpY2UodCwxKSk7IXMmJnV8fGkuZGVxdWV1ZSh0aGlzLG4pfSl9LGZpbmlzaDpmdW5jdGlvbihuKXtyZXR1cm4hMSE9PW4mJihuPW58fCJmeCIpLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0LGU9ci5nZXQodGhpcyksdT1lW24rInF1ZXVlIl0sbz1lW24rInF1ZXVlSG9va3MiXSxmPWkudGltZXJzLHM9dT91Lmxlbmd0aDowO2ZvcihlLmZpbmlzaD0hMCxpLnF1ZXVlKHRoaXMsbixbXSksbyYmby5zdG9wJiZvLnN0b3AuY2FsbCh0aGlzLCEwKSx0PWYubGVuZ3RoO3QtLTspZlt0XS5lbGVtPT09dGhpcyYmZlt0XS5xdWV1ZT09PW4mJihmW3RdLmFuaW0uc3RvcCghMCksZi5zcGxpY2UodCwxKSk7Zm9yKHQ9MDt0PHM7dCsrKXVbdF0mJnVbdF0uZmluaXNoJiZ1W3RdLmZpbmlzaC5jYWxsKHRoaXMpO2RlbGV0ZSBlLmZpbmlzaH0pfX0pO2kuZWFjaChbInRvZ2dsZSIsInNob3ciLCJoaWRlIl0sZnVuY3Rpb24obix0KXt2YXIgcj1pLmZuW3RdO2kuZm5bdF09ZnVuY3Rpb24obixpLHUpe3JldHVybiBudWxsPT1ufHwiYm9vbGVhbiI9PXR5cGVvZiBuP3IuYXBwbHkodGhpcyxhcmd1bWVudHMpOnRoaXMuYW5pbWF0ZShhaSh0LCEwKSxuLGksdSl9fSk7aS5lYWNoKHtzbGlkZURvd246YWkoInNob3ciKSxzbGlkZVVwOmFpKCJoaWRlIiksc2xpZGVUb2dnbGU6YWkoInRvZ2dsZSIpLGZhZGVJbjp7b3BhY2l0eToic2hvdyJ9LGZhZGVPdXQ6e29wYWNpdHk6ImhpZGUifSxmYWRlVG9nZ2xlOntvcGFjaXR5OiJ0b2dnbGUifX0sZnVuY3Rpb24obix0KXtpLmZuW25dPWZ1bmN0aW9uKG4saSxyKXtyZXR1cm4gdGhpcy5hbmltYXRlKHQsbixpLHIpfX0pO2kudGltZXJzPVtdO2kuZngudGljaz1mdW5jdGlvbigpe3ZhciByLG49MCx0PWkudGltZXJzO2Zvcih2dD1EYXRlLm5vdygpO248dC5sZW5ndGg7bisrKShyPXRbbl0pKCl8fHRbbl0hPT1yfHx0LnNwbGljZShuLS0sMSk7dC5sZW5ndGh8fGkuZnguc3RvcCgpO3Z0PXZvaWQgMH07aS5meC50aW1lcj1mdW5jdGlvbihuKXtpLnRpbWVycy5wdXNoKG4pO2kuZnguc3RhcnQoKX07aS5meC5pbnRlcnZhbD0xMztpLmZ4LnN0YXJ0PWZ1bmN0aW9uKCl7bGl8fChsaT0hMCxycigpKX07aS5meC5zdG9wPWZ1bmN0aW9uKCl7bGk9bnVsbH07aS5meC5zcGVlZHM9e3Nsb3c6NjAwLGZhc3Q6MjAwLF9kZWZhdWx0OjQwMH07aS5mbi5kZWxheT1mdW5jdGlvbih0LHIpe3JldHVybiB0PWkuZngmJmkuZnguc3BlZWRzW3RdfHx0LHI9cnx8ImZ4Iix0aGlzLnF1ZXVlKHIsZnVuY3Rpb24oaSxyKXt2YXIgdT1uLnNldFRpbWVvdXQoaSx0KTtyLnN0b3A9ZnVuY3Rpb24oKXtuLmNsZWFyVGltZW91dCh1KX19KX07eXQ9Zi5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3NmPWYuY3JlYXRlRWxlbWVudCgic2VsZWN0IikuYXBwZW5kQ2hpbGQoZi5jcmVhdGVFbGVtZW50KCJvcHRpb24iKSk7eXQudHlwZT0iY2hlY2tib3giO2UuY2hlY2tPbj0iIiE9PXl0LnZhbHVlO2Uub3B0U2VsZWN0ZWQ9c2Yuc2VsZWN0ZWQ7KHl0PWYuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSkudmFsdWU9InQiO3l0LnR5cGU9InJhZGlvIjtlLnJhZGlvVmFsdWU9InQiPT09eXQudmFsdWU7cHQ9aS5leHByLmF0dHJIYW5kbGU7aS5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24obix0KXtyZXR1cm4gdyh0aGlzLGkuYXR0cixuLHQsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7aS5yZW1vdmVBdHRyKHRoaXMsbil9KX19KTtpLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihuLHQscil7dmFyIGYsdSxlPW4ubm9kZVR5cGU7aWYoMyE9PWUmJjghPT1lJiYyIT09ZSlyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIG4uZ2V0QXR0cmlidXRlP2kucHJvcChuLHQscik6KDE9PT1lJiZpLmlzWE1MRG9jKG4pfHwodT1pLmF0dHJIb29rc1t0LnRvTG93ZXJDYXNlKCldfHwoaS5leHByLm1hdGNoLmJvb2wudGVzdCh0KT92Zjp2b2lkIDApKSx2b2lkIDAhPT1yP251bGw9PT1yP3ZvaWQgaS5yZW1vdmVBdHRyKG4sdCk6dSYmInNldCJpbiB1JiZ2b2lkIDAhPT0oZj11LnNldChuLHIsdCkpP2Y6KG4uc2V0QXR0cmlidXRlKHQscisiIikscik6dSYmImdldCJpbiB1JiZudWxsIT09KGY9dS5nZXQobix0KSk/ZjpudWxsPT0oZj1pLmZpbmQuYXR0cihuLHQpKT92b2lkIDA6Zil9LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKG4sdCl7aWYoIWUucmFkaW9WYWx1ZSYmInJhZGlvIj09PXQmJmMobiwiaW5wdXQiKSl7dmFyIGk9bi52YWx1ZTtyZXR1cm4gbi5zZXRBdHRyaWJ1dGUoInR5cGUiLHQpLGkmJihuLnZhbHVlPWkpLHR9fX19LHJlbW92ZUF0dHI6ZnVuY3Rpb24obix0KXt2YXIgaSx1PTAscj10JiZ0Lm1hdGNoKGwpO2lmKHImJjE9PT1uLm5vZGVUeXBlKXdoaWxlKGk9clt1KytdKW4ucmVtb3ZlQXR0cmlidXRlKGkpfX0pO3ZmPXtzZXQ6ZnVuY3Rpb24obix0LHIpe3JldHVybiExPT09dD9pLnJlbW92ZUF0dHIobixyKTpuLnNldEF0dHJpYnV0ZShyLHIpLHJ9fTtpLmVhY2goaS5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKC9cdysvZyksZnVuY3Rpb24obix0KXt2YXIgcj1wdFt0XXx8aS5maW5kLmF0dHI7cHRbdF09ZnVuY3Rpb24obix0LGkpe3ZhciBmLGUsdT10LnRvTG93ZXJDYXNlKCk7cmV0dXJuIGl8fChlPXB0W3VdLHB0W3VdPWYsZj1udWxsIT1yKG4sdCxpKT91Om51bGwscHRbdV09ZSksZn19KTt5Zj0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pO3BmPS9eKD86YXxhcmVhKSQvaTtpLmZuLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihuLHQpe3JldHVybiB3KHRoaXMsaS5wcm9wLG4sdCwxPGFyZ3VtZW50cy5sZW5ndGgpfSxyZW1vdmVQcm9wOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtkZWxldGUgdGhpc1tpLnByb3BGaXhbbl18fG5dfSl9fSk7aS5leHRlbmQoe3Byb3A6ZnVuY3Rpb24obix0LHIpe3ZhciBmLHUsZT1uLm5vZGVUeXBlO2lmKDMhPT1lJiY4IT09ZSYmMiE9PWUpcmV0dXJuIDE9PT1lJiZpLmlzWE1MRG9jKG4pfHwodD1pLnByb3BGaXhbdF18fHQsdT1pLnByb3BIb29rc1t0XSksdm9pZCAwIT09cj91JiYic2V0ImluIHUmJnZvaWQgMCE9PShmPXUuc2V0KG4scix0KSk/ZjpuW3RdPXI6dSYmImdldCJpbiB1JiZudWxsIT09KGY9dS5nZXQobix0KSk/ZjpuW3RdfSxwcm9wSG9va3M6e3RhYkluZGV4OntnZXQ6ZnVuY3Rpb24obil7dmFyIHQ9aS5maW5kLmF0dHIobiwidGFiaW5kZXgiKTtyZXR1cm4gdD9wYXJzZUludCh0LDEwKTp5Zi50ZXN0KG4ubm9kZU5hbWUpfHxwZi50ZXN0KG4ubm9kZU5hbWUpJiZuLmhyZWY/MDotMX19fSxwcm9wRml4OnsiZm9yIjoiaHRtbEZvciIsImNsYXNzIjoiY2xhc3NOYW1lIn19KTtlLm9wdFNlbGVjdGVkfHwoaS5wcm9wSG9va3Muc2VsZWN0ZWQ9e2dldDpmdW5jdGlvbihuKXt2YXIgdD1uLnBhcmVudE5vZGU7cmV0dXJuIHQmJnQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsbnVsbH0sc2V0OmZ1bmN0aW9uKG4pe3ZhciB0PW4ucGFyZW50Tm9kZTt0JiYodC5zZWxlY3RlZEluZGV4LHQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgpfX0pO2kuZWFjaChbInRhYkluZGV4IiwicmVhZE9ubHkiLCJtYXhMZW5ndGgiLCJjZWxsU3BhY2luZyIsImNlbGxQYWRkaW5nIiwicm93U3BhbiIsImNvbFNwYW4iLCJ1c2VNYXAiLCJmcmFtZUJvcmRlciIsImNvbnRlbnRFZGl0YWJsZSJdLGZ1bmN0aW9uKCl7aS5wcm9wRml4W3RoaXMudG9Mb3dlckNhc2UoKV09dGhpc30pO2kuZm4uZXh0ZW5kKHthZGRDbGFzczpmdW5jdGlvbihuKXt2YXIgbyx0LHIsZixlLHMsaCxjPTA7aWYodShuKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHQpe2kodGhpcykuYWRkQ2xhc3Mobi5jYWxsKHRoaXMsdCxpdCh0aGlzKSkpfSk7aWYoKG89dXIobikpLmxlbmd0aCl3aGlsZSh0PXRoaXNbYysrXSlpZihmPWl0KHQpLHI9MT09PXQubm9kZVR5cGUmJiIgIit0dChmKSsiICIpe2ZvcihzPTA7ZT1vW3MrK107KXIuaW5kZXhPZigiICIrZSsiICIpPDAmJihyKz1lKyIgIik7ZiE9PShoPXR0KHIpKSYmdC5zZXRBdHRyaWJ1dGUoImNsYXNzIixoKX1yZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24obil7dmFyIG8scix0LGYsZSxzLGgsYz0wO2lmKHUobikpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KXtpKHRoaXMpLnJlbW92ZUNsYXNzKG4uY2FsbCh0aGlzLHQsaXQodGhpcykpKX0pO2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLmF0dHIoImNsYXNzIiwiIik7aWYoKG89dXIobikpLmxlbmd0aCl3aGlsZShyPXRoaXNbYysrXSlpZihmPWl0KHIpLHQ9MT09PXIubm9kZVR5cGUmJiIgIit0dChmKSsiICIpe2ZvcihzPTA7ZT1vW3MrK107KXdoaWxlKC0xPHQuaW5kZXhPZigiICIrZSsiICIpKXQ9dC5yZXBsYWNlKCIgIitlKyIgIiwiICIpO2YhPT0oaD10dCh0KSkmJnIuc2V0QXR0cmlidXRlKCJjbGFzcyIsaCl9cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKG4sdCl7dmFyIGY9dHlwZW9mIG4sZT0ic3RyaW5nIj09PWZ8fEFycmF5LmlzQXJyYXkobik7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgdCYmZT90P3RoaXMuYWRkQ2xhc3Mobik6dGhpcy5yZW1vdmVDbGFzcyhuKTp1KG4pP3RoaXMuZWFjaChmdW5jdGlvbihyKXtpKHRoaXMpLnRvZ2dsZUNsYXNzKG4uY2FsbCh0aGlzLHIsaXQodGhpcyksdCksdCl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdCxvLHUscztpZihlKWZvcihvPTAsdT1pKHRoaXMpLHM9dXIobik7dD1zW28rK107KXUuaGFzQ2xhc3ModCk/dS5yZW1vdmVDbGFzcyh0KTp1LmFkZENsYXNzKHQpO2Vsc2Ugdm9pZCAwIT09biYmImJvb2xlYW4iIT09Znx8KCh0PWl0KHRoaXMpKSYmci5zZXQodGhpcywiX19jbGFzc05hbWVfXyIsdCksdGhpcy5zZXRBdHRyaWJ1dGUmJnRoaXMuc2V0QXR0cmlidXRlKCJjbGFzcyIsdHx8ITE9PT1uPyIiOnIuZ2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiIpKX0pfSxoYXNDbGFzczpmdW5jdGlvbihuKXtmb3IodmFyIHQscj0wLGk9IiAiK24rIiAiO3Q9dGhpc1tyKytdOylpZigxPT09dC5ub2RlVHlwZSYmLTE8KCIgIit0dChpdCh0KSkrIiAiKS5pbmRleE9mKGkpKXJldHVybiEwO3JldHVybiExfX0pO3dmPS9cci9nO2kuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24obil7dmFyIHQscixlLGY9dGhpc1swXTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT11KG4pLHRoaXMuZWFjaChmdW5jdGlvbihyKXt2YXIgdTsxPT09dGhpcy5ub2RlVHlwZSYmKG51bGw9PSh1PWU/bi5jYWxsKHRoaXMscixpKHRoaXMpLnZhbCgpKTpuKT91PSIiOiJudW1iZXIiPT10eXBlb2YgdT91Kz0iIjpBcnJheS5pc0FycmF5KHUpJiYodT1pLm1hcCh1LGZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1uPyIiOm4rIiJ9KSksKHQ9aS52YWxIb29rc1t0aGlzLnR5cGVdfHxpLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYic2V0ImluIHQmJnZvaWQgMCE9PXQuc2V0KHRoaXMsdSwidmFsdWUiKXx8KHRoaXMudmFsdWU9dSkpfSkpOmY/KHQ9aS52YWxIb29rc1tmLnR5cGVdfHxpLnZhbEhvb2tzW2Yubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYiZ2V0ImluIHQmJnZvaWQgMCE9PShyPXQuZ2V0KGYsInZhbHVlIikpP3I6InN0cmluZyI9PXR5cGVvZihyPWYudmFsdWUpP3IucmVwbGFjZSh3ZiwiIik6bnVsbD09cj8iIjpyOnZvaWQgMH19KTtpLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKG4pe3ZhciB0PWkuZmluZC5hdHRyKG4sInZhbHVlIik7cmV0dXJuIG51bGwhPXQ/dDp0dChpLnRleHQobikpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24obil7Zm9yKHZhciBlLHQsbz1uLm9wdGlvbnMsdT1uLnNlbGVjdGVkSW5kZXgsZj0ic2VsZWN0LW9uZSI9PT1uLnR5cGUscz1mP251bGw6W10saD1mP3UrMTpvLmxlbmd0aCxyPXU8MD9oOmY/dTowO3I8aDtyKyspaWYoKCh0PW9bcl0pLnNlbGVjdGVkfHxyPT09dSkmJiF0LmRpc2FibGVkJiYoIXQucGFyZW50Tm9kZS5kaXNhYmxlZHx8IWModC5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7aWYoZT1pKHQpLnZhbCgpLGYpcmV0dXJuIGU7cy5wdXNoKGUpfXJldHVybiBzfSxzZXQ6ZnVuY3Rpb24obix0KXtmb3IodmFyIHIsdSxmPW4ub3B0aW9ucyxlPWkubWFrZUFycmF5KHQpLG89Zi5sZW5ndGg7by0tOykoKHU9ZltvXSkuc2VsZWN0ZWQ9LTE8aS5pbkFycmF5KGkudmFsSG9va3Mub3B0aW9uLmdldCh1KSxlKSkmJihyPSEwKTtyZXR1cm4gcnx8KG4uc2VsZWN0ZWRJbmRleD0tMSksZX19fX0pO2kuZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe2kudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihuLHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIG4uY2hlY2tlZD0tMTxpLmluQXJyYXkoaShuKS52YWwoKSx0KX19O2UuY2hlY2tPbnx8KGkudmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT09bi5nZXRBdHRyaWJ1dGUoInZhbHVlIik/Im9uIjpuLnZhbHVlfSl9KTtlLmZvY3VzaW49Im9uZm9jdXNpbiJpbiBuO2ZyPS9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLztlcj1mdW5jdGlvbihuKXtuLnN0b3BQcm9wYWdhdGlvbigpfTtpLmV4dGVuZChpLmV2ZW50LHt0cmlnZ2VyOmZ1bmN0aW9uKHQsZSxvLHMpe3ZhciBrLGMsbCxkLHYseSxhLHAsdz1bb3x8Zl0saD11aS5jYWxsKHQsInR5cGUiKT90LnR5cGU6dCxiPXVpLmNhbGwodCwibmFtZXNwYWNlIik/dC5uYW1lc3BhY2Uuc3BsaXQoIi4iKTpbXTtpZihjPXA9bD1vPW98fGYsMyE9PW8ubm9kZVR5cGUmJjghPT1vLm5vZGVUeXBlJiYhZnIudGVzdChoK2kuZXZlbnQudHJpZ2dlcmVkKSYmKC0xPGguaW5kZXhPZigiLiIpJiYoaD0oYj1oLnNwbGl0KCIuIikpLnNoaWZ0KCksYi5zb3J0KCkpLHY9aC5pbmRleE9mKCI6Iik8MCYmIm9uIitoLCh0PXRbaS5leHBhbmRvXT90Om5ldyBpLkV2ZW50KGgsIm9iamVjdCI9PXR5cGVvZiB0JiZ0KSkuaXNUcmlnZ2VyPXM/MjozLHQubmFtZXNwYWNlPWIuam9pbigiLiIpLHQucm5hbWVzcGFjZT10Lm5hbWVzcGFjZT9uZXcgUmVnRXhwKCIoXnxcXC4pIitiLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpOm51bGwsdC5yZXN1bHQ9dm9pZCAwLHQudGFyZ2V0fHwodC50YXJnZXQ9byksZT1udWxsPT1lP1t0XTppLm1ha2VBcnJheShlLFt0XSksYT1pLmV2ZW50LnNwZWNpYWxbaF18fHt9LHN8fCFhLnRyaWdnZXJ8fCExIT09YS50cmlnZ2VyLmFwcGx5KG8sZSkpKXtpZighcyYmIWEubm9CdWJibGUmJiFydChvKSl7Zm9yKGQ9YS5kZWxlZ2F0ZVR5cGV8fGgsZnIudGVzdChkK2gpfHwoYz1jLnBhcmVudE5vZGUpO2M7Yz1jLnBhcmVudE5vZGUpdy5wdXNoKGMpLGw9YztsPT09KG8ub3duZXJEb2N1bWVudHx8ZikmJncucHVzaChsLmRlZmF1bHRWaWV3fHxsLnBhcmVudFdpbmRvd3x8bil9Zm9yKGs9MDsoYz13W2srK10pJiYhdC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpOylwPWMsdC50eXBlPTE8az9kOmEuYmluZFR5cGV8fGgsKHk9KHIuZ2V0KGMsImV2ZW50cyIpfHxPYmplY3QuY3JlYXRlKG51bGwpKVt0LnR5cGVdJiZyLmdldChjLCJoYW5kbGUiKSkmJnkuYXBwbHkoYyxlKSwoeT12JiZjW3ZdKSYmeS5hcHBseSYmb3QoYykmJih0LnJlc3VsdD15LmFwcGx5KGMsZSksITE9PT10LnJlc3VsdCYmdC5wcmV2ZW50RGVmYXVsdCgpKTtyZXR1cm4gdC50eXBlPWgsc3x8dC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8YS5fZGVmYXVsdCYmITEhPT1hLl9kZWZhdWx0LmFwcGx5KHcucG9wKCksZSl8fCFvdChvKXx8diYmdShvW2hdKSYmIXJ0KG8pJiYoKGw9b1t2XSkmJihvW3ZdPW51bGwpLGkuZXZlbnQudHJpZ2dlcmVkPWgsdC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZwLmFkZEV2ZW50TGlzdGVuZXIoaCxlciksb1toXSgpLHQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSYmcC5yZW1vdmVFdmVudExpc3RlbmVyKGgsZXIpLGkuZXZlbnQudHJpZ2dlcmVkPXZvaWQgMCxsJiYob1t2XT1sKSksdC5yZXN1bHR9fSxzaW11bGF0ZTpmdW5jdGlvbihuLHQscil7dmFyIHU9aS5leHRlbmQobmV3IGkuRXZlbnQscix7dHlwZTpuLGlzU2ltdWxhdGVkOiEwfSk7aS5ldmVudC50cmlnZ2VyKHUsbnVsbCx0KX19KTtpLmZuLmV4dGVuZCh7dHJpZ2dlcjpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtpLmV2ZW50LnRyaWdnZXIobix0LHRoaXMpfSl9LHRyaWdnZXJIYW5kbGVyOmZ1bmN0aW9uKG4sdCl7dmFyIHI9dGhpc1swXTtpZihyKXJldHVybiBpLmV2ZW50LnRyaWdnZXIobix0LHIsITApfX0pO2UuZm9jdXNpbnx8aS5lYWNoKHtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQifSxmdW5jdGlvbihuLHQpe3ZhciB1PWZ1bmN0aW9uKG4pe2kuZXZlbnQuc2ltdWxhdGUodCxuLnRhcmdldCxpLmV2ZW50LmZpeChuKSl9O2kuZXZlbnQuc3BlY2lhbFt0XT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMuZG9jdW1lbnR8fHRoaXMsZj1yLmFjY2VzcyhpLHQpO2Z8fGkuYWRkRXZlbnRMaXN0ZW5lcihuLHUsITApO3IuYWNjZXNzKGksdCwoZnx8MCkrMSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLmRvY3VtZW50fHx0aGlzLGY9ci5hY2Nlc3MoaSx0KS0xO2Y/ci5hY2Nlc3MoaSx0LGYpOihpLnJlbW92ZUV2ZW50TGlzdGVuZXIobix1LCEwKSxyLnJlbW92ZShpLHQpKX19fSk7dmFyIHRpPW4ubG9jYXRpb24sYmY9e2d1aWQ6RGF0ZS5ub3coKX0sb3I9L1w/LztpLnBhcnNlWE1MPWZ1bmN0aW9uKHQpe3ZhciByO2lmKCF0fHwic3RyaW5nIiE9dHlwZW9mIHQpcmV0dXJuIG51bGw7dHJ5e3I9KG5ldyBuLkRPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKHQsInRleHQveG1sIil9Y2F0Y2godCl7cj12b2lkIDB9cmV0dXJuIHImJiFyLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpLmxlbmd0aHx8aS5lcnJvcigiSW52YWxpZCBYTUw6ICIrdCkscn07dmFyIGZvPS9cW1xdJC8sa2Y9L1xyP1xuL2csZW89L14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLG9vPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtpLnBhcmFtPWZ1bmN0aW9uKG4sdCl7dmFyIHIsZj1bXSxlPWZ1bmN0aW9uKG4sdCl7dmFyIGk9dSh0KT90KCk6dDtmW2YubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQobikrIj0iK2VuY29kZVVSSUNvbXBvbmVudChudWxsPT1pPyIiOmkpfTtpZihudWxsPT1uKXJldHVybiIiO2lmKEFycmF5LmlzQXJyYXkobil8fG4uanF1ZXJ5JiYhaS5pc1BsYWluT2JqZWN0KG4pKWkuZWFjaChuLGZ1bmN0aW9uKCl7ZSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihyIGluIG4pc3IocixuW3JdLHQsZSk7cmV0dXJuIGYuam9pbigiJiIpfTtpLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIGkucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgbj1pLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gbj9pLm1ha2VBcnJheShuKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIG49dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFpKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYmb28udGVzdCh0aGlzLm5vZGVOYW1lKSYmIWVvLnRlc3QobikmJih0aGlzLmNoZWNrZWR8fCFndC50ZXN0KG4pKX0pLm1hcChmdW5jdGlvbihuLHQpe3ZhciByPWkodGhpcykudmFsKCk7cmV0dXJuIG51bGw9PXI/bnVsbDpBcnJheS5pc0FycmF5KHIpP2kubWFwKHIsZnVuY3Rpb24obil7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOm4ucmVwbGFjZShrZiwiXHJcbiIpfX0pOntuYW1lOnQubmFtZSx2YWx1ZTpyLnJlcGxhY2Uoa2YsIlxyXG4iKX19KS5nZXQoKX19KTt2YXIgc289LyUyMC9nLGhvPS8jLiokLyxjbz0vKFs/Jl0pXz1bXiZdKi8sbG89L14oLio/KTpbIFx0XSooW15cclxuXSopJC9nbSxhbz0vXig/OkdFVHxIRUFEKSQvLHZvPS9eXC9cLy8sZGY9e30saHI9e30sZ2Y9IiovIi5jb25jYXQoIioiKSxjcj1mLmNyZWF0ZUVsZW1lbnQoImEiKTtyZXR1cm4gY3IuaHJlZj10aS5ocmVmLGkuZXh0ZW5kKHthY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fSxhamF4U2V0dGluZ3M6e3VybDp0aS5ocmVmLHR5cGU6IkdFVCIsaXNMb2NhbDovXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLy50ZXN0KHRpLnByb3RvY29sKSxnbG9iYWw6ITAscHJvY2Vzc0RhdGE6ITAsImFzeW5jIjohMCxjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04IixhY2NlcHRzOnsiKiI6Z2YsdGV4dDoidGV4dC9wbGFpbiIsaHRtbDoidGV4dC9odG1sIix4bWw6ImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLGpzb246ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCJ9LGNvbnRlbnRzOnt4bWw6L1xieG1sXGIvLGh0bWw6L1xiaHRtbC8sanNvbjovXGJqc29uXGIvfSxyZXNwb25zZUZpZWxkczp7eG1sOiJyZXNwb25zZVhNTCIsdGV4dDoicmVzcG9uc2VUZXh0Iixqc29uOiJyZXNwb25zZUpTT04ifSxjb252ZXJ0ZXJzOnsiKiB0ZXh0IjpTdHJpbmcsInRleHQgaHRtbCI6ITAsInRleHQganNvbiI6SlNPTi5wYXJzZSwidGV4dCB4bWwiOmkucGFyc2VYTUx9LGZsYXRPcHRpb25zOnt1cmw6ITAsY29udGV4dDohMH19LGFqYXhTZXR1cDpmdW5jdGlvbihuLHQpe3JldHVybiB0P2xyKGxyKG4saS5hamF4U2V0dGluZ3MpLHQpOmxyKGkuYWpheFNldHRpbmdzLG4pfSxhamF4UHJlZmlsdGVyOm5lKGRmKSxhamF4VHJhbnNwb3J0Om5lKGhyKSxhamF4OmZ1bmN0aW9uKHQscil7ZnVuY3Rpb24gYih0LHIsZixjKXt2YXIgdixydCxiLHAsZyxsPXI7c3x8KHM9ITAsZCYmbi5jbGVhclRpbWVvdXQoZCksYT12b2lkIDAsaz1jfHwiIixlLnJlYWR5U3RhdGU9MDx0PzQ6MCx2PTIwMDw9dCYmdDwzMDB8fDMwND09PXQsZiYmKHA9ZnVuY3Rpb24obix0LGkpe2Zvcih2YXIgZSx1LGYsbyxzPW4uY29udGVudHMscj1uLmRhdGFUeXBlczsiKiI9PT1yWzBdOylyLnNoaWZ0KCksdm9pZCAwPT09ZSYmKGU9bi5taW1lVHlwZXx8dC5nZXRSZXNwb25zZUhlYWRlcigiQ29udGVudC1UeXBlIikpO2lmKGUpZm9yKHUgaW4gcylpZihzW3VdJiZzW3VdLnRlc3QoZSkpe3IudW5zaGlmdCh1KTticmVha31pZihyWzBdaW4gaSlmPXJbMF07ZWxzZXtmb3IodSBpbiBpKXtpZighclswXXx8bi5jb252ZXJ0ZXJzW3UrIiAiK3JbMF1dKXtmPXU7YnJlYWt9b3x8KG89dSl9Zj1mfHxvfWlmKGYpcmV0dXJuIGYhPT1yWzBdJiZyLnVuc2hpZnQoZiksaVtmXX0odSxlLGYpKSwhdiYmLTE8aS5pbkFycmF5KCJzY3JpcHQiLHUuZGF0YVR5cGVzKSYmKHUuY29udmVydGVyc1sidGV4dCBzY3JpcHQiXT1mdW5jdGlvbigpe30pLHA9ZnVuY3Rpb24obix0LGkscil7dmFyIGgsdSxmLHMsZSxvPXt9LGM9bi5kYXRhVHlwZXMuc2xpY2UoKTtpZihjWzFdKWZvcihmIGluIG4uY29udmVydGVycylvW2YudG9Mb3dlckNhc2UoKV09bi5jb252ZXJ0ZXJzW2ZdO2Zvcih1PWMuc2hpZnQoKTt1OylpZihuLnJlc3BvbnNlRmllbGRzW3VdJiYoaVtuLnJlc3BvbnNlRmllbGRzW3VdXT10KSwhZSYmciYmbi5kYXRhRmlsdGVyJiYodD1uLmRhdGFGaWx0ZXIodCxuLmRhdGFUeXBlKSksZT11LHU9Yy5zaGlmdCgpKWlmKCIqIj09PXUpdT1lO2Vsc2UgaWYoIioiIT09ZSYmZSE9PXUpe2lmKCEoZj1vW2UrIiAiK3VdfHxvWyIqICIrdV0pKWZvcihoIGluIG8paWYoKHM9aC5zcGxpdCgiICIpKVsxXT09PXUmJihmPW9bZSsiICIrc1swXV18fG9bIiogIitzWzBdXSkpeyEwPT09Zj9mPW9baF06ITAhPT1vW2hdJiYodT1zWzBdLGMudW5zaGlmdChzWzFdKSk7YnJlYWt9aWYoITAhPT1mKWlmKGYmJm4udGhyb3dzKXQ9Zih0KTtlbHNlIHRyeXt0PWYodCl9Y2F0Y2gobil7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6Zj9uOiJObyBjb252ZXJzaW9uIGZyb20gIitlKyIgdG8gIit1fX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOnR9fSh1LHAsZSx2KSx2Pyh1LmlmTW9kaWZpZWQmJigoZz1lLmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpJiYoaS5sYXN0TW9kaWZpZWRbb109ZyksKGc9ZS5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpKSYmKGkuZXRhZ1tvXT1nKSksMjA0PT09dHx8IkhFQUQiPT09dS50eXBlP2w9Im5vY29udGVudCI6MzA0PT09dD9sPSJub3Rtb2RpZmllZCI6KGw9cC5zdGF0ZSxydD1wLmRhdGEsdj0hKGI9cC5lcnJvcikpKTooYj1sLCF0JiZsfHwobD0iZXJyb3IiLHQ8MCYmKHQ9MCkpKSxlLnN0YXR1cz10LGUuc3RhdHVzVGV4dD0ocnx8bCkrIiIsdj90dC5yZXNvbHZlV2l0aChoLFtydCxsLGVdKTp0dC5yZWplY3RXaXRoKGgsW2UsbCxiXSksZS5zdGF0dXNDb2RlKHcpLHc9dm9pZCAwLHkmJm50LnRyaWdnZXIodj8iYWpheFN1Y2Nlc3MiOiJhamF4RXJyb3IiLFtlLHUsdj9ydDpiXSksaXQuZmlyZVdpdGgoaCxbZSxsXSkseSYmKG50LnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW2UsdV0pLC0taS5hY3RpdmV8fGkuZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKSkpfSJvYmplY3QiPT10eXBlb2YgdCYmKHI9dCx0PXZvaWQgMCk7cj1yfHx7fTt2YXIgYSxvLGssdixkLGMscyx5LGcscCx1PWkuYWpheFNldHVwKHt9LHIpLGg9dS5jb250ZXh0fHx1LG50PXUuY29udGV4dCYmKGgubm9kZVR5cGV8fGguanF1ZXJ5KT9pKGgpOmkuZXZlbnQsdHQ9aS5EZWZlcnJlZCgpLGl0PWkuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLHc9dS5zdGF0dXNDb2RlfHx7fSxydD17fSx1dD17fSxmdD0iY2FuY2VsZWQiLGU9e3JlYWR5U3RhdGU6MCxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihuKXt2YXIgdDtpZihzKXtpZighdilmb3Iodj17fTt0PWxvLmV4ZWMoayk7KXZbdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl09KHZbdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl18fFtdKS5jb25jYXQodFsyXSk7dD12W24udG9Mb3dlckNhc2UoKSsiICJdfXJldHVybiBudWxsPT10P251bGw6dC5qb2luKCIsICIpfSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gcz9rOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24obix0KXtyZXR1cm4gbnVsbD09cyYmKG49dXRbbi50b0xvd2VyQ2FzZSgpXT11dFtuLnRvTG93ZXJDYXNlKCldfHxuLHJ0W25dPXQpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24obil7cmV0dXJuIG51bGw9PXMmJih1Lm1pbWVUeXBlPW4pLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24obil7dmFyIHQ7aWYobilpZihzKWUuYWx3YXlzKG5bZS5zdGF0dXNdKTtlbHNlIGZvcih0IGluIG4pd1t0XT1bd1t0XSxuW3RdXTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24obil7dmFyIHQ9bnx8ZnQ7cmV0dXJuIGEmJmEuYWJvcnQodCksYigwLHQpLHRoaXN9fTtpZih0dC5wcm9taXNlKGUpLHUudXJsPSgodHx8dS51cmx8fHRpLmhyZWYpKyIiKS5yZXBsYWNlKHZvLHRpLnByb3RvY29sKyIvLyIpLHUudHlwZT1yLm1ldGhvZHx8ci50eXBlfHx1Lm1ldGhvZHx8dS50eXBlLHUuZGF0YVR5cGVzPSh1LmRhdGFUeXBlfHwiKiIpLnRvTG93ZXJDYXNlKCkubWF0Y2gobCl8fFsiIl0sbnVsbD09dS5jcm9zc0RvbWFpbil7Yz1mLmNyZWF0ZUVsZW1lbnQoImEiKTt0cnl7Yy5ocmVmPXUudXJsO2MuaHJlZj1jLmhyZWY7dS5jcm9zc0RvbWFpbj1jci5wcm90b2NvbCsiLy8iK2NyLmhvc3QhPWMucHJvdG9jb2wrIi8vIitjLmhvc3R9Y2F0Y2godCl7dS5jcm9zc0RvbWFpbj0hMH19aWYodS5kYXRhJiZ1LnByb2Nlc3NEYXRhJiYic3RyaW5nIiE9dHlwZW9mIHUuZGF0YSYmKHUuZGF0YT1pLnBhcmFtKHUuZGF0YSx1LnRyYWRpdGlvbmFsKSksdGUoZGYsdSxyLGUpLHMpcmV0dXJuIGU7Zm9yKGcgaW4oeT1pLmV2ZW50JiZ1Lmdsb2JhbCkmJjA9PWkuYWN0aXZlKysmJmkuZXZlbnQudHJpZ2dlcigiYWpheFN0YXJ0IiksdS50eXBlPXUudHlwZS50b1VwcGVyQ2FzZSgpLHUuaGFzQ29udGVudD0hYW8udGVzdCh1LnR5cGUpLG89dS51cmwucmVwbGFjZShobywiIiksdS5oYXNDb250ZW50P3UuZGF0YSYmdS5wcm9jZXNzRGF0YSYmMD09PSh1LmNvbnRlbnRUeXBlfHwiIikuaW5kZXhPZigiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIikmJih1LmRhdGE9dS5kYXRhLnJlcGxhY2Uoc28sIisiKSk6KHA9dS51cmwuc2xpY2Uoby5sZW5ndGgpLHUuZGF0YSYmKHUucHJvY2Vzc0RhdGF8fCJzdHJpbmciPT10eXBlb2YgdS5kYXRhKSYmKG8rPShvci50ZXN0KG8pPyImIjoiPyIpK3UuZGF0YSxkZWxldGUgdS5kYXRhKSwhMT09PXUuY2FjaGUmJihvPW8ucmVwbGFjZShjbywiJDEiKSxwPShvci50ZXN0KG8pPyImIjoiPyIpKyJfPSIrYmYuZ3VpZCsrK3ApLHUudXJsPW8rcCksdS5pZk1vZGlmaWVkJiYoaS5sYXN0TW9kaWZpZWRbb10mJmUuc2V0UmVxdWVzdEhlYWRlcigiSWYtTW9kaWZpZWQtU2luY2UiLGkubGFzdE1vZGlmaWVkW29dKSxpLmV0YWdbb10mJmUuc2V0UmVxdWVzdEhlYWRlcigiSWYtTm9uZS1NYXRjaCIsaS5ldGFnW29dKSksKHUuZGF0YSYmdS5oYXNDb250ZW50JiYhMSE9PXUuY29udGVudFR5cGV8fHIuY29udGVudFR5cGUpJiZlLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsdS5jb250ZW50VHlwZSksZS5zZXRSZXF1ZXN0SGVhZGVyKCJBY2NlcHQiLHUuZGF0YVR5cGVzWzBdJiZ1LmFjY2VwdHNbdS5kYXRhVHlwZXNbMF1dP3UuYWNjZXB0c1t1LmRhdGFUeXBlc1swXV0rKCIqIiE9PXUuZGF0YVR5cGVzWzBdPyIsICIrZ2YrIjsgcT0wLjAxIjoiIik6dS5hY2NlcHRzWyIqIl0pLHUuaGVhZGVycyllLnNldFJlcXVlc3RIZWFkZXIoZyx1LmhlYWRlcnNbZ10pO2lmKHUuYmVmb3JlU2VuZCYmKCExPT09dS5iZWZvcmVTZW5kLmNhbGwoaCxlLHUpfHxzKSlyZXR1cm4gZS5hYm9ydCgpO2lmKGZ0PSJhYm9ydCIsaXQuYWRkKHUuY29tcGxldGUpLGUuZG9uZSh1LnN1Y2Nlc3MpLGUuZmFpbCh1LmVycm9yKSxhPXRlKGhyLHUscixlKSl7aWYoZS5yZWFkeVN0YXRlPTEseSYmbnQudHJpZ2dlcigiYWpheFNlbmQiLFtlLHVdKSxzKXJldHVybiBlO3UuYXN5bmMmJjA8dS50aW1lb3V0JiYoZD1uLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmFib3J0KCJ0aW1lb3V0Iil9LHUudGltZW91dCkpO3RyeXtzPSExO2Euc2VuZChydCxiKX1jYXRjaCh0KXtpZihzKXRocm93IHQ7YigtMSx0KX19ZWxzZSBiKC0xLCJObyBUcmFuc3BvcnQiKTtyZXR1cm4gZX0sZ2V0SlNPTjpmdW5jdGlvbihuLHQscil7cmV0dXJuIGkuZ2V0KG4sdCxyLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihuLHQpe3JldHVybiBpLmdldChuLHZvaWQgMCx0LCJzY3JpcHQiKX19KSxpLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24obix0KXtpW3RdPWZ1bmN0aW9uKG4scixmLGUpe3JldHVybiB1KHIpJiYoZT1lfHxmLGY9cixyPXZvaWQgMCksaS5hamF4KGkuZXh0ZW5kKHt1cmw6bix0eXBlOnQsZGF0YVR5cGU6ZSxkYXRhOnIsc3VjY2VzczpmfSxpLmlzUGxhaW5PYmplY3QobikmJm4pKX19KSxpLmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24obil7Zm9yKHZhciB0IGluIG4uaGVhZGVycykiY29udGVudC10eXBlIj09PXQudG9Mb3dlckNhc2UoKSYmKG4uY29udGVudFR5cGU9bi5oZWFkZXJzW3RdfHwiIil9KSxpLl9ldmFsVXJsPWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gaS5hamF4KHt1cmw6bix0eXBlOiJHRVQiLGRhdGFUeXBlOiJzY3JpcHQiLGNhY2hlOiEwLCJhc3luYyI6ITEsZ2xvYmFsOiExLGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oKXt9fSxkYXRhRmlsdGVyOmZ1bmN0aW9uKG4pe2kuZ2xvYmFsRXZhbChuLHQscil9fSl9LGkuZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKG4pe3ZhciB0O3JldHVybiB0aGlzWzBdJiYodShuKSYmKG49bi5jYWxsKHRoaXNbMF0pKSx0PWkobix0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJnQuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLHQubWFwKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPXRoaXM7bi5maXJzdEVsZW1lbnRDaGlsZDspbj1uLmZpcnN0RWxlbWVudENoaWxkO3JldHVybiBufSkuYXBwZW5kKHRoaXMpKSx0aGlzfSx3cmFwSW5uZXI6ZnVuY3Rpb24obil7cmV0dXJuIHUobik/dGhpcy5lYWNoKGZ1bmN0aW9uKHQpe2kodGhpcykud3JhcElubmVyKG4uY2FsbCh0aGlzLHQpKX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PWkodGhpcykscj10LmNvbnRlbnRzKCk7ci5sZW5ndGg/ci53cmFwQWxsKG4pOnQuYXBwZW5kKG4pfSl9LHdyYXA6ZnVuY3Rpb24obil7dmFyIHQ9dShuKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHIpe2kodGhpcykud3JhcEFsbCh0P24uY2FsbCh0aGlzLHIpOm4pfSl9LHVud3JhcDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5wYXJlbnQobikubm90KCJib2R5IikuZWFjaChmdW5jdGlvbigpe2kodGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLHRoaXN9fSksaS5leHByLnBzZXVkb3MuaGlkZGVuPWZ1bmN0aW9uKG4pe3JldHVybiFpLmV4cHIucHNldWRvcy52aXNpYmxlKG4pfSxpLmV4cHIucHNldWRvcy52aXNpYmxlPWZ1bmN0aW9uKG4pe3JldHVybiEhKG4ub2Zmc2V0V2lkdGh8fG4ub2Zmc2V0SGVpZ2h0fHxuLmdldENsaWVudFJlY3RzKCkubGVuZ3RoKX0saS5hamF4U2V0dGluZ3MueGhyPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgbi5YTUxIdHRwUmVxdWVzdH1jYXRjaCh0KXt9fSxpZT17MDoyMDAsMTIyMzoyMDR9LHd0PWkuYWpheFNldHRpbmdzLnhocigpLGUuY29ycz0hIXd0JiYid2l0aENyZWRlbnRpYWxzImluIHd0LGUuYWpheD13dD0hIXd0LGkuYWpheFRyYW5zcG9ydChmdW5jdGlvbih0KXt2YXIgaSxyO2lmKGUuY29yc3x8d3QmJiF0LmNyb3NzRG9tYWluKXJldHVybntzZW5kOmZ1bmN0aW9uKHUsZil7dmFyIG8sZT10LnhocigpO2lmKGUub3Blbih0LnR5cGUsdC51cmwsdC5hc3luYyx0LnVzZXJuYW1lLHQucGFzc3dvcmQpLHQueGhyRmllbGRzKWZvcihvIGluIHQueGhyRmllbGRzKWVbb109dC54aHJGaWVsZHNbb107Zm9yKG8gaW4gdC5taW1lVHlwZSYmZS5vdmVycmlkZU1pbWVUeXBlJiZlLm92ZXJyaWRlTWltZVR5cGUodC5taW1lVHlwZSksdC5jcm9zc0RvbWFpbnx8dVsiWC1SZXF1ZXN0ZWQtV2l0aCJdfHwodVsiWC1SZXF1ZXN0ZWQtV2l0aCJdPSJYTUxIdHRwUmVxdWVzdCIpLHUpZS5zZXRSZXF1ZXN0SGVhZGVyKG8sdVtvXSk7aT1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oKXtpJiYoaT1yPWUub25sb2FkPWUub25lcnJvcj1lLm9uYWJvcnQ9ZS5vbnRpbWVvdXQ9ZS5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCwiYWJvcnQiPT09bj9lLmFib3J0KCk6ImVycm9yIj09PW4/Im51bWJlciIhPXR5cGVvZiBlLnN0YXR1cz9mKDAsImVycm9yIik6ZihlLnN0YXR1cyxlLnN0YXR1c1RleHQpOmYoaWVbZS5zdGF0dXNdfHxlLnN0YXR1cyxlLnN0YXR1c1RleHQsInRleHQiIT09KGUucmVzcG9uc2VUeXBlfHwidGV4dCIpfHwic3RyaW5nIiE9dHlwZW9mIGUucmVzcG9uc2VUZXh0P3tiaW5hcnk6ZS5yZXNwb25zZX06e3RleHQ6ZS5yZXNwb25zZVRleHR9LGUuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKX19O2Uub25sb2FkPWkoKTtyPWUub25lcnJvcj1lLm9udGltZW91dD1pKCJlcnJvciIpO3ZvaWQgMCE9PWUub25hYm9ydD9lLm9uYWJvcnQ9cjplLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQ9PT1lLnJlYWR5U3RhdGUmJm4uc2V0VGltZW91dChmdW5jdGlvbigpe2kmJnIoKX0pfTtpPWkoImFib3J0Iik7dHJ5e2Uuc2VuZCh0Lmhhc0NvbnRlbnQmJnQuZGF0YXx8bnVsbCl9Y2F0Y2godSl7aWYoaSl0aHJvdyB1O319LGFib3J0OmZ1bmN0aW9uKCl7aSYmaSgpfX19KSxpLmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24obil7bi5jcm9zc0RvbWFpbiYmKG4uY29udGVudHMuc2NyaXB0PSExKX0pLGkuYWpheFNldHVwKHthY2NlcHRzOntzY3JpcHQ6InRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0In0sY29udGVudHM6e3NjcmlwdDovXGIoPzpqYXZhfGVjbWEpc2NyaXB0XGIvfSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKG4pe3JldHVybiBpLmdsb2JhbEV2YWwobiksbn19fSksaS5hamF4UHJlZmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKG4pe3ZvaWQgMD09PW4uY2FjaGUmJihuLmNhY2hlPSExKTtuLmNyb3NzRG9tYWluJiYobi50eXBlPSJHRVQiKX0pLGkuYWpheFRyYW5zcG9ydCgic2NyaXB0IixmdW5jdGlvbihuKXt2YXIgcix0O2lmKG4uY3Jvc3NEb21haW58fG4uc2NyaXB0QXR0cnMpcmV0dXJue3NlbmQ6ZnVuY3Rpb24odSxlKXtyPWkoIjxzY3JpcHQ+IikuYXR0cihuLnNjcmlwdEF0dHJzfHx7fSkucHJvcCh7Y2hhcnNldDpuLnNjcmlwdENoYXJzZXQsc3JjOm4udXJsfSkub24oImxvYWQgZXJyb3IiLHQ9ZnVuY3Rpb24obil7ci5yZW1vdmUoKTt0PW51bGw7biYmZSgiZXJyb3IiPT09bi50eXBlPzQwNDoyMDAsbi50eXBlKX0pO2YuaGVhZC5hcHBlbmRDaGlsZChyWzBdKX0sYWJvcnQ6ZnVuY3Rpb24oKXt0JiZ0KCl9fX0pLGFyPVtdLHZpPS8oPSlcPyg/PSZ8JCl8XD9cPy8saS5hamF4U2V0dXAoe2pzb25wOiJjYWxsYmFjayIsanNvbnBDYWxsYmFjazpmdW5jdGlvbigpe3ZhciBuPWFyLnBvcCgpfHxpLmV4cGFuZG8rIl8iK2JmLmd1aWQrKztyZXR1cm4gdGhpc1tuXT0hMCxufX0pLGkuYWpheFByZWZpbHRlcigianNvbiBqc29ucCIsZnVuY3Rpb24odCxyLGYpe3ZhciBlLG8scyxoPSExIT09dC5qc29ucCYmKHZpLnRlc3QodC51cmwpPyJ1cmwiOiJzdHJpbmciPT10eXBlb2YgdC5kYXRhJiYwPT09KHQuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmdmkudGVzdCh0LmRhdGEpJiYiZGF0YSIpO2lmKGh8fCJqc29ucCI9PT10LmRhdGFUeXBlc1swXSlyZXR1cm4gZT10Lmpzb25wQ2FsbGJhY2s9dSh0Lmpzb25wQ2FsbGJhY2spP3QuanNvbnBDYWxsYmFjaygpOnQuanNvbnBDYWxsYmFjayxoP3RbaF09dFtoXS5yZXBsYWNlKHZpLCIkMSIrZSk6ITEhPT10Lmpzb25wJiYodC51cmwrPShvci50ZXN0KHQudXJsKT8iJiI6Ij8iKSt0Lmpzb25wKyI9IitlKSx0LmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl09ZnVuY3Rpb24oKXtyZXR1cm4gc3x8aS5lcnJvcihlKyIgd2FzIG5vdCBjYWxsZWQiKSxzWzBdfSx0LmRhdGFUeXBlc1swXT0ianNvbiIsbz1uW2VdLG5bZV09ZnVuY3Rpb24oKXtzPWFyZ3VtZW50c30sZi5hbHdheXMoZnVuY3Rpb24oKXt2b2lkIDA9PT1vP2kobikucmVtb3ZlUHJvcChlKTpuW2VdPW87dFtlXSYmKHQuanNvbnBDYWxsYmFjaz1yLmpzb25wQ2FsbGJhY2ssYXIucHVzaChlKSk7cyYmdShvKSYmbyhzWzBdKTtzPW89dm9pZCAwfSksInNjcmlwdCJ9KSxlLmNyZWF0ZUhUTUxEb2N1bWVudD0oKHJlPWYuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKS5ib2R5KS5pbm5lckhUTUw9Ijxmb3JtPjxcL2Zvcm0+PGZvcm0+PFwvZm9ybT4iLDI9PT1yZS5jaGlsZE5vZGVzLmxlbmd0aCksaS5wYXJzZUhUTUw9ZnVuY3Rpb24obix0LHIpe3JldHVybiJzdHJpbmciIT10eXBlb2Ygbj9bXTooImJvb2xlYW4iPT10eXBlb2YgdCYmKHI9dCx0PSExKSx0fHwoZS5jcmVhdGVIVE1MRG9jdW1lbnQ/KChzPSh0PWYuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKSkuY3JlYXRlRWxlbWVudCgiYmFzZSIpKS5ocmVmPWYubG9jYXRpb24uaHJlZix0LmhlYWQuYXBwZW5kQ2hpbGQocykpOnQ9ZiksdT0hciYmW10sKG89d2kuZXhlYyhuKSk/W3QuY3JlYXRlRWxlbWVudChvWzFdKV06KG89dnUoW25dLHQsdSksdSYmdS5sZW5ndGgmJmkodSkucmVtb3ZlKCksaS5tZXJnZShbXSxvLmNoaWxkTm9kZXMpKSk7dmFyIHMsbyx1fSxpLmZuLmxvYWQ9ZnVuY3Rpb24obix0LHIpe3ZhciBmLHMsaCxlPXRoaXMsbz1uLmluZGV4T2YoIiAiKTtyZXR1cm4tMTxvJiYoZj10dChuLnNsaWNlKG8pKSxuPW4uc2xpY2UoMCxvKSksdSh0KT8ocj10LHQ9dm9pZCAwKTp0JiYib2JqZWN0Ij09dHlwZW9mIHQmJihzPSJQT1NUIiksMDxlLmxlbmd0aCYmaS5hamF4KHt1cmw6bix0eXBlOnN8fCJHRVQiLGRhdGFUeXBlOiJodG1sIixkYXRhOnR9KS5kb25lKGZ1bmN0aW9uKG4pe2g9YXJndW1lbnRzO2UuaHRtbChmP2koIjxkaXY+IikuYXBwZW5kKGkucGFyc2VIVE1MKG4pKS5maW5kKGYpOm4pfSkuYWx3YXlzKHImJmZ1bmN0aW9uKG4sdCl7ZS5lYWNoKGZ1bmN0aW9uKCl7ci5hcHBseSh0aGlzLGh8fFtuLnJlc3BvbnNlVGV4dCx0LG5dKX0pfSksdGhpc30saS5leHByLnBzZXVkb3MuYW5pbWF0ZWQ9ZnVuY3Rpb24obil7cmV0dXJuIGkuZ3JlcChpLnRpbWVycyxmdW5jdGlvbih0KXtyZXR1cm4gbj09PXQuZWxlbX0pLmxlbmd0aH0saS5vZmZzZXQ9e3NldE9mZnNldDpmdW5jdGlvbihuLHQscil7dmFyIHYsbyxzLGgsZSxjLGw9aS5jc3MobiwicG9zaXRpb24iKSxhPWkobiksZj17fTsic3RhdGljIj09PWwmJihuLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSIpO2U9YS5vZmZzZXQoKTtzPWkuY3NzKG4sInRvcCIpO2M9aS5jc3MobiwibGVmdCIpOygiYWJzb2x1dGUiPT09bHx8ImZpeGVkIj09PWwpJiYtMTwocytjKS5pbmRleE9mKCJhdXRvIik/KGg9KHY9YS5wb3NpdGlvbigpKS50b3Asbz12LmxlZnQpOihoPXBhcnNlRmxvYXQocyl8fDAsbz1wYXJzZUZsb2F0KGMpfHwwKTt1KHQpJiYodD10LmNhbGwobixyLGkuZXh0ZW5kKHt9LGUpKSk7bnVsbCE9dC50b3AmJihmLnRvcD10LnRvcC1lLnRvcCtoKTtudWxsIT10LmxlZnQmJihmLmxlZnQ9dC5sZWZ0LWUubGVmdCtvKTsidXNpbmciaW4gdD90LnVzaW5nLmNhbGwobixmKTooIm51bWJlciI9PXR5cGVvZiBmLnRvcCYmKGYudG9wKz0icHgiKSwibnVtYmVyIj09dHlwZW9mIGYubGVmdCYmKGYubGVmdCs9InB4IiksYS5jc3MoZikpfX0saS5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbihuKXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT1uP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKHQpe2kub2Zmc2V0LnNldE9mZnNldCh0aGlzLG4sdCl9KTt2YXIgcix1LHQ9dGhpc1swXTtpZih0KXJldHVybiB0LmdldENsaWVudFJlY3RzKCkubGVuZ3RoPyhyPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdT10Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcse3RvcDpyLnRvcCt1LnBhZ2VZT2Zmc2V0LGxlZnQ6ci5sZWZ0K3UucGFnZVhPZmZzZXR9KTp7dG9wOjAsbGVmdDowfX0scG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzWzBdKXt2YXIgbixyLHUsdD10aGlzWzBdLGY9e3RvcDowLGxlZnQ6MH07aWYoImZpeGVkIj09PWkuY3NzKHQsInBvc2l0aW9uIikpcj10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2Vsc2V7Zm9yKHI9dGhpcy5vZmZzZXQoKSx1PXQub3duZXJEb2N1bWVudCxuPXQub2Zmc2V0UGFyZW50fHx1LmRvY3VtZW50RWxlbWVudDtuJiYobj09PXUuYm9keXx8bj09PXUuZG9jdW1lbnRFbGVtZW50KSYmInN0YXRpYyI9PT1pLmNzcyhuLCJwb3NpdGlvbiIpOyluPW4ucGFyZW50Tm9kZTtuJiZuIT09dCYmMT09PW4ubm9kZVR5cGUmJigoZj1pKG4pLm9mZnNldCgpKS50b3ArPWkuY3NzKG4sImJvcmRlclRvcFdpZHRoIiwhMCksZi5sZWZ0Kz1pLmNzcyhuLCJib3JkZXJMZWZ0V2lkdGgiLCEwKSl9cmV0dXJue3RvcDpyLnRvcC1mLnRvcC1pLmNzcyh0LCJtYXJnaW5Ub3AiLCEwKSxsZWZ0OnIubGVmdC1mLmxlZnQtaS5jc3ModCwibWFyZ2luTGVmdCIsITApfX19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe2Zvcih2YXIgbj10aGlzLm9mZnNldFBhcmVudDtuJiYic3RhdGljIj09PWkuY3NzKG4sInBvc2l0aW9uIik7KW49bi5vZmZzZXRQYXJlbnQ7cmV0dXJuIG58fGd9KX19KSxpLmVhY2goe3Njcm9sbExlZnQ6InBhZ2VYT2Zmc2V0IixzY3JvbGxUb3A6InBhZ2VZT2Zmc2V0In0sZnVuY3Rpb24obix0KXt2YXIgcj0icGFnZVlPZmZzZXQiPT09dDtpLmZuW25dPWZ1bmN0aW9uKGkpe3JldHVybiB3KHRoaXMsZnVuY3Rpb24obixpLHUpe3ZhciBmO2lmKHJ0KG4pP2Y9bjo5PT09bi5ub2RlVHlwZSYmKGY9bi5kZWZhdWx0Vmlldyksdm9pZCAwPT09dSlyZXR1cm4gZj9mW3RdOm5baV07Zj9mLnNjcm9sbFRvKHI/Zi5wYWdlWE9mZnNldDp1LHI/dTpmLnBhZ2VZT2Zmc2V0KTpuW2ldPXV9LG4saSxhcmd1bWVudHMubGVuZ3RoKX19KSxpLmVhY2goWyJ0b3AiLCJsZWZ0Il0sZnVuY3Rpb24obix0KXtpLmNzc0hvb2tzW3RdPWR1KGUucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihuLHIpe2lmKHIpcmV0dXJuIHI9bmkobix0KSxuci50ZXN0KHIpP2kobikucG9zaXRpb24oKVt0XSsicHgiOnJ9KX0pLGkuZWFjaCh7SGVpZ2h0OiJoZWlnaHQiLFdpZHRoOiJ3aWR0aCJ9LGZ1bmN0aW9uKG4sdCl7aS5lYWNoKHtwYWRkaW5nOiJpbm5lciIrbixjb250ZW50OnQsIiI6Im91dGVyIitufSxmdW5jdGlvbihyLHUpe2kuZm5bdV09ZnVuY3Rpb24oZixlKXt2YXIgbz1hcmd1bWVudHMubGVuZ3RoJiYocnx8ImJvb2xlYW4iIT10eXBlb2YgZikscz1yfHwoITA9PT1mfHwhMD09PWU/Im1hcmdpbiI6ImJvcmRlciIpO3JldHVybiB3KHRoaXMsZnVuY3Rpb24odCxyLGYpe3ZhciBlO3JldHVybiBydCh0KT8wPT09dS5pbmRleE9mKCJvdXRlciIpP3RbImlubmVyIituXTp0LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsiY2xpZW50IituXTo5PT09dC5ub2RlVHlwZT8oZT10LmRvY3VtZW50RWxlbWVudCxNYXRoLm1heCh0LmJvZHlbInNjcm9sbCIrbl0sZVsic2Nyb2xsIituXSx0LmJvZHlbIm9mZnNldCIrbl0sZVsib2Zmc2V0IituXSxlWyJjbGllbnQiK25dKSk6dm9pZCAwPT09Zj9pLmNzcyh0LHIscyk6aS5zdHlsZSh0LHIsZixzKX0sdCxvP2Y6dm9pZCAwLG8pfX0pfSksaS5lYWNoKFsiYWpheFN0YXJ0IiwiYWpheFN0b3AiLCJhamF4Q29tcGxldGUiLCJhamF4RXJyb3IiLCJhamF4U3VjY2VzcyIsImFqYXhTZW5kIl0sZnVuY3Rpb24obix0KXtpLmZuW3RdPWZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLm9uKHQsbil9fSksaS5mbi5leHRlbmQoe2JpbmQ6ZnVuY3Rpb24obix0LGkpe3JldHVybiB0aGlzLm9uKG4sbnVsbCx0LGkpfSx1bmJpbmQ6ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5vZmYobixudWxsLHQpfSxkZWxlZ2F0ZTpmdW5jdGlvbihuLHQsaSxyKXtyZXR1cm4gdGhpcy5vbih0LG4saSxyKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKG4sIioqIik6dGhpcy5vZmYodCxufHwiKioiLGkpfSxob3ZlcjpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLm1vdXNlZW50ZXIobikubW91c2VsZWF2ZSh0fHxuKX19KSxpLmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCByZXNpemUgc2Nyb2xsIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgY29udGV4dG1lbnUiLnNwbGl0KCIgIiksZnVuY3Rpb24obix0KXtpLmZuW3RdPWZ1bmN0aW9uKG4saSl7cmV0dXJuIDA8YXJndW1lbnRzLmxlbmd0aD90aGlzLm9uKHQsbnVsbCxuLGkpOnRoaXMudHJpZ2dlcih0KX19KSx1ZT0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2csaS5wcm94eT1mdW5jdGlvbihuLHQpe3ZhciByLGYsZTtpZigic3RyaW5nIj09dHlwZW9mIHQmJihyPW5bdF0sdD1uLG49ciksdShuKSlyZXR1cm4gZj1rLmNhbGwoYXJndW1lbnRzLDIpLChlPWZ1bmN0aW9uKCl7cmV0dXJuIG4uYXBwbHkodHx8dGhpcyxmLmNvbmNhdChrLmNhbGwoYXJndW1lbnRzKSkpfSkuZ3VpZD1uLmd1aWQ9bi5ndWlkfHxpLmd1aWQrKyxlfSxpLmhvbGRSZWFkeT1mdW5jdGlvbihuKXtuP2kucmVhZHlXYWl0Kys6aS5yZWFkeSghMCl9LGkuaXNBcnJheT1BcnJheS5pc0FycmF5LGkucGFyc2VKU09OPUpTT04ucGFyc2UsaS5ub2RlTmFtZT1jLGkuaXNGdW5jdGlvbj11LGkuaXNXaW5kb3c9cnQsaS5jYW1lbENhc2U9eSxpLnR5cGU9dXQsaS5ub3c9RGF0ZS5ub3csaS5pc051bWVyaWM9ZnVuY3Rpb24obil7dmFyIHQ9aS50eXBlKG4pO3JldHVybigibnVtYmVyIj09PXR8fCJzdHJpbmciPT09dCkmJiFpc05hTihuLXBhcnNlRmxvYXQobikpfSxpLnRyaW09ZnVuY3Rpb24obil7cmV0dXJuIG51bGw9PW4/IiI6KG4rIiIpLnJlcGxhY2UodWUsIiIpfSwiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoImpxdWVyeSIsW10sZnVuY3Rpb24oKXtyZXR1cm4gaX0pLGZlPW4ualF1ZXJ5LGVlPW4uJCxpLm5vQ29uZmxpY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIG4uJD09PWkmJihuLiQ9ZWUpLHQmJm4ualF1ZXJ5PT09aSYmKG4ualF1ZXJ5PWZlKSxpfSwidW5kZWZpbmVkIj09dHlwZW9mIHQmJihuLmpRdWVyeT1uLiQ9aSksaX0pOwovKiEgalF1ZXJ5IFZhbGlkYXRpb24gUGx1Z2luIC0gdjEuMTkuMyAtIDEvOS8yMDIxCiAqIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvCiAqIENvcHlyaWdodCAoYykgMjAyMSBKw7ZybiBaYWVmZmVyZXI7IExpY2Vuc2VkIE1JVCAqLwohZnVuY3Rpb24obil7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJqcXVlcnkiXSxuKToib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9bihyZXF1aXJlKCJqcXVlcnkiKSk6bihqUXVlcnkpfShmdW5jdGlvbihuKXt2YXIgaSxyLHQ7cmV0dXJuIG4uZXh0ZW5kKG4uZm4se3ZhbGlkYXRlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmxlbmd0aClyZXR1cm4gdm9pZCh0JiZ0LmRlYnVnJiZ3aW5kb3cuY29uc29sZSYmY29uc29sZS53YXJuKCJOb3RoaW5nIHNlbGVjdGVkLCBjYW4ndCB2YWxpZGF0ZSwgcmV0dXJuaW5nIG5vdGhpbmcuIikpO3ZhciBpPW4uZGF0YSh0aGlzWzBdLCJ2YWxpZGF0b3IiKTtyZXR1cm4gaT9pOih0aGlzLmF0dHIoIm5vdmFsaWRhdGUiLCJub3ZhbGlkYXRlIiksaT1uZXcgbi52YWxpZGF0b3IodCx0aGlzWzBdKSxuLmRhdGEodGhpc1swXSwidmFsaWRhdG9yIixpKSxpLnNldHRpbmdzLm9uc3VibWl0JiYodGhpcy5vbigiY2xpY2sudmFsaWRhdGUiLCI6c3VibWl0IixmdW5jdGlvbih0KXtpLnN1Ym1pdEJ1dHRvbj10LmN1cnJlbnRUYXJnZXQ7bih0aGlzKS5oYXNDbGFzcygiY2FuY2VsIikmJihpLmNhbmNlbFN1Ym1pdD0hMCk7dm9pZCAwIT09bih0aGlzKS5hdHRyKCJmb3Jtbm92YWxpZGF0ZSIpJiYoaS5jYW5jZWxTdWJtaXQ9ITApfSksdGhpcy5vbigic3VibWl0LnZhbGlkYXRlIixmdW5jdGlvbih0KXtmdW5jdGlvbiByKCl7dmFyIHIsdTtyZXR1cm4gaS5zdWJtaXRCdXR0b24mJihpLnNldHRpbmdzLnN1Ym1pdEhhbmRsZXJ8fGkuZm9ybVN1Ym1pdHRlZCkmJihyPW4oIjxpbnB1dCB0eXBlPSdoaWRkZW4nLz4iKS5hdHRyKCJuYW1lIixpLnN1Ym1pdEJ1dHRvbi5uYW1lKS52YWwobihpLnN1Ym1pdEJ1dHRvbikudmFsKCkpLmFwcGVuZFRvKGkuY3VycmVudEZvcm0pKSwhKGkuc2V0dGluZ3Muc3VibWl0SGFuZGxlciYmIWkuc2V0dGluZ3MuZGVidWcpfHwodT1pLnNldHRpbmdzLnN1Ym1pdEhhbmRsZXIuY2FsbChpLGkuY3VycmVudEZvcm0sdCksciYmci5yZW1vdmUoKSx2b2lkIDAhPT11JiZ1KX1yZXR1cm4gaS5zZXR0aW5ncy5kZWJ1ZyYmdC5wcmV2ZW50RGVmYXVsdCgpLGkuY2FuY2VsU3VibWl0PyhpLmNhbmNlbFN1Ym1pdD0hMSxyKCkpOmkuZm9ybSgpP2kucGVuZGluZ1JlcXVlc3Q/KGkuZm9ybVN1Ym1pdHRlZD0hMCwhMSk6cigpOihpLmZvY3VzSW52YWxpZCgpLCExKX0pKSxpKX0sdmFsaWQ6ZnVuY3Rpb24oKXt2YXIgdCxpLHI7cmV0dXJuIG4odGhpc1swXSkuaXMoImZvcm0iKT90PXRoaXMudmFsaWRhdGUoKS5mb3JtKCk6KHI9W10sdD0hMCxpPW4odGhpc1swXS5mb3JtKS52YWxpZGF0ZSgpLHRoaXMuZWFjaChmdW5jdGlvbigpe3Q9aS5lbGVtZW50KHRoaXMpJiZ0O3R8fChyPXIuY29uY2F0KGkuZXJyb3JMaXN0KSl9KSxpLmVycm9yTGlzdD1yKSx0fSxydWxlczpmdW5jdGlvbih0LGkpe3ZhciBlLHMsZix1LG8saCxyPXRoaXNbMF0sYz0idW5kZWZpbmVkIiE9dHlwZW9mIHRoaXMuYXR0cigiY29udGVudGVkaXRhYmxlIikmJiJmYWxzZSIhPT10aGlzLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIpO2lmKG51bGwhPXImJighci5mb3JtJiZjJiYoci5mb3JtPXRoaXMuY2xvc2VzdCgiZm9ybSIpWzBdLHIubmFtZT10aGlzLmF0dHIoIm5hbWUiKSksbnVsbCE9ci5mb3JtKSl7aWYodClzd2l0Y2goZT1uLmRhdGEoci5mb3JtLCJ2YWxpZGF0b3IiKS5zZXR0aW5ncyxzPWUucnVsZXMsZj1uLnZhbGlkYXRvci5zdGF0aWNSdWxlcyhyKSx0KXtjYXNlImFkZCI6bi5leHRlbmQoZixuLnZhbGlkYXRvci5ub3JtYWxpemVSdWxlKGkpKTtkZWxldGUgZi5tZXNzYWdlcztzW3IubmFtZV09ZjtpLm1lc3NhZ2VzJiYoZS5tZXNzYWdlc1tyLm5hbWVdPW4uZXh0ZW5kKGUubWVzc2FnZXNbci5uYW1lXSxpLm1lc3NhZ2VzKSk7YnJlYWs7Y2FzZSJyZW1vdmUiOnJldHVybiBpPyhoPXt9LG4uZWFjaChpLnNwbGl0KC9ccy8pLGZ1bmN0aW9uKG4sdCl7aFt0XT1mW3RdO2RlbGV0ZSBmW3RdfSksaCk6KGRlbGV0ZSBzW3IubmFtZV0sZil9cmV0dXJuIHU9bi52YWxpZGF0b3Iubm9ybWFsaXplUnVsZXMobi5leHRlbmQoe30sbi52YWxpZGF0b3IuY2xhc3NSdWxlcyhyKSxuLnZhbGlkYXRvci5hdHRyaWJ1dGVSdWxlcyhyKSxuLnZhbGlkYXRvci5kYXRhUnVsZXMociksbi52YWxpZGF0b3Iuc3RhdGljUnVsZXMocikpLHIpLHUucmVxdWlyZWQmJihvPXUucmVxdWlyZWQsZGVsZXRlIHUucmVxdWlyZWQsdT1uLmV4dGVuZCh7cmVxdWlyZWQ6b30sdSkpLHUucmVtb3RlJiYobz11LnJlbW90ZSxkZWxldGUgdS5yZW1vdGUsdT1uLmV4dGVuZCh1LHtyZW1vdGU6b30pKSx1fX19KSxpPWZ1bmN0aW9uKG4pe3JldHVybiBuLnJlcGxhY2UoL15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nLCIiKX0sbi5leHRlbmQobi5leHByLnBzZXVkb3N8fG4uZXhwclsiOiJdLHtibGFuazpmdW5jdGlvbih0KXtyZXR1cm4haSgiIituKHQpLnZhbCgpKX0sZmlsbGVkOmZ1bmN0aW9uKHQpe3ZhciByPW4odCkudmFsKCk7cmV0dXJuIG51bGwhPT1yJiYhIWkoIiIrcil9LHVuY2hlY2tlZDpmdW5jdGlvbih0KXtyZXR1cm4hbih0KS5wcm9wKCJjaGVja2VkIil9fSksbi52YWxpZGF0b3I9ZnVuY3Rpb24odCxpKXt0aGlzLnNldHRpbmdzPW4uZXh0ZW5kKCEwLHt9LG4udmFsaWRhdG9yLmRlZmF1bHRzLHQpO3RoaXMuY3VycmVudEZvcm09aTt0aGlzLmluaXQoKX0sbi52YWxpZGF0b3IuZm9ybWF0PWZ1bmN0aW9uKHQsaSl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP2Z1bmN0aW9uKCl7dmFyIGk9bi5tYWtlQXJyYXkoYXJndW1lbnRzKTtyZXR1cm4gaS51bnNoaWZ0KHQpLG4udmFsaWRhdG9yLmZvcm1hdC5hcHBseSh0aGlzLGkpfTp2b2lkIDA9PT1pP3Q6KGFyZ3VtZW50cy5sZW5ndGg+MiYmaS5jb25zdHJ1Y3RvciE9PUFycmF5JiYoaT1uLm1ha2VBcnJheShhcmd1bWVudHMpLnNsaWNlKDEpKSxpLmNvbnN0cnVjdG9yIT09QXJyYXkmJihpPVtpXSksbi5lYWNoKGksZnVuY3Rpb24obixpKXt0PXQucmVwbGFjZShuZXcgUmVnRXhwKCJcXHsiK24rIlxcfSIsImciKSxmdW5jdGlvbigpe3JldHVybiBpfSl9KSx0KX0sbi5leHRlbmQobi52YWxpZGF0b3Ise2RlZmF1bHRzOnttZXNzYWdlczp7fSxncm91cHM6e30scnVsZXM6e30sZXJyb3JDbGFzczoiZXJyb3IiLHBlbmRpbmdDbGFzczoicGVuZGluZyIsdmFsaWRDbGFzczoidmFsaWQiLGVycm9yRWxlbWVudDoibGFiZWwiLGZvY3VzQ2xlYW51cDohMSxmb2N1c0ludmFsaWQ6ITAsZXJyb3JDb250YWluZXI6bihbXSksZXJyb3JMYWJlbENvbnRhaW5lcjpuKFtdKSxvbnN1Ym1pdDohMCxpZ25vcmU6IjpoaWRkZW4iLGlnbm9yZVRpdGxlOiExLG9uZm9jdXNpbjpmdW5jdGlvbihuKXt0aGlzLmxhc3RBY3RpdmU9bjt0aGlzLnNldHRpbmdzLmZvY3VzQ2xlYW51cCYmKHRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQmJnRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQuY2FsbCh0aGlzLG4sdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcyksdGhpcy5oaWRlVGhlc2UodGhpcy5lcnJvcnNGb3IobikpKX0sb25mb2N1c291dDpmdW5jdGlvbihuKXshdGhpcy5jaGVja2FibGUobikmJihuLm5hbWUgaW4gdGhpcy5zdWJtaXR0ZWR8fCF0aGlzLm9wdGlvbmFsKG4pKSYmdGhpcy5lbGVtZW50KG4pfSxvbmtleXVwOmZ1bmN0aW9uKHQsaSl7OT09PWkud2hpY2gmJiIiPT09dGhpcy5lbGVtZW50VmFsdWUodCl8fG4uaW5BcnJheShpLmtleUNvZGUsWzE2LDE3LDE4LDIwLDM1LDM2LDM3LDM4LDM5LDQwLDQ1LDE0NCwyMjVdKSE9PS0xfHwodC5uYW1lIGluIHRoaXMuc3VibWl0dGVkfHx0Lm5hbWUgaW4gdGhpcy5pbnZhbGlkKSYmdGhpcy5lbGVtZW50KHQpfSxvbmNsaWNrOmZ1bmN0aW9uKG4pe24ubmFtZSBpbiB0aGlzLnN1Ym1pdHRlZD90aGlzLmVsZW1lbnQobik6bi5wYXJlbnROb2RlLm5hbWUgaW4gdGhpcy5zdWJtaXR0ZWQmJnRoaXMuZWxlbWVudChuLnBhcmVudE5vZGUpfSxoaWdobGlnaHQ6ZnVuY3Rpb24odCxpLHIpeyJyYWRpbyI9PT10LnR5cGU/dGhpcy5maW5kQnlOYW1lKHQubmFtZSkuYWRkQ2xhc3MoaSkucmVtb3ZlQ2xhc3Mocik6bih0KS5hZGRDbGFzcyhpKS5yZW1vdmVDbGFzcyhyKX0sdW5oaWdobGlnaHQ6ZnVuY3Rpb24odCxpLHIpeyJyYWRpbyI9PT10LnR5cGU/dGhpcy5maW5kQnlOYW1lKHQubmFtZSkucmVtb3ZlQ2xhc3MoaSkuYWRkQ2xhc3Mocik6bih0KS5yZW1vdmVDbGFzcyhpKS5hZGRDbGFzcyhyKX19LHNldERlZmF1bHRzOmZ1bmN0aW9uKHQpe24uZXh0ZW5kKG4udmFsaWRhdG9yLmRlZmF1bHRzLHQpfSxtZXNzYWdlczp7cmVxdWlyZWQ6IlRoaXMgZmllbGQgaXMgcmVxdWlyZWQuIixyZW1vdGU6IlBsZWFzZSBmaXggdGhpcyBmaWVsZC4iLGVtYWlsOiJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLiIsdXJsOiJQbGVhc2UgZW50ZXIgYSB2YWxpZCBVUkwuIixkYXRlOiJQbGVhc2UgZW50ZXIgYSB2YWxpZCBkYXRlLiIsZGF0ZUlTTzoiUGxlYXNlIGVudGVyIGEgdmFsaWQgZGF0ZSAoSVNPKS4iLG51bWJlcjoiUGxlYXNlIGVudGVyIGEgdmFsaWQgbnVtYmVyLiIsZGlnaXRzOiJQbGVhc2UgZW50ZXIgb25seSBkaWdpdHMuIixlcXVhbFRvOiJQbGVhc2UgZW50ZXIgdGhlIHNhbWUgdmFsdWUgYWdhaW4uIixtYXhsZW5ndGg6bi52YWxpZGF0b3IuZm9ybWF0KCJQbGVhc2UgZW50ZXIgbm8gbW9yZSB0aGFuIHswfSBjaGFyYWN0ZXJzLiIpLG1pbmxlbmd0aDpuLnZhbGlkYXRvci5mb3JtYXQoIlBsZWFzZSBlbnRlciBhdCBsZWFzdCB7MH0gY2hhcmFjdGVycy4iKSxyYW5nZWxlbmd0aDpuLnZhbGlkYXRvci5mb3JtYXQoIlBsZWFzZSBlbnRlciBhIHZhbHVlIGJldHdlZW4gezB9IGFuZCB7MX0gY2hhcmFjdGVycyBsb25nLiIpLHJhbmdlOm4udmFsaWRhdG9yLmZvcm1hdCgiUGxlYXNlIGVudGVyIGEgdmFsdWUgYmV0d2VlbiB7MH0gYW5kIHsxfS4iKSxtYXg6bi52YWxpZGF0b3IuZm9ybWF0KCJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gezB9LiIpLG1pbjpuLnZhbGlkYXRvci5mb3JtYXQoIlBsZWFzZSBlbnRlciBhIHZhbHVlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB7MH0uIiksc3RlcDpuLnZhbGlkYXRvci5mb3JtYXQoIlBsZWFzZSBlbnRlciBhIG11bHRpcGxlIG9mIHswfS4iKX0sYXV0b0NyZWF0ZVJhbmdlczohMSxwcm90b3R5cGU6e2luaXQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKHQpe3ZhciBlPSJ1bmRlZmluZWQiIT10eXBlb2Ygbih0aGlzKS5hdHRyKCJjb250ZW50ZWRpdGFibGUiKSYmImZhbHNlIiE9PW4odGhpcykuYXR0cigiY29udGVudGVkaXRhYmxlIik7aWYoIXRoaXMuZm9ybSYmZSYmKHRoaXMuZm9ybT1uKHRoaXMpLmNsb3Nlc3QoImZvcm0iKVswXSx0aGlzLm5hbWU9bih0aGlzKS5hdHRyKCJuYW1lIikpLHI9PT10aGlzLmZvcm0pe3ZhciB1PW4uZGF0YSh0aGlzLmZvcm0sInZhbGlkYXRvciIpLGY9Im9uIit0LnR5cGUucmVwbGFjZSgvXnZhbGlkYXRlLywiIiksaT11LnNldHRpbmdzO2lbZl0mJiFuKHRoaXMpLmlzKGkuaWdub3JlKSYmaVtmXS5jYWxsKHUsdGhpcyx0KX19dGhpcy5sYWJlbENvbnRhaW5lcj1uKHRoaXMuc2V0dGluZ3MuZXJyb3JMYWJlbENvbnRhaW5lcik7dGhpcy5lcnJvckNvbnRleHQ9dGhpcy5sYWJlbENvbnRhaW5lci5sZW5ndGgmJnRoaXMubGFiZWxDb250YWluZXJ8fG4odGhpcy5jdXJyZW50Rm9ybSk7dGhpcy5jb250YWluZXJzPW4odGhpcy5zZXR0aW5ncy5lcnJvckNvbnRhaW5lcikuYWRkKHRoaXMuc2V0dGluZ3MuZXJyb3JMYWJlbENvbnRhaW5lcik7dGhpcy5zdWJtaXR0ZWQ9e307dGhpcy52YWx1ZUNhY2hlPXt9O3RoaXMucGVuZGluZ1JlcXVlc3Q9MDt0aGlzLnBlbmRpbmc9e307dGhpcy5pbnZhbGlkPXt9O3RoaXMucmVzZXQoKTt2YXIgdCxyPXRoaXMuY3VycmVudEZvcm0sdT10aGlzLmdyb3Vwcz17fTtuLmVhY2godGhpcy5zZXR0aW5ncy5ncm91cHMsZnVuY3Rpb24odCxpKXsic3RyaW5nIj09dHlwZW9mIGkmJihpPWkuc3BsaXQoL1xzLykpO24uZWFjaChpLGZ1bmN0aW9uKG4saSl7dVtpXT10fSl9KTt0PXRoaXMuc2V0dGluZ3MucnVsZXM7bi5lYWNoKHQsZnVuY3Rpb24oaSxyKXt0W2ldPW4udmFsaWRhdG9yLm5vcm1hbGl6ZVJ1bGUocil9KTtuKHRoaXMuY3VycmVudEZvcm0pLm9uKCJmb2N1c2luLnZhbGlkYXRlIGZvY3Vzb3V0LnZhbGlkYXRlIGtleXVwLnZhbGlkYXRlIiwiOnRleHQsIFt0eXBlPSdwYXNzd29yZCddLCBbdHlwZT0nZmlsZSddLCBzZWxlY3QsIHRleHRhcmVhLCBbdHlwZT0nbnVtYmVyJ10sIFt0eXBlPSdzZWFyY2gnXSwgW3R5cGU9J3RlbCddLCBbdHlwZT0ndXJsJ10sIFt0eXBlPSdlbWFpbCddLCBbdHlwZT0nZGF0ZXRpbWUnXSwgW3R5cGU9J2RhdGUnXSwgW3R5cGU9J21vbnRoJ10sIFt0eXBlPSd3ZWVrJ10sIFt0eXBlPSd0aW1lJ10sIFt0eXBlPSdkYXRldGltZS1sb2NhbCddLCBbdHlwZT0ncmFuZ2UnXSwgW3R5cGU9J2NvbG9yJ10sIFt0eXBlPSdyYWRpbyddLCBbdHlwZT0nY2hlY2tib3gnXSwgW2NvbnRlbnRlZGl0YWJsZV0sIFt0eXBlPSdidXR0b24nXSIsaSkub24oImNsaWNrLnZhbGlkYXRlIiwic2VsZWN0LCBvcHRpb24sIFt0eXBlPSdyYWRpbyddLCBbdHlwZT0nY2hlY2tib3gnXSIsaSk7dGhpcy5zZXR0aW5ncy5pbnZhbGlkSGFuZGxlciYmbih0aGlzLmN1cnJlbnRGb3JtKS5vbigiaW52YWxpZC1mb3JtLnZhbGlkYXRlIix0aGlzLnNldHRpbmdzLmludmFsaWRIYW5kbGVyKX0sZm9ybTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoZWNrRm9ybSgpLG4uZXh0ZW5kKHRoaXMuc3VibWl0dGVkLHRoaXMuZXJyb3JNYXApLHRoaXMuaW52YWxpZD1uLmV4dGVuZCh7fSx0aGlzLmVycm9yTWFwKSx0aGlzLnZhbGlkKCl8fG4odGhpcy5jdXJyZW50Rm9ybSkudHJpZ2dlckhhbmRsZXIoImludmFsaWQtZm9ybSIsW3RoaXNdKSx0aGlzLnNob3dFcnJvcnMoKSx0aGlzLnZhbGlkKCl9LGNoZWNrRm9ybTpmdW5jdGlvbigpe3RoaXMucHJlcGFyZUZvcm0oKTtmb3IodmFyIG49MCx0PXRoaXMuY3VycmVudEVsZW1lbnRzPXRoaXMuZWxlbWVudHMoKTt0W25dO24rKyl0aGlzLmNoZWNrKHRbbl0pO3JldHVybiB0aGlzLnZhbGlkKCl9LGVsZW1lbnQ6ZnVuY3Rpb24odCl7dmFyIGUsbyxpPXRoaXMuY2xlYW4odCkscj10aGlzLnZhbGlkYXRpb25UYXJnZXRGb3IoaSksdT10aGlzLGY9ITA7cmV0dXJuIHZvaWQgMD09PXI/ZGVsZXRlIHRoaXMuaW52YWxpZFtpLm5hbWVdOih0aGlzLnByZXBhcmVFbGVtZW50KHIpLHRoaXMuY3VycmVudEVsZW1lbnRzPW4ociksbz10aGlzLmdyb3Vwc1tyLm5hbWVdLG8mJm4uZWFjaCh0aGlzLmdyb3VwcyxmdW5jdGlvbihuLHQpe3Q9PT1vJiZuIT09ci5uYW1lJiYoaT11LnZhbGlkYXRpb25UYXJnZXRGb3IodS5jbGVhbih1LmZpbmRCeU5hbWUobikpKSxpJiZpLm5hbWUgaW4gdS5pbnZhbGlkJiYodS5jdXJyZW50RWxlbWVudHMucHVzaChpKSxmPXUuY2hlY2soaSkmJmYpKX0pLGU9dGhpcy5jaGVjayhyKSE9PSExLGY9ZiYmZSx0aGlzLmludmFsaWRbci5uYW1lXT1lPyExOiEwLHRoaXMubnVtYmVyT2ZJbnZhbGlkcygpfHwodGhpcy50b0hpZGU9dGhpcy50b0hpZGUuYWRkKHRoaXMuY29udGFpbmVycykpLHRoaXMuc2hvd0Vycm9ycygpLG4odCkuYXR0cigiYXJpYS1pbnZhbGlkIiwhZSkpLGZ9LHNob3dFcnJvcnM6ZnVuY3Rpb24odCl7aWYodCl7dmFyIGk9dGhpcztuLmV4dGVuZCh0aGlzLmVycm9yTWFwLHQpO3RoaXMuZXJyb3JMaXN0PW4ubWFwKHRoaXMuZXJyb3JNYXAsZnVuY3Rpb24obix0KXtyZXR1cm57bWVzc2FnZTpuLGVsZW1lbnQ6aS5maW5kQnlOYW1lKHQpWzBdfX0pO3RoaXMuc3VjY2Vzc0xpc3Q9bi5ncmVwKHRoaXMuc3VjY2Vzc0xpc3QsZnVuY3Rpb24obil7cmV0dXJuIShuLm5hbWUgaW4gdCl9KX10aGlzLnNldHRpbmdzLnNob3dFcnJvcnM/dGhpcy5zZXR0aW5ncy5zaG93RXJyb3JzLmNhbGwodGhpcyx0aGlzLmVycm9yTWFwLHRoaXMuZXJyb3JMaXN0KTp0aGlzLmRlZmF1bHRTaG93RXJyb3JzKCl9LHJlc2V0Rm9ybTpmdW5jdGlvbigpe24uZm4ucmVzZXRGb3JtJiZuKHRoaXMuY3VycmVudEZvcm0pLnJlc2V0Rm9ybSgpO3RoaXMuaW52YWxpZD17fTt0aGlzLnN1Ym1pdHRlZD17fTt0aGlzLnByZXBhcmVGb3JtKCk7dGhpcy5oaWRlRXJyb3JzKCk7dmFyIHQ9dGhpcy5lbGVtZW50cygpLnJlbW92ZURhdGEoInByZXZpb3VzVmFsdWUiKS5yZW1vdmVBdHRyKCJhcmlhLWludmFsaWQiKTt0aGlzLnJlc2V0RWxlbWVudHModCl9LHJlc2V0RWxlbWVudHM6ZnVuY3Rpb24obil7dmFyIHQ7aWYodGhpcy5zZXR0aW5ncy51bmhpZ2hsaWdodClmb3IodD0wO25bdF07dCsrKXRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQuY2FsbCh0aGlzLG5bdF0sdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLCIiKSx0aGlzLmZpbmRCeU5hbWUoblt0XS5uYW1lKS5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLnZhbGlkQ2xhc3MpO2Vsc2Ugbi5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLmVycm9yQ2xhc3MpLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcyl9LG51bWJlck9mSW52YWxpZHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vYmplY3RMZW5ndGgodGhpcy5pbnZhbGlkKX0sb2JqZWN0TGVuZ3RoOmZ1bmN0aW9uKG4pe3ZhciB0LGk9MDtmb3IodCBpbiBuKXZvaWQgMCE9PW5bdF0mJm51bGwhPT1uW3RdJiZuW3RdIT09ITEmJmkrKztyZXR1cm4gaX0saGlkZUVycm9yczpmdW5jdGlvbigpe3RoaXMuaGlkZVRoZXNlKHRoaXMudG9IaWRlKX0saGlkZVRoZXNlOmZ1bmN0aW9uKG4pe24ubm90KHRoaXMuY29udGFpbmVycykudGV4dCgiIik7dGhpcy5hZGRXcmFwcGVyKG4pLmhpZGUoKX0sdmFsaWQ6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuc2l6ZSgpfSxzaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXJyb3JMaXN0Lmxlbmd0aH0sZm9jdXNJbnZhbGlkOmZ1bmN0aW9uKCl7aWYodGhpcy5zZXR0aW5ncy5mb2N1c0ludmFsaWQpdHJ5e24odGhpcy5maW5kTGFzdEFjdGl2ZSgpfHx0aGlzLmVycm9yTGlzdC5sZW5ndGgmJnRoaXMuZXJyb3JMaXN0WzBdLmVsZW1lbnR8fFtdKS5maWx0ZXIoIjp2aXNpYmxlIikudHJpZ2dlcigiZm9jdXMiKS50cmlnZ2VyKCJmb2N1c2luIil9Y2F0Y2godCl7fX0sZmluZExhc3RBY3RpdmU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmxhc3RBY3RpdmU7cmV0dXJuIHQmJjE9PT1uLmdyZXAodGhpcy5lcnJvckxpc3QsZnVuY3Rpb24obil7cmV0dXJuIG4uZWxlbWVudC5uYW1lPT09dC5uYW1lfSkubGVuZ3RoJiZ0fSxlbGVtZW50czpmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT17fTtyZXR1cm4gbih0aGlzLmN1cnJlbnRGb3JtKS5maW5kKCJpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgW2NvbnRlbnRlZGl0YWJsZV0iKS5ub3QoIjpzdWJtaXQsIDpyZXNldCwgOmltYWdlLCA6ZGlzYWJsZWQiKS5ub3QodGhpcy5zZXR0aW5ncy5pZ25vcmUpLmZpbHRlcihmdW5jdGlvbigpe3ZhciByPXRoaXMubmFtZXx8bih0aGlzKS5hdHRyKCJuYW1lIiksdT0idW5kZWZpbmVkIiE9dHlwZW9mIG4odGhpcykuYXR0cigiY29udGVudGVkaXRhYmxlIikmJiJmYWxzZSIhPT1uKHRoaXMpLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIpO3JldHVybiFyJiZ0LnNldHRpbmdzLmRlYnVnJiZ3aW5kb3cuY29uc29sZSYmY29uc29sZS5lcnJvcigiJW8gaGFzIG5vIG5hbWUgYXNzaWduZWQiLHRoaXMpLHUmJih0aGlzLmZvcm09bih0aGlzKS5jbG9zZXN0KCJmb3JtIilbMF0sdGhpcy5uYW1lPXIpLHRoaXMuZm9ybT09PXQuY3VycmVudEZvcm0mJiEociBpbiBpfHwhdC5vYmplY3RMZW5ndGgobih0aGlzKS5ydWxlcygpKSkmJihpW3JdPSEwLCEwKX0pfSxjbGVhbjpmdW5jdGlvbih0KXtyZXR1cm4gbih0KVswXX0sZXJyb3JzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLnNwbGl0KCIgIikuam9pbigiLiIpO3JldHVybiBuKHRoaXMuc2V0dGluZ3MuZXJyb3JFbGVtZW50KyIuIit0LHRoaXMuZXJyb3JDb250ZXh0KX0scmVzZXRJbnRlcm5hbHM6ZnVuY3Rpb24oKXt0aGlzLnN1Y2Nlc3NMaXN0PVtdO3RoaXMuZXJyb3JMaXN0PVtdO3RoaXMuZXJyb3JNYXA9e307dGhpcy50b1Nob3c9bihbXSk7dGhpcy50b0hpZGU9bihbXSl9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZXNldEludGVybmFscygpO3RoaXMuY3VycmVudEVsZW1lbnRzPW4oW10pfSxwcmVwYXJlRm9ybTpmdW5jdGlvbigpe3RoaXMucmVzZXQoKTt0aGlzLnRvSGlkZT10aGlzLmVycm9ycygpLmFkZCh0aGlzLmNvbnRhaW5lcnMpfSxwcmVwYXJlRWxlbWVudDpmdW5jdGlvbihuKXt0aGlzLnJlc2V0KCk7dGhpcy50b0hpZGU9dGhpcy5lcnJvcnNGb3Iobil9LGVsZW1lbnRWYWx1ZTpmdW5jdGlvbih0KXt2YXIgaSxyLHU9bih0KSxmPXQudHlwZSxlPSJ1bmRlZmluZWQiIT10eXBlb2YgdS5hdHRyKCJjb250ZW50ZWRpdGFibGUiKSYmImZhbHNlIiE9PXUuYXR0cigiY29udGVudGVkaXRhYmxlIik7cmV0dXJuInJhZGlvIj09PWZ8fCJjaGVja2JveCI9PT1mP3RoaXMuZmluZEJ5TmFtZSh0Lm5hbWUpLmZpbHRlcigiOmNoZWNrZWQiKS52YWwoKToibnVtYmVyIj09PWYmJiJ1bmRlZmluZWQiIT10eXBlb2YgdC52YWxpZGl0eT90LnZhbGlkaXR5LmJhZElucHV0PyJOYU4iOnUudmFsKCk6KGk9ZT91LnRleHQoKTp1LnZhbCgpLCJmaWxlIj09PWY/IkM6XFxmYWtlcGF0aFxcIj09PWkuc3Vic3RyKDAsMTIpP2kuc3Vic3RyKDEyKToocj1pLmxhc3RJbmRleE9mKCIvIikscj49MD9pLnN1YnN0cihyKzEpOihyPWkubGFzdEluZGV4T2YoIlxcIikscj49MD9pLnN1YnN0cihyKzEpOmkpKToic3RyaW5nIj09dHlwZW9mIGk/aS5yZXBsYWNlKC9cci9nLCIiKTppKX0sY2hlY2s6ZnVuY3Rpb24odCl7dD10aGlzLnZhbGlkYXRpb25UYXJnZXRGb3IodGhpcy5jbGVhbih0KSk7dmFyIHUsZixyLGUsaT1uKHQpLnJ1bGVzKCksYz1uLm1hcChpLGZ1bmN0aW9uKG4sdCl7cmV0dXJuIHR9KS5sZW5ndGgscz0hMSxoPXRoaXMuZWxlbWVudFZhbHVlKHQpOyJmdW5jdGlvbiI9PXR5cGVvZiBpLm5vcm1hbGl6ZXI/ZT1pLm5vcm1hbGl6ZXI6ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuc2V0dGluZ3Mubm9ybWFsaXplciYmKGU9dGhpcy5zZXR0aW5ncy5ub3JtYWxpemVyKTtlJiYoaD1lLmNhbGwodCxoKSxkZWxldGUgaS5ub3JtYWxpemVyKTtmb3IoZiBpbiBpKXtyPXttZXRob2Q6ZixwYXJhbWV0ZXJzOmlbZl19O3RyeXtpZih1PW4udmFsaWRhdG9yLm1ldGhvZHNbZl0uY2FsbCh0aGlzLGgsdCxyLnBhcmFtZXRlcnMpLCJkZXBlbmRlbmN5LW1pc21hdGNoIj09PXUmJjE9PT1jKXtzPSEwO2NvbnRpbnVlfWlmKHM9ITEsInBlbmRpbmciPT09dSlyZXR1cm4gdm9pZCh0aGlzLnRvSGlkZT10aGlzLnRvSGlkZS5ub3QodGhpcy5lcnJvcnNGb3IodCkpKTtpZighdSlyZXR1cm4gdGhpcy5mb3JtYXRBbmRBZGQodCxyKSwhMX1jYXRjaChvKXt0aHJvdyB0aGlzLnNldHRpbmdzLmRlYnVnJiZ3aW5kb3cuY29uc29sZSYmY29uc29sZS5sb2coIkV4Y2VwdGlvbiBvY2N1cnJlZCB3aGVuIGNoZWNraW5nIGVsZW1lbnQgIit0LmlkKyIsIGNoZWNrIHRoZSAnIityLm1ldGhvZCsiJyBtZXRob2QuIixvKSxvIGluc3RhbmNlb2YgVHlwZUVycm9yJiYoby5tZXNzYWdlKz0iLiAgRXhjZXB0aW9uIG9jY3VycmVkIHdoZW4gY2hlY2tpbmcgZWxlbWVudCAiK3QuaWQrIiwgY2hlY2sgdGhlICciK3IubWV0aG9kKyInIG1ldGhvZC4iKSxvO319aWYoIXMpcmV0dXJuIHRoaXMub2JqZWN0TGVuZ3RoKGkpJiZ0aGlzLnN1Y2Nlc3NMaXN0LnB1c2godCksITB9LGN1c3RvbURhdGFNZXNzYWdlOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIG4odCkuZGF0YSgibXNnIitpLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2kuc3Vic3RyaW5nKDEpLnRvTG93ZXJDYXNlKCkpfHxuKHQpLmRhdGEoIm1zZyIpfSxjdXN0b21NZXNzYWdlOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5zZXR0aW5ncy5tZXNzYWdlc1tuXTtyZXR1cm4gaSYmKGkuY29uc3RydWN0b3I9PT1TdHJpbmc/aTppW3RdKX0sZmluZERlZmluZWQ6ZnVuY3Rpb24oKXtmb3IodmFyIG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWlmKHZvaWQgMCE9PWFyZ3VtZW50c1tuXSlyZXR1cm4gYXJndW1lbnRzW25dfSxkZWZhdWx0TWVzc2FnZTpmdW5jdGlvbih0LGkpeyJzdHJpbmciPT10eXBlb2YgaSYmKGk9e21ldGhvZDppfSk7dmFyIHI9dGhpcy5maW5kRGVmaW5lZCh0aGlzLmN1c3RvbU1lc3NhZ2UodC5uYW1lLGkubWV0aG9kKSx0aGlzLmN1c3RvbURhdGFNZXNzYWdlKHQsaS5tZXRob2QpLCF0aGlzLnNldHRpbmdzLmlnbm9yZVRpdGxlJiZ0LnRpdGxlfHx2b2lkIDAsbi52YWxpZGF0b3IubWVzc2FnZXNbaS5tZXRob2RdLCI8c3Ryb25nPldhcm5pbmc6IE5vIG1lc3NhZ2UgZGVmaW5lZCBmb3IgIit0Lm5hbWUrIjxcL3N0cm9uZz4iKSx1PS9cJD9ceyhcZCspXH0vZztyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2Ygcj9yPXIuY2FsbCh0aGlzLGkucGFyYW1ldGVycyx0KTp1LnRlc3QocikmJihyPW4udmFsaWRhdG9yLmZvcm1hdChyLnJlcGxhY2UodSwieyQxfSIpLGkucGFyYW1ldGVycykpLHJ9LGZvcm1hdEFuZEFkZDpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuZGVmYXVsdE1lc3NhZ2Uobix0KTt0aGlzLmVycm9yTGlzdC5wdXNoKHttZXNzYWdlOmksZWxlbWVudDpuLG1ldGhvZDp0Lm1ldGhvZH0pO3RoaXMuZXJyb3JNYXBbbi5uYW1lXT1pO3RoaXMuc3VibWl0dGVkW24ubmFtZV09aX0sYWRkV3JhcHBlcjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5zZXR0aW5ncy53cmFwcGVyJiYobj1uLmFkZChuLnBhcmVudCh0aGlzLnNldHRpbmdzLndyYXBwZXIpKSksbn0sZGVmYXVsdFNob3dFcnJvcnM6ZnVuY3Rpb24oKXtmb3IodmFyIGksdCxuPTA7dGhpcy5lcnJvckxpc3Rbbl07bisrKXQ9dGhpcy5lcnJvckxpc3Rbbl0sdGhpcy5zZXR0aW5ncy5oaWdobGlnaHQmJnRoaXMuc2V0dGluZ3MuaGlnaGxpZ2h0LmNhbGwodGhpcyx0LmVsZW1lbnQsdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcyksdGhpcy5zaG93TGFiZWwodC5lbGVtZW50LHQubWVzc2FnZSk7aWYodGhpcy5lcnJvckxpc3QubGVuZ3RoJiYodGhpcy50b1Nob3c9dGhpcy50b1Nob3cuYWRkKHRoaXMuY29udGFpbmVycykpLHRoaXMuc2V0dGluZ3Muc3VjY2Vzcylmb3Iobj0wO3RoaXMuc3VjY2Vzc0xpc3Rbbl07bisrKXRoaXMuc2hvd0xhYmVsKHRoaXMuc3VjY2Vzc0xpc3Rbbl0pO2lmKHRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQpZm9yKG49MCxpPXRoaXMudmFsaWRFbGVtZW50cygpO2lbbl07bisrKXRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQuY2FsbCh0aGlzLGlbbl0sdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcyk7dGhpcy50b0hpZGU9dGhpcy50b0hpZGUubm90KHRoaXMudG9TaG93KTt0aGlzLmhpZGVFcnJvcnMoKTt0aGlzLmFkZFdyYXBwZXIodGhpcy50b1Nob3cpLnNob3coKX0sdmFsaWRFbGVtZW50czpmdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnRFbGVtZW50cy5ub3QodGhpcy5pbnZhbGlkRWxlbWVudHMoKSl9LGludmFsaWRFbGVtZW50czpmdW5jdGlvbigpe3JldHVybiBuKHRoaXMuZXJyb3JMaXN0KS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSl9LHNob3dMYWJlbDpmdW5jdGlvbih0LGkpe3ZhciB1LHMsZSxvLHI9dGhpcy5lcnJvcnNGb3IodCksaD10aGlzLmlkT3JOYW1lKHQpLGY9bih0KS5hdHRyKCJhcmlhLWRlc2NyaWJlZGJ5Iik7ci5sZW5ndGg/KHIucmVtb3ZlQ2xhc3ModGhpcy5zZXR0aW5ncy52YWxpZENsYXNzKS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmVycm9yQ2xhc3MpLHIuaHRtbChpKSk6KHI9bigiPCIrdGhpcy5zZXR0aW5ncy5lcnJvckVsZW1lbnQrIj4iKS5hdHRyKCJpZCIsaCsiLWVycm9yIikuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzKS5odG1sKGl8fCIiKSx1PXIsdGhpcy5zZXR0aW5ncy53cmFwcGVyJiYodT1yLmhpZGUoKS5zaG93KCkud3JhcCgiPCIrdGhpcy5zZXR0aW5ncy53cmFwcGVyKyIvPiIpLnBhcmVudCgpKSx0aGlzLmxhYmVsQ29udGFpbmVyLmxlbmd0aD90aGlzLmxhYmVsQ29udGFpbmVyLmFwcGVuZCh1KTp0aGlzLnNldHRpbmdzLmVycm9yUGxhY2VtZW50P3RoaXMuc2V0dGluZ3MuZXJyb3JQbGFjZW1lbnQuY2FsbCh0aGlzLHUsbih0KSk6dS5pbnNlcnRBZnRlcih0KSxyLmlzKCJsYWJlbCIpP3IuYXR0cigiZm9yIixoKTowPT09ci5wYXJlbnRzKCJsYWJlbFtmb3I9JyIrdGhpcy5lc2NhcGVDc3NNZXRhKGgpKyInXSIpLmxlbmd0aCYmKGU9ci5hdHRyKCJpZCIpLGY/Zi5tYXRjaChuZXcgUmVnRXhwKCJcXGIiK3RoaXMuZXNjYXBlQ3NzTWV0YShlKSsiXFxiIikpfHwoZis9IiAiK2UpOmY9ZSxuKHQpLmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiLGYpLHM9dGhpcy5ncm91cHNbdC5uYW1lXSxzJiYobz10aGlzLG4uZWFjaChvLmdyb3VwcyxmdW5jdGlvbih0LGkpe2k9PT1zJiZuKCJbbmFtZT0nIitvLmVzY2FwZUNzc01ldGEodCkrIiddIixvLmN1cnJlbnRGb3JtKS5hdHRyKCJhcmlhLWRlc2NyaWJlZGJ5IixyLmF0dHIoImlkIikpfSkpKSk7IWkmJnRoaXMuc2V0dGluZ3Muc3VjY2VzcyYmKHIudGV4dCgiIiksInN0cmluZyI9PXR5cGVvZiB0aGlzLnNldHRpbmdzLnN1Y2Nlc3M/ci5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLnN1Y2Nlc3MpOnRoaXMuc2V0dGluZ3Muc3VjY2VzcyhyLHQpKTt0aGlzLnRvU2hvdz10aGlzLnRvU2hvdy5hZGQocil9LGVycm9yc0ZvcjpmdW5jdGlvbih0KXt2YXIgcj10aGlzLmVzY2FwZUNzc01ldGEodGhpcy5pZE9yTmFtZSh0KSksdT1uKHQpLmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiKSxpPSJsYWJlbFtmb3I9JyIrcisiJ10sIGxhYmVsW2Zvcj0nIityKyInXSAqIjtyZXR1cm4gdSYmKGk9aSsiLCAjIit0aGlzLmVzY2FwZUNzc01ldGEodSkucmVwbGFjZSgvXHMrL2csIiwgIyIpKSx0aGlzLmVycm9ycygpLmZpbHRlcihpKX0sZXNjYXBlQ3NzTWV0YTpmdW5jdGlvbihuKXtyZXR1cm4gbi5yZXBsYWNlKC8oW1xcISIjJCUmJygpKissLlwvOjs8PT4/QFxbXF1eYHt8fX5dKS9nLCJcXCQxIil9LGlkT3JOYW1lOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmdyb3Vwc1tuLm5hbWVdfHwodGhpcy5jaGVja2FibGUobik/bi5uYW1lOm4uaWR8fG4ubmFtZSl9LHZhbGlkYXRpb25UYXJnZXRGb3I6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2hlY2thYmxlKHQpJiYodD10aGlzLmZpbmRCeU5hbWUodC5uYW1lKSksbih0KS5ub3QodGhpcy5zZXR0aW5ncy5pZ25vcmUpWzBdfSxjaGVja2FibGU6ZnVuY3Rpb24obil7cmV0dXJuL3JhZGlvfGNoZWNrYm94L2kudGVzdChuLnR5cGUpfSxmaW5kQnlOYW1lOmZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMuY3VycmVudEZvcm0pLmZpbmQoIltuYW1lPSciK3RoaXMuZXNjYXBlQ3NzTWV0YSh0KSsiJ10iKX0sZ2V0TGVuZ3RoOmZ1bmN0aW9uKHQsaSl7c3dpdGNoKGkubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7Y2FzZSJzZWxlY3QiOnJldHVybiBuKCJvcHRpb246c2VsZWN0ZWQiLGkpLmxlbmd0aDtjYXNlImlucHV0IjppZih0aGlzLmNoZWNrYWJsZShpKSlyZXR1cm4gdGhpcy5maW5kQnlOYW1lKGkubmFtZSkuZmlsdGVyKCI6Y2hlY2tlZCIpLmxlbmd0aH1yZXR1cm4gdC5sZW5ndGh9LGRlcGVuZDpmdW5jdGlvbihuLHQpe3JldHVybiF0aGlzLmRlcGVuZFR5cGVzW3R5cGVvZiBuXXx8dGhpcy5kZXBlbmRUeXBlc1t0eXBlb2Ygbl0obix0KX0sZGVwZW5kVHlwZXM6e2Jvb2xlYW46ZnVuY3Rpb24obil7cmV0dXJuIG59LHN0cmluZzpmdW5jdGlvbih0LGkpe3JldHVybiEhbih0LGkuZm9ybSkubGVuZ3RofSwiZnVuY3Rpb24iOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG4odCl9fSxvcHRpb25hbDpmdW5jdGlvbih0KXt2YXIgaT10aGlzLmVsZW1lbnRWYWx1ZSh0KTtyZXR1cm4hbi52YWxpZGF0b3IubWV0aG9kcy5yZXF1aXJlZC5jYWxsKHRoaXMsaSx0KSYmImRlcGVuZGVuY3ktbWlzbWF0Y2gifSxzdGFydFJlcXVlc3Q6ZnVuY3Rpb24odCl7dGhpcy5wZW5kaW5nW3QubmFtZV18fCh0aGlzLnBlbmRpbmdSZXF1ZXN0Kyssbih0KS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLnBlbmRpbmdDbGFzcyksdGhpcy5wZW5kaW5nW3QubmFtZV09ITApfSxzdG9wUmVxdWVzdDpmdW5jdGlvbih0LGkpe3RoaXMucGVuZGluZ1JlcXVlc3QtLTt0aGlzLnBlbmRpbmdSZXF1ZXN0PDAmJih0aGlzLnBlbmRpbmdSZXF1ZXN0PTApO2RlbGV0ZSB0aGlzLnBlbmRpbmdbdC5uYW1lXTtuKHQpLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MucGVuZGluZ0NsYXNzKTtpJiYwPT09dGhpcy5wZW5kaW5nUmVxdWVzdCYmdGhpcy5mb3JtU3VibWl0dGVkJiZ0aGlzLmZvcm0oKT8obih0aGlzLmN1cnJlbnRGb3JtKS5zdWJtaXQoKSx0aGlzLnN1Ym1pdEJ1dHRvbiYmbigiaW5wdXQ6aGlkZGVuW25hbWU9JyIrdGhpcy5zdWJtaXRCdXR0b24ubmFtZSsiJ10iLHRoaXMuY3VycmVudEZvcm0pLnJlbW92ZSgpLHRoaXMuZm9ybVN1Ym1pdHRlZD0hMSk6IWkmJjA9PT10aGlzLnBlbmRpbmdSZXF1ZXN0JiZ0aGlzLmZvcm1TdWJtaXR0ZWQmJihuKHRoaXMuY3VycmVudEZvcm0pLnRyaWdnZXJIYW5kbGVyKCJpbnZhbGlkLWZvcm0iLFt0aGlzXSksdGhpcy5mb3JtU3VibWl0dGVkPSExKX0scHJldmlvdXNWYWx1ZTpmdW5jdGlvbih0LGkpe3JldHVybiBpPSJzdHJpbmciPT10eXBlb2YgaSYmaXx8InJlbW90ZSIsbi5kYXRhKHQsInByZXZpb3VzVmFsdWUiKXx8bi5kYXRhKHQsInByZXZpb3VzVmFsdWUiLHtvbGQ6bnVsbCx2YWxpZDohMCxtZXNzYWdlOnRoaXMuZGVmYXVsdE1lc3NhZ2UodCx7bWV0aG9kOml9KX0pfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5yZXNldEZvcm0oKTtuKHRoaXMuY3VycmVudEZvcm0pLm9mZigiLnZhbGlkYXRlIikucmVtb3ZlRGF0YSgidmFsaWRhdG9yIikuZmluZCgiLnZhbGlkYXRlLWVxdWFsVG8tYmx1ciIpLm9mZigiLnZhbGlkYXRlLWVxdWFsVG8iKS5yZW1vdmVDbGFzcygidmFsaWRhdGUtZXF1YWxUby1ibHVyIikuZmluZCgiLnZhbGlkYXRlLWxlc3NUaGFuLWJsdXIiKS5vZmYoIi52YWxpZGF0ZS1sZXNzVGhhbiIpLnJlbW92ZUNsYXNzKCJ2YWxpZGF0ZS1sZXNzVGhhbi1ibHVyIikuZmluZCgiLnZhbGlkYXRlLWxlc3NUaGFuRXF1YWwtYmx1ciIpLm9mZigiLnZhbGlkYXRlLWxlc3NUaGFuRXF1YWwiKS5yZW1vdmVDbGFzcygidmFsaWRhdGUtbGVzc1RoYW5FcXVhbC1ibHVyIikuZmluZCgiLnZhbGlkYXRlLWdyZWF0ZXJUaGFuRXF1YWwtYmx1ciIpLm9mZigiLnZhbGlkYXRlLWdyZWF0ZXJUaGFuRXF1YWwiKS5yZW1vdmVDbGFzcygidmFsaWRhdGUtZ3JlYXRlclRoYW5FcXVhbC1ibHVyIikuZmluZCgiLnZhbGlkYXRlLWdyZWF0ZXJUaGFuLWJsdXIiKS5vZmYoIi52YWxpZGF0ZS1ncmVhdGVyVGhhbiIpLnJlbW92ZUNsYXNzKCJ2YWxpZGF0ZS1ncmVhdGVyVGhhbi1ibHVyIil9fSxjbGFzc1J1bGVTZXR0aW5nczp7cmVxdWlyZWQ6e3JlcXVpcmVkOiEwfSxlbWFpbDp7ZW1haWw6ITB9LHVybDp7dXJsOiEwfSxkYXRlOntkYXRlOiEwfSxkYXRlSVNPOntkYXRlSVNPOiEwfSxudW1iZXI6e251bWJlcjohMH0sZGlnaXRzOntkaWdpdHM6ITB9LGNyZWRpdGNhcmQ6e2NyZWRpdGNhcmQ6ITB9fSxhZGRDbGFzc1J1bGVzOmZ1bmN0aW9uKHQsaSl7dC5jb25zdHJ1Y3Rvcj09PVN0cmluZz90aGlzLmNsYXNzUnVsZVNldHRpbmdzW3RdPWk6bi5leHRlbmQodGhpcy5jbGFzc1J1bGVTZXR0aW5ncyx0KX0sY2xhc3NSdWxlczpmdW5jdGlvbih0KXt2YXIgaT17fSxyPW4odCkuYXR0cigiY2xhc3MiKTtyZXR1cm4gciYmbi5lYWNoKHIuc3BsaXQoIiAiKSxmdW5jdGlvbigpe3RoaXMgaW4gbi52YWxpZGF0b3IuY2xhc3NSdWxlU2V0dGluZ3MmJm4uZXh0ZW5kKGksbi52YWxpZGF0b3IuY2xhc3NSdWxlU2V0dGluZ3NbdGhpc10pfSksaX0sbm9ybWFsaXplQXR0cmlidXRlUnVsZTpmdW5jdGlvbihuLHQsaSxyKXsvbWlufG1heHxzdGVwLy50ZXN0KGkpJiYobnVsbD09PXR8fC9udW1iZXJ8cmFuZ2V8dGV4dC8udGVzdCh0KSkmJihyPU51bWJlcihyKSxpc05hTihyKSYmKHI9dm9pZCAwKSk7cnx8MD09PXI/bltpXT1yOnQ9PT1pJiYicmFuZ2UiIT09dCYmKG5baV09ITApfSxhdHRyaWJ1dGVSdWxlczpmdW5jdGlvbih0KXt2YXIgcixpLHU9e30sZj1uKHQpLGU9dC5nZXRBdHRyaWJ1dGUoInR5cGUiKTtmb3IociBpbiBuLnZhbGlkYXRvci5tZXRob2RzKSJyZXF1aXJlZCI9PT1yPyhpPXQuZ2V0QXR0cmlidXRlKHIpLCIiPT09aSYmKGk9ITApLGk9ISFpKTppPWYuYXR0cihyKSx0aGlzLm5vcm1hbGl6ZUF0dHJpYnV0ZVJ1bGUodSxlLHIsaSk7cmV0dXJuIHUubWF4bGVuZ3RoJiYvLTF8MjE0NzQ4MzY0N3w1MjQyODgvLnRlc3QodS5tYXhsZW5ndGgpJiZkZWxldGUgdS5tYXhsZW5ndGgsdX0sZGF0YVJ1bGVzOmZ1bmN0aW9uKHQpe3ZhciBpLHIsdT17fSxmPW4odCksZT10LmdldEF0dHJpYnV0ZSgidHlwZSIpO2ZvcihpIGluIG4udmFsaWRhdG9yLm1ldGhvZHMpcj1mLmRhdGEoInJ1bGUiK2kuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkraS5zdWJzdHJpbmcoMSkudG9Mb3dlckNhc2UoKSksIiI9PT1yJiYocj0hMCksdGhpcy5ub3JtYWxpemVBdHRyaWJ1dGVSdWxlKHUsZSxpLHIpO3JldHVybiB1fSxzdGF0aWNSdWxlczpmdW5jdGlvbih0KXt2YXIgaT17fSxyPW4uZGF0YSh0LmZvcm0sInZhbGlkYXRvciIpO3JldHVybiByLnNldHRpbmdzLnJ1bGVzJiYoaT1uLnZhbGlkYXRvci5ub3JtYWxpemVSdWxlKHIuc2V0dGluZ3MucnVsZXNbdC5uYW1lXSl8fHt9KSxpfSxub3JtYWxpemVSdWxlczpmdW5jdGlvbih0LGkpe3JldHVybiBuLmVhY2godCxmdW5jdGlvbihyLHUpe2lmKHU9PT0hMSlyZXR1cm4gdm9pZCBkZWxldGUgdFtyXTtpZih1LnBhcmFtfHx1LmRlcGVuZHMpe3ZhciBmPSEwO3N3aXRjaCh0eXBlb2YgdS5kZXBlbmRzKXtjYXNlInN0cmluZyI6Zj0hIW4odS5kZXBlbmRzLGkuZm9ybSkubGVuZ3RoO2JyZWFrO2Nhc2UiZnVuY3Rpb24iOmY9dS5kZXBlbmRzLmNhbGwoaSxpKX1mP3Rbcl09dm9pZCAwPT09dS5wYXJhbXx8dS5wYXJhbToobi5kYXRhKGkuZm9ybSwidmFsaWRhdG9yIikucmVzZXRFbGVtZW50cyhuKGkpKSxkZWxldGUgdFtyXSl9fSksbi5lYWNoKHQsZnVuY3Rpb24obixyKXt0W25dPSJmdW5jdGlvbiI9PXR5cGVvZiByJiYibm9ybWFsaXplciIhPT1uP3IoaSk6cn0pLG4uZWFjaChbIm1pbmxlbmd0aCIsIm1heGxlbmd0aCJdLGZ1bmN0aW9uKCl7dFt0aGlzXSYmKHRbdGhpc109TnVtYmVyKHRbdGhpc10pKX0pLG4uZWFjaChbInJhbmdlbGVuZ3RoIiwicmFuZ2UiXSxmdW5jdGlvbigpe3ZhciBuO3RbdGhpc10mJihBcnJheS5pc0FycmF5KHRbdGhpc10pP3RbdGhpc109W051bWJlcih0W3RoaXNdWzBdKSxOdW1iZXIodFt0aGlzXVsxXSldOiJzdHJpbmciPT10eXBlb2YgdFt0aGlzXSYmKG49dFt0aGlzXS5yZXBsYWNlKC9bXFtcXV0vZywiIikuc3BsaXQoL1tccyxdKy8pLHRbdGhpc109W051bWJlcihuWzBdKSxOdW1iZXIoblsxXSldKSl9KSxuLnZhbGlkYXRvci5hdXRvQ3JlYXRlUmFuZ2VzJiYobnVsbCE9dC5taW4mJm51bGwhPXQubWF4JiYodC5yYW5nZT1bdC5taW4sdC5tYXhdLGRlbGV0ZSB0Lm1pbixkZWxldGUgdC5tYXgpLG51bGwhPXQubWlubGVuZ3RoJiZudWxsIT10Lm1heGxlbmd0aCYmKHQucmFuZ2VsZW5ndGg9W3QubWlubGVuZ3RoLHQubWF4bGVuZ3RoXSxkZWxldGUgdC5taW5sZW5ndGgsZGVsZXRlIHQubWF4bGVuZ3RoKSksdH0sbm9ybWFsaXplUnVsZTpmdW5jdGlvbih0KXtpZigic3RyaW5nIj09dHlwZW9mIHQpe3ZhciBpPXt9O24uZWFjaCh0LnNwbGl0KC9ccy8pLGZ1bmN0aW9uKCl7aVt0aGlzXT0hMH0pO3Q9aX1yZXR1cm4gdH0sYWRkTWV0aG9kOmZ1bmN0aW9uKHQsaSxyKXtuLnZhbGlkYXRvci5tZXRob2RzW3RdPWk7bi52YWxpZGF0b3IubWVzc2FnZXNbdF09dm9pZCAwIT09cj9yOm4udmFsaWRhdG9yLm1lc3NhZ2VzW3RdO2kubGVuZ3RoPDMmJm4udmFsaWRhdG9yLmFkZENsYXNzUnVsZXModCxuLnZhbGlkYXRvci5ub3JtYWxpemVSdWxlKHQpKX0sbWV0aG9kczp7cmVxdWlyZWQ6ZnVuY3Rpb24odCxpLHIpe2lmKCF0aGlzLmRlcGVuZChyLGkpKXJldHVybiJkZXBlbmRlbmN5LW1pc21hdGNoIjtpZigic2VsZWN0Ij09PWkubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7dmFyIHU9bihpKS52YWwoKTtyZXR1cm4gdSYmdS5sZW5ndGg+MH1yZXR1cm4gdGhpcy5jaGVja2FibGUoaSk/dGhpcy5nZXRMZW5ndGgodCxpKT4wOnZvaWQgMCE9PXQmJm51bGwhPT10JiZ0Lmxlbmd0aD4wfSxlbWFpbDpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHwvXlthLXpBLVowLTkuISMkJSYnKitcLz0/Xl9ge3x9fi1dK0BbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8oPzpcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykqJC8udGVzdChuKX0sdXJsOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMub3B0aW9uYWwodCl8fC9eKD86KD86KD86aHR0cHM/fGZ0cCk6KT9cL1wvKSg/OlxTKyg/OjpcUyopP0ApPyg/Oig/ISg/OjEwfDEyNykoPzpcLlxkezEsM30pezN9KSg/ISg/OjE2OVwuMjU0fDE5MlwuMTY4KSg/OlwuXGR7MSwzfSl7Mn0pKD8hMTcyXC4oPzoxWzYtOV18MlxkfDNbMC0xXSkoPzpcLlxkezEsM30pezJ9KSg/OlsxLTldXGQ/fDFcZFxkfDJbMDFdXGR8MjJbMC0zXSkoPzpcLig/OjE/XGR7MSwyfXwyWzAtNF1cZHwyNVswLTVdKSl7Mn0oPzpcLig/OlsxLTldXGQ/fDFcZFxkfDJbMC00XVxkfDI1WzAtNF0pKXwoPzooPzpbYS16MC05XHUwMGExLVx1ZmZmZl1bYS16MC05XHUwMGExLVx1ZmZmZl8tXXswLDYyfSk/W2EtejAtOVx1MDBhMS1cdWZmZmZdXC4pKyg/OlthLXpcdTAwYTEtXHVmZmZmXXsyLH1cLj8pKSg/OjpcZHsyLDV9KT8oPzpbXC8/I11cUyopPyQvaS50ZXN0KG4pfSxkYXRlOmZ1bmN0aW9uKCl7dmFyIG49ITE7cmV0dXJuIGZ1bmN0aW9uKHQsaSl7cmV0dXJuIG58fChuPSEwLHRoaXMuc2V0dGluZ3MuZGVidWcmJndpbmRvdy5jb25zb2xlJiZjb25zb2xlLndhcm4oIlRoZSBgZGF0ZWAgbWV0aG9kIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB2ZXJzaW9uICcyLjAuMCcuXG5QbGVhc2UgZG9uJ3QgdXNlIGl0LCBzaW5jZSBpdCByZWxpZXMgb24gdGhlIERhdGUgY29uc3RydWN0b3IsIHdoaWNoXG5iZWhhdmVzIHZlcnkgZGlmZmVyZW50bHkgYWNyb3NzIGJyb3dzZXJzIGFuZCBsb2NhbGVzLiBVc2UgYGRhdGVJU09gXG5pbnN0ZWFkIG9yIG9uZSBvZiB0aGUgbG9jYWxlIHNwZWNpZmljIG1ldGhvZHMgaW4gYGxvY2FsaXphdGlvbnMvYFxuYW5kIGBhZGRpdGlvbmFsLW1ldGhvZHMuanNgLiIpKSx0aGlzLm9wdGlvbmFsKGkpfHwhL0ludmFsaWR8TmFOLy50ZXN0KG5ldyBEYXRlKHQpLnRvU3RyaW5nKCkpfX0oKSxkYXRlSVNPOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMub3B0aW9uYWwodCl8fC9eXGR7NH1bXC9cLV0oMD9bMS05XXwxWzAxMl0pW1wvXC1dKDA/WzEtOV18WzEyXVswLTldfDNbMDFdKSQvLnRlc3Qobil9LG51bWJlcjpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHwvXig/Oi0/XGQrfC0/XGR7MSwzfSg/OixcZHszfSkrKT8oPzpcLlxkKyk/JC8udGVzdChuKX0sZGlnaXRzOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMub3B0aW9uYWwodCl8fC9eXGQrJC8udGVzdChuKX0sbWlubGVuZ3RoOmZ1bmN0aW9uKG4sdCxpKXt2YXIgcj1BcnJheS5pc0FycmF5KG4pP24ubGVuZ3RoOnRoaXMuZ2V0TGVuZ3RoKG4sdCk7cmV0dXJuIHRoaXMub3B0aW9uYWwodCl8fHI+PWl9LG1heGxlbmd0aDpmdW5jdGlvbihuLHQsaSl7dmFyIHI9QXJyYXkuaXNBcnJheShuKT9uLmxlbmd0aDp0aGlzLmdldExlbmd0aChuLHQpO3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHxyPD1pfSxyYW5nZWxlbmd0aDpmdW5jdGlvbihuLHQsaSl7dmFyIHI9QXJyYXkuaXNBcnJheShuKT9uLmxlbmd0aDp0aGlzLmdldExlbmd0aChuLHQpO3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHxyPj1pWzBdJiZyPD1pWzFdfSxtaW46ZnVuY3Rpb24obix0LGkpe3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHxuPj1pfSxtYXg6ZnVuY3Rpb24obix0LGkpe3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHxuPD1pfSxyYW5nZTpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIHRoaXMub3B0aW9uYWwodCl8fG4+PWlbMF0mJm48PWlbMV19LHN0ZXA6ZnVuY3Rpb24odCxpLHIpe3ZhciB1LGY9bihpKS5hdHRyKCJ0eXBlIiksaD0iU3RlcCBhdHRyaWJ1dGUgb24gaW5wdXQgdHlwZSAiK2YrIiBpcyBub3Qgc3VwcG9ydGVkLiIsYz1uZXcgUmVnRXhwKCJcXGIiK2YrIlxcYiIpLGw9ZiYmIWMudGVzdCgidGV4dCxudW1iZXIscmFuZ2UiKSxlPWZ1bmN0aW9uKG4pe3ZhciB0PSgiIituKS5tYXRjaCgvKD86XC4oXGQrKSk/JC8pO3JldHVybiB0JiZ0WzFdP3RbMV0ubGVuZ3RoOjB9LG89ZnVuY3Rpb24obil7cmV0dXJuIE1hdGgucm91bmQobipNYXRoLnBvdygxMCx1KSl9LHM9ITA7aWYobCl0aHJvdyBuZXcgRXJyb3IoaCk7cmV0dXJuIHU9ZShyKSwoZSh0KT51fHxvKHQpJW8ocikhPTApJiYocz0hMSksdGhpcy5vcHRpb25hbChpKXx8c30sZXF1YWxUbzpmdW5jdGlvbih0LGkscil7dmFyIHU9bihyKTtyZXR1cm4gdGhpcy5zZXR0aW5ncy5vbmZvY3Vzb3V0JiZ1Lm5vdCgiLnZhbGlkYXRlLWVxdWFsVG8tYmx1ciIpLmxlbmd0aCYmdS5hZGRDbGFzcygidmFsaWRhdGUtZXF1YWxUby1ibHVyIikub24oImJsdXIudmFsaWRhdGUtZXF1YWxUbyIsZnVuY3Rpb24oKXtuKGkpLnZhbGlkKCl9KSx0PT09dS52YWwoKX0scmVtb3RlOmZ1bmN0aW9uKHQsaSxyLHUpe2lmKHRoaXMub3B0aW9uYWwoaSkpcmV0dXJuImRlcGVuZGVuY3ktbWlzbWF0Y2giO3U9InN0cmluZyI9PXR5cGVvZiB1JiZ1fHwicmVtb3RlIjt2YXIgZixvLHMsZT10aGlzLnByZXZpb3VzVmFsdWUoaSx1KTtyZXR1cm4gdGhpcy5zZXR0aW5ncy5tZXNzYWdlc1tpLm5hbWVdfHwodGhpcy5zZXR0aW5ncy5tZXNzYWdlc1tpLm5hbWVdPXt9KSxlLm9yaWdpbmFsTWVzc2FnZT1lLm9yaWdpbmFsTWVzc2FnZXx8dGhpcy5zZXR0aW5ncy5tZXNzYWdlc1tpLm5hbWVdW3VdLHRoaXMuc2V0dGluZ3MubWVzc2FnZXNbaS5uYW1lXVt1XT1lLm1lc3NhZ2Uscj0ic3RyaW5nIj09dHlwZW9mIHImJnt1cmw6cn18fHIscz1uLnBhcmFtKG4uZXh0ZW5kKHtkYXRhOnR9LHIuZGF0YSkpLGUub2xkPT09cz9lLnZhbGlkOihlLm9sZD1zLGY9dGhpcyx0aGlzLnN0YXJ0UmVxdWVzdChpKSxvPXt9LG9baS5uYW1lXT10LG4uYWpheChuLmV4dGVuZCghMCx7bW9kZToiYWJvcnQiLHBvcnQ6InZhbGlkYXRlIitpLm5hbWUsZGF0YVR5cGU6Impzb24iLGRhdGE6byxjb250ZXh0OmYuY3VycmVudEZvcm0sc3VjY2VzczpmdW5jdGlvbihuKXt2YXIgcixzLGgsbz1uPT09ITB8fCJ0cnVlIj09PW47Zi5zZXR0aW5ncy5tZXNzYWdlc1tpLm5hbWVdW3VdPWUub3JpZ2luYWxNZXNzYWdlO28/KGg9Zi5mb3JtU3VibWl0dGVkLGYucmVzZXRJbnRlcm5hbHMoKSxmLnRvSGlkZT1mLmVycm9yc0ZvcihpKSxmLmZvcm1TdWJtaXR0ZWQ9aCxmLnN1Y2Nlc3NMaXN0LnB1c2goaSksZi5pbnZhbGlkW2kubmFtZV09ITEsZi5zaG93RXJyb3JzKCkpOihyPXt9LHM9bnx8Zi5kZWZhdWx0TWVzc2FnZShpLHttZXRob2Q6dSxwYXJhbWV0ZXJzOnR9KSxyW2kubmFtZV09ZS5tZXNzYWdlPXMsZi5pbnZhbGlkW2kubmFtZV09ITAsZi5zaG93RXJyb3JzKHIpKTtlLnZhbGlkPW87Zi5zdG9wUmVxdWVzdChpLG8pfX0scikpLCJwZW5kaW5nIil9fX0pLHQ9e30sbi5hamF4UHJlZmlsdGVyP24uYWpheFByZWZpbHRlcihmdW5jdGlvbihuLGkscil7dmFyIHU9bi5wb3J0OyJhYm9ydCI9PT1uLm1vZGUmJih0W3VdJiZ0W3VdLmFib3J0KCksdFt1XT1yKX0pOihyPW4uYWpheCxuLmFqYXg9ZnVuY3Rpb24oaSl7dmFyIGY9KCJtb2RlImluIGk/aTpuLmFqYXhTZXR0aW5ncykubW9kZSx1PSgicG9ydCJpbiBpP2k6bi5hamF4U2V0dGluZ3MpLnBvcnQ7cmV0dXJuImFib3J0Ij09PWY/KHRbdV0mJnRbdV0uYWJvcnQoKSx0W3VdPXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRbdV0pOnIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSksbn0pOyFmdW5jdGlvbihuKXsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSgianF1ZXJ5LnZhbGlkYXRlLnVub2J0cnVzaXZlIixbImpxdWVyeS12YWxpZGF0aW9uIl0sbik6Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPW4ocmVxdWlyZSgianF1ZXJ5LXZhbGlkYXRpb24iKSk6alF1ZXJ5LnZhbGlkYXRvci51bm9idHJ1c2l2ZT1uKGpRdWVyeSl9KGZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGkobix0LGkpe24ucnVsZXNbdF09aTtuLm1lc3NhZ2UmJihuLm1lc3NhZ2VzW3RdPW4ubWVzc2FnZSl9ZnVuY3Rpb24gaChuKXtyZXR1cm4gbi5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIikuc3BsaXQoL1xzKixccyovZyl9ZnVuY3Rpb24gZihuKXtyZXR1cm4gbi5yZXBsYWNlKC8oWyEiIyQlJicoKSorLC5cLzo7PD0+P0BcW1xcXF1eYHt8fX5dKS9nLCJcXCQxIil9ZnVuY3Rpb24gZShuKXtyZXR1cm4gbi5zdWJzdHIoMCxuLmxhc3RJbmRleE9mKCIuIikrMSl9ZnVuY3Rpb24gbyhuLHQpe3JldHVybiAwPT09bi5pbmRleE9mKCIqLiIpJiYobj1uLnJlcGxhY2UoIiouIix0KSksbn1mdW5jdGlvbiBjKHQsaSl7dmFyIHI9bih0aGlzKS5maW5kKCJbZGF0YS12YWxtc2ctZm9yPSciK2YoaVswXS5uYW1lKSsiJ10iKSx1PXIuYXR0cigiZGF0YS12YWxtc2ctcmVwbGFjZSIpLGU9dT9uLnBhcnNlSlNPTih1KSE9PSExOm51bGw7ci5yZW1vdmVDbGFzcygiZmllbGQtdmFsaWRhdGlvbi12YWxpZCIpLmFkZENsYXNzKCJmaWVsZC12YWxpZGF0aW9uLWVycm9yIik7dC5kYXRhKCJ1bm9idHJ1c2l2ZUNvbnRhaW5lciIscik7ZT8oci5lbXB0eSgpLHQucmVtb3ZlQ2xhc3MoImlucHV0LXZhbGlkYXRpb24tZXJyb3IiKS5hcHBlbmRUbyhyKSk6dC5oaWRlKCl9ZnVuY3Rpb24gbCh0LGkpe3ZhciB1PW4odGhpcykuZmluZCgiW2RhdGEtdmFsbXNnLXN1bW1hcnk9dHJ1ZV0iKSxyPXUuZmluZCgidWwiKTtyJiZyLmxlbmd0aCYmaS5lcnJvckxpc3QubGVuZ3RoJiYoci5lbXB0eSgpLHUuYWRkQ2xhc3MoInZhbGlkYXRpb24tc3VtbWFyeS1lcnJvcnMiKS5yZW1vdmVDbGFzcygidmFsaWRhdGlvbi1zdW1tYXJ5LXZhbGlkIiksbi5lYWNoKGkuZXJyb3JMaXN0LGZ1bmN0aW9uKCl7bigiPGxpIC8+IikuaHRtbCh0aGlzLm1lc3NhZ2UpLmFwcGVuZFRvKHIpfSkpfWZ1bmN0aW9uIGEodCl7dmFyIGk9dC5kYXRhKCJ1bm9idHJ1c2l2ZUNvbnRhaW5lciIpLHIsdTtpJiYocj1pLmF0dHIoImRhdGEtdmFsbXNnLXJlcGxhY2UiKSx1PXI/bi5wYXJzZUpTT04ocik6bnVsbCxpLmFkZENsYXNzKCJmaWVsZC12YWxpZGF0aW9uLXZhbGlkIikucmVtb3ZlQ2xhc3MoImZpZWxkLXZhbGlkYXRpb24tZXJyb3IiKSx0LnJlbW92ZURhdGEoInVub2J0cnVzaXZlQ29udGFpbmVyIiksdSYmaS5lbXB0eSgpKX1mdW5jdGlvbiB2KCl7dmFyIHQ9bih0aGlzKSxpPSJfX2pxdWVyeV91bm9idHJ1c2l2ZV92YWxpZGF0aW9uX2Zvcm1fcmVzZXQiO2lmKCF0LmRhdGEoaSkpe3QuZGF0YShpLCEwKTt0cnl7dC5kYXRhKCJ2YWxpZGF0b3IiKS5yZXNldEZvcm0oKX1maW5hbGx5e3QucmVtb3ZlRGF0YShpKX10LmZpbmQoIi52YWxpZGF0aW9uLXN1bW1hcnktZXJyb3JzIikuYWRkQ2xhc3MoInZhbGlkYXRpb24tc3VtbWFyeS12YWxpZCIpLnJlbW92ZUNsYXNzKCJ2YWxpZGF0aW9uLXN1bW1hcnktZXJyb3JzIik7dC5maW5kKCIuZmllbGQtdmFsaWRhdGlvbi1lcnJvciIpLmFkZENsYXNzKCJmaWVsZC12YWxpZGF0aW9uLXZhbGlkIikucmVtb3ZlQ2xhc3MoImZpZWxkLXZhbGlkYXRpb24tZXJyb3IiKS5yZW1vdmVEYXRhKCJ1bm9idHJ1c2l2ZUNvbnRhaW5lciIpLmZpbmQoIj4qIikucmVtb3ZlRGF0YSgidW5vYnRydXNpdmVDb250YWluZXIiKX19ZnVuY3Rpb24gcyh0KXt2YXIgaT1uKHQpLGY9aS5kYXRhKHUpLHM9bi5wcm94eSh2LHQpLGU9ci51bm9idHJ1c2l2ZS5vcHRpb25zfHx7fSxvPWZ1bmN0aW9uKGkscil7dmFyIHU9ZVtpXTt1JiZuLmlzRnVuY3Rpb24odSkmJnUuYXBwbHkodCxyKX07cmV0dXJuIGZ8fChmPXtvcHRpb25zOntlcnJvckNsYXNzOmUuZXJyb3JDbGFzc3x8ImlucHV0LXZhbGlkYXRpb24tZXJyb3IiLGVycm9yRWxlbWVudDplLmVycm9yRWxlbWVudHx8InNwYW4iLGVycm9yUGxhY2VtZW50OmZ1bmN0aW9uKCl7Yy5hcHBseSh0LGFyZ3VtZW50cyk7bygiZXJyb3JQbGFjZW1lbnQiLGFyZ3VtZW50cyl9LGludmFsaWRIYW5kbGVyOmZ1bmN0aW9uKCl7bC5hcHBseSh0LGFyZ3VtZW50cyk7bygiaW52YWxpZEhhbmRsZXIiLGFyZ3VtZW50cyl9LG1lc3NhZ2VzOnt9LHJ1bGVzOnt9LHN1Y2Nlc3M6ZnVuY3Rpb24oKXthLmFwcGx5KHQsYXJndW1lbnRzKTtvKCJzdWNjZXNzIixhcmd1bWVudHMpfX0sYXR0YWNoVmFsaWRhdGlvbjpmdW5jdGlvbigpe2kub2ZmKCJyZXNldC4iK3Uscykub24oInJlc2V0LiIrdSxzKS52YWxpZGF0ZSh0aGlzLm9wdGlvbnMpfSx2YWxpZGF0ZTpmdW5jdGlvbigpe3JldHVybiBpLnZhbGlkYXRlKCksaS52YWxpZCgpfX0saS5kYXRhKHUsZikpLGZ9dmFyIHQscj1uLnZhbGlkYXRvcix1PSJ1bm9idHJ1c2l2ZVZhbGlkYXRpb24iO3JldHVybiByLnVub2J0cnVzaXZlPXthZGFwdGVyczpbXSxwYXJzZUVsZW1lbnQ6ZnVuY3Rpb24odCxpKXt2YXIgcix1LG8sZj1uKHQpLGU9Zi5wYXJlbnRzKCJmb3JtIilbMF07ZSYmKHI9cyhlKSxyLm9wdGlvbnMucnVsZXNbdC5uYW1lXT11PXt9LHIub3B0aW9ucy5tZXNzYWdlc1t0Lm5hbWVdPW89e30sbi5lYWNoKHRoaXMuYWRhcHRlcnMsZnVuY3Rpb24oKXt2YXIgaT0iZGF0YS12YWwtIit0aGlzLm5hbWUscj1mLmF0dHIoaSkscz17fTt2b2lkIDAhPT1yJiYoaSs9Ii0iLG4uZWFjaCh0aGlzLnBhcmFtcyxmdW5jdGlvbigpe3NbdGhpc109Zi5hdHRyKGkrdGhpcyl9KSx0aGlzLmFkYXB0KHtlbGVtZW50OnQsZm9ybTplLG1lc3NhZ2U6cixwYXJhbXM6cyxydWxlczp1LG1lc3NhZ2VzOm99KSl9KSxuLmV4dGVuZCh1LHtfX2R1bW15X186ITB9KSxpfHxyLmF0dGFjaFZhbGlkYXRpb24oKSl9LHBhcnNlOmZ1bmN0aW9uKHQpe3ZhciBpPW4odCksdT1pLnBhcmVudHMoKS5hZGRCYWNrKCkuZmlsdGVyKCJmb3JtIikuYWRkKGkuZmluZCgiZm9ybSIpKS5oYXMoIltkYXRhLXZhbD10cnVlXSIpO2kuZmluZCgiW2RhdGEtdmFsPXRydWVdIikuZWFjaChmdW5jdGlvbigpe3IudW5vYnRydXNpdmUucGFyc2VFbGVtZW50KHRoaXMsITApfSk7dS5lYWNoKGZ1bmN0aW9uKCl7dmFyIG49cyh0aGlzKTtuJiZuLmF0dGFjaFZhbGlkYXRpb24oKX0pfX0sdD1yLnVub2J0cnVzaXZlLmFkYXB0ZXJzLHQuYWRkPWZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gaXx8KGk9dCx0PVtdKSx0aGlzLnB1c2goe25hbWU6bixwYXJhbXM6dCxhZGFwdDppfSksdGhpc30sdC5hZGRCb29sPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMuYWRkKG4sZnVuY3Rpb24ocil7aShyLHR8fG4sITApfSl9LHQuYWRkTWluTWF4PWZ1bmN0aW9uKG4sdCxyLHUsZixlKXtyZXR1cm4gdGhpcy5hZGQobixbZnx8Im1pbiIsZXx8Im1heCJdLGZ1bmN0aW9uKG4pe3ZhciBmPW4ucGFyYW1zLm1pbixlPW4ucGFyYW1zLm1heDtmJiZlP2kobix1LFtmLGVdKTpmP2kobix0LGYpOmUmJmkobixyLGUpfSl9LHQuYWRkU2luZ2xlVmFsPWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gdGhpcy5hZGQobixbdHx8InZhbCJdLGZ1bmN0aW9uKHUpe2kodSxyfHxuLHUucGFyYW1zW3RdKX0pfSxyLmFkZE1ldGhvZCgiX19kdW1teV9fIixmdW5jdGlvbigpe3JldHVybiEwfSksci5hZGRNZXRob2QoInJlZ2V4IixmdW5jdGlvbihuLHQsaSl7dmFyIHI7cmV0dXJuISF0aGlzLm9wdGlvbmFsKHQpfHwocj1uZXcgUmVnRXhwKGkpLmV4ZWMobiksciYmMD09PXIuaW5kZXgmJnJbMF0ubGVuZ3RoPT09bi5sZW5ndGgpfSksci5hZGRNZXRob2QoIm5vbmFscGhhbWluIixmdW5jdGlvbihuLHQsaSl7dmFyIHI7cmV0dXJuIGkmJihyPW4ubWF0Y2goL1xXL2cpLHI9ciYmci5sZW5ndGg+PWkpLHJ9KSxyLm1ldGhvZHMuZXh0ZW5zaW9uPyh0LmFkZFNpbmdsZVZhbCgiYWNjZXB0IiwibWltdHlwZSIpLHQuYWRkU2luZ2xlVmFsKCJleHRlbnNpb24iLCJleHRlbnNpb24iKSk6dC5hZGRTaW5nbGVWYWwoImV4dGVuc2lvbiIsImV4dGVuc2lvbiIsImFjY2VwdCIpLHQuYWRkU2luZ2xlVmFsKCJyZWdleCIsInBhdHRlcm4iKSx0LmFkZEJvb2woImNyZWRpdGNhcmQiKS5hZGRCb29sKCJkYXRlIikuYWRkQm9vbCgiZGlnaXRzIikuYWRkQm9vbCgiZW1haWwiKS5hZGRCb29sKCJudW1iZXIiKS5hZGRCb29sKCJ1cmwiKSx0LmFkZE1pbk1heCgibGVuZ3RoIiwibWlubGVuZ3RoIiwibWF4bGVuZ3RoIiwicmFuZ2VsZW5ndGgiKS5hZGRNaW5NYXgoInJhbmdlIiwibWluIiwibWF4IiwicmFuZ2UiKSx0LmFkZE1pbk1heCgibWlubGVuZ3RoIiwibWlubGVuZ3RoIikuYWRkTWluTWF4KCJtYXhsZW5ndGgiLCJtaW5sZW5ndGgiLCJtYXhsZW5ndGgiKSx0LmFkZCgiZXF1YWx0byIsWyJvdGhlciJdLGZ1bmN0aW9uKHQpe3ZhciByPWUodC5lbGVtZW50Lm5hbWUpLHU9dC5wYXJhbXMub3RoZXIscz1vKHUsciksaD1uKHQuZm9ybSkuZmluZCgiOmlucHV0IikuZmlsdGVyKCJbbmFtZT0nIitmKHMpKyInXSIpWzBdO2kodCwiZXF1YWxUbyIsaCl9KSx0LmFkZCgicmVxdWlyZWQiLGZ1bmN0aW9uKG4peyJJTlBVVCI9PT1uLmVsZW1lbnQudGFnTmFtZS50b1VwcGVyQ2FzZSgpJiYiQ0hFQ0tCT1giPT09bi5lbGVtZW50LnR5cGUudG9VcHBlckNhc2UoKXx8aShuLCJyZXF1aXJlZCIsITApfSksdC5hZGQoInJlbW90ZSIsWyJ1cmwiLCJ0eXBlIiwiYWRkaXRpb25hbGZpZWxkcyJdLGZ1bmN0aW9uKHQpe3ZhciByPXt1cmw6dC5wYXJhbXMudXJsLHR5cGU6dC5wYXJhbXMudHlwZXx8IkdFVCIsZGF0YTp7fX0sdT1lKHQuZWxlbWVudC5uYW1lKTtuLmVhY2goaCh0LnBhcmFtcy5hZGRpdGlvbmFsZmllbGRzfHx0LmVsZW1lbnQubmFtZSksZnVuY3Rpb24oaSxlKXt2YXIgcz1vKGUsdSk7ci5kYXRhW3NdPWZ1bmN0aW9uKCl7dmFyIGk9bih0LmZvcm0pLmZpbmQoIjppbnB1dCIpLmZpbHRlcigiW25hbWU9JyIrZihzKSsiJ10iKTtyZXR1cm4gaS5pcygiOmNoZWNrYm94Iik/aS5maWx0ZXIoIjpjaGVja2VkIikudmFsKCl8fGkuZmlsdGVyKCI6aGlkZGVuIikudmFsKCl8fCIiOmkuaXMoIjpyYWRpbyIpP2kuZmlsdGVyKCI6Y2hlY2tlZCIpLnZhbCgpfHwiIjppLnZhbCgpfX0pO2kodCwicmVtb3RlIixyKX0pLHQuYWRkKCJwYXNzd29yZCIsWyJtaW4iLCJub25hbHBoYW1pbiIsInJlZ2V4Il0sZnVuY3Rpb24obil7bi5wYXJhbXMubWluJiZpKG4sIm1pbmxlbmd0aCIsbi5wYXJhbXMubWluKTtuLnBhcmFtcy5ub25hbHBoYW1pbiYmaShuLCJub25hbHBoYW1pbiIsbi5wYXJhbXMubm9uYWxwaGFtaW4pO24ucGFyYW1zLnJlZ2V4JiZpKG4sInJlZ2V4IixuLnBhcmFtcy5yZWdleCl9KSx0LmFkZCgiZmlsZWV4dGVuc2lvbnMiLFsiZXh0ZW5zaW9ucyJdLGZ1bmN0aW9uKG4pe2kobiwiZXh0ZW5zaW9uIixuLnBhcmFtcy5leHRlbnNpb25zKX0pLG4oZnVuY3Rpb24oKXtyLnVub2J0cnVzaXZlLnBhcnNlKGRvY3VtZW50KX0pLHIudW5vYnRydXNpdmV9KTsKLyohIGpRdWVyeSBVSSAtIHYxLjEyLjEgLSAyMDE2LTA5LTE0CiogaHR0cDovL2pxdWVyeXVpLmNvbQoqIEluY2x1ZGVzOiB3aWRnZXQuanMsIHBvc2l0aW9uLmpzLCBkYXRhLmpzLCBkaXNhYmxlLXNlbGVjdGlvbi5qcywgZWZmZWN0LmpzLCBlZmZlY3RzL2VmZmVjdC1ibGluZC5qcywgZWZmZWN0cy9lZmZlY3QtYm91bmNlLmpzLCBlZmZlY3RzL2VmZmVjdC1jbGlwLmpzLCBlZmZlY3RzL2VmZmVjdC1kcm9wLmpzLCBlZmZlY3RzL2VmZmVjdC1leHBsb2RlLmpzLCBlZmZlY3RzL2VmZmVjdC1mYWRlLmpzLCBlZmZlY3RzL2VmZmVjdC1mb2xkLmpzLCBlZmZlY3RzL2VmZmVjdC1oaWdobGlnaHQuanMsIGVmZmVjdHMvZWZmZWN0LXB1ZmYuanMsIGVmZmVjdHMvZWZmZWN0LXB1bHNhdGUuanMsIGVmZmVjdHMvZWZmZWN0LXNjYWxlLmpzLCBlZmZlY3RzL2VmZmVjdC1zaGFrZS5qcywgZWZmZWN0cy9lZmZlY3Qtc2l6ZS5qcywgZWZmZWN0cy9lZmZlY3Qtc2xpZGUuanMsIGVmZmVjdHMvZWZmZWN0LXRyYW5zZmVyLmpzLCBmb2N1c2FibGUuanMsIGZvcm0tcmVzZXQtbWl4aW4uanMsIGpxdWVyeS0xLTcuanMsIGtleWNvZGUuanMsIGxhYmVscy5qcywgc2Nyb2xsLXBhcmVudC5qcywgdGFiYmFibGUuanMsIHVuaXF1ZS1pZC5qcywgd2lkZ2V0cy9hY2NvcmRpb24uanMsIHdpZGdldHMvYXV0b2NvbXBsZXRlLmpzLCB3aWRnZXRzL2J1dHRvbi5qcywgd2lkZ2V0cy9jaGVja2JveHJhZGlvLmpzLCB3aWRnZXRzL2NvbnRyb2xncm91cC5qcywgd2lkZ2V0cy9kYXRlcGlja2VyLmpzLCB3aWRnZXRzL2RpYWxvZy5qcywgd2lkZ2V0cy9kcmFnZ2FibGUuanMsIHdpZGdldHMvZHJvcHBhYmxlLmpzLCB3aWRnZXRzL21lbnUuanMsIHdpZGdldHMvbW91c2UuanMsIHdpZGdldHMvcHJvZ3Jlc3NiYXIuanMsIHdpZGdldHMvcmVzaXphYmxlLmpzLCB3aWRnZXRzL3NlbGVjdGFibGUuanMsIHdpZGdldHMvc2VsZWN0bWVudS5qcywgd2lkZ2V0cy9zbGlkZXIuanMsIHdpZGdldHMvc29ydGFibGUuanMsIHdpZGdldHMvc3Bpbm5lci5qcywgd2lkZ2V0cy90YWJzLmpzLCB3aWRnZXRzL3Rvb2x0aXAuanMKKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yczsgTGljZW5zZWQgTUlUICovCihmdW5jdGlvbihuKXsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbImpxdWVyeSJdLG4pOm4oalF1ZXJ5KX0pKGZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGIobil7Zm9yKHZhciB0PW4uY3NzKCJ2aXNpYmlsaXR5Iik7ImluaGVyaXQiPT09dDspbj1uLnBhcmVudCgpLHQ9bi5jc3MoInZpc2liaWxpdHkiKTtyZXR1cm4iaGlkZGVuIiE9PXR9ZnVuY3Rpb24gayhuKXtmb3IodmFyIHQsaTtuLmxlbmd0aCYmblswXSE9PWRvY3VtZW50Oyl7aWYodD1uLmNzcygicG9zaXRpb24iKSwoImFic29sdXRlIj09PXR8fCJyZWxhdGl2ZSI9PT10fHwiZml4ZWQiPT09dCkmJihpPXBhcnNlSW50KG4uY3NzKCJ6SW5kZXgiKSwxMCksIWlzTmFOKGkpJiYwIT09aSkpcmV0dXJuIGk7bj1uLnBhcmVudCgpfXJldHVybiAwfWZ1bmN0aW9uIGMoKXt0aGlzLl9jdXJJbnN0PW51bGw7dGhpcy5fa2V5RXZlbnQ9ITE7dGhpcy5fZGlzYWJsZWRJbnB1dHM9W107dGhpcy5fZGF0ZXBpY2tlclNob3dpbmc9ITE7dGhpcy5faW5EaWFsb2c9ITE7dGhpcy5fbWFpbkRpdklkPSJ1aS1kYXRlcGlja2VyLWRpdiI7dGhpcy5faW5saW5lQ2xhc3M9InVpLWRhdGVwaWNrZXItaW5saW5lIjt0aGlzLl9hcHBlbmRDbGFzcz0idWktZGF0ZXBpY2tlci1hcHBlbmQiO3RoaXMuX3RyaWdnZXJDbGFzcz0idWktZGF0ZXBpY2tlci10cmlnZ2VyIjt0aGlzLl9kaWFsb2dDbGFzcz0idWktZGF0ZXBpY2tlci1kaWFsb2ciO3RoaXMuX2Rpc2FibGVDbGFzcz0idWktZGF0ZXBpY2tlci1kaXNhYmxlZCI7dGhpcy5fdW5zZWxlY3RhYmxlQ2xhc3M9InVpLWRhdGVwaWNrZXItdW5zZWxlY3RhYmxlIjt0aGlzLl9jdXJyZW50Q2xhc3M9InVpLWRhdGVwaWNrZXItY3VycmVudC1kYXkiO3RoaXMuX2RheU92ZXJDbGFzcz0idWktZGF0ZXBpY2tlci1kYXlzLWNlbGwtb3ZlciI7dGhpcy5yZWdpb25hbD1bXTt0aGlzLnJlZ2lvbmFsWyIiXT17Y2xvc2VUZXh0OiJEb25lIixwcmV2VGV4dDoiUHJldiIsbmV4dFRleHQ6Ik5leHQiLGN1cnJlbnRUZXh0OiJUb2RheSIsbW9udGhOYW1lczpbIkphbnVhcnkiLCJGZWJydWFyeSIsIk1hcmNoIiwiQXByaWwiLCJNYXkiLCJKdW5lIiwiSnVseSIsIkF1Z3VzdCIsIlNlcHRlbWJlciIsIk9jdG9iZXIiLCJOb3ZlbWJlciIsIkRlY2VtYmVyIl0sbW9udGhOYW1lc1Nob3J0OlsiSmFuIiwiRmViIiwiTWFyIiwiQXByIiwiTWF5IiwiSnVuIiwiSnVsIiwiQXVnIiwiU2VwIiwiT2N0IiwiTm92IiwiRGVjIl0sZGF5TmFtZXM6WyJTdW5kYXkiLCJNb25kYXkiLCJUdWVzZGF5IiwiV2VkbmVzZGF5IiwiVGh1cnNkYXkiLCJGcmlkYXkiLCJTYXR1cmRheSJdLGRheU5hbWVzU2hvcnQ6WyJTdW4iLCJNb24iLCJUdWUiLCJXZWQiLCJUaHUiLCJGcmkiLCJTYXQiXSxkYXlOYW1lc01pbjpbIlN1IiwiTW8iLCJUdSIsIldlIiwiVGgiLCJGciIsIlNhIl0sd2Vla0hlYWRlcjoiV2siLGRhdGVGb3JtYXQ6Im1tL2RkL3l5IixmaXJzdERheTowLGlzUlRMOiExLHNob3dNb250aEFmdGVyWWVhcjohMSx5ZWFyU3VmZml4OiIifTt0aGlzLl9kZWZhdWx0cz17c2hvd09uOiJmb2N1cyIsc2hvd0FuaW06ImZhZGVJbiIsc2hvd09wdGlvbnM6e30sZGVmYXVsdERhdGU6bnVsbCxhcHBlbmRUZXh0OiIiLGJ1dHRvblRleHQ6Ii4uLiIsYnV0dG9uSW1hZ2U6IiIsYnV0dG9uSW1hZ2VPbmx5OiExLGhpZGVJZk5vUHJldk5leHQ6ITEsbmF2aWdhdGlvbkFzRGF0ZUZvcm1hdDohMSxnb3RvQ3VycmVudDohMSxjaGFuZ2VNb250aDohMSxjaGFuZ2VZZWFyOiExLHllYXJSYW5nZToiYy0xMDpjKzEwIixzaG93T3RoZXJNb250aHM6ITEsc2VsZWN0T3RoZXJNb250aHM6ITEsc2hvd1dlZWs6ITEsY2FsY3VsYXRlV2Vlazp0aGlzLmlzbzg2MDFXZWVrLHNob3J0WWVhckN1dG9mZjoiKzEwIixtaW5EYXRlOm51bGwsbWF4RGF0ZTpudWxsLGR1cmF0aW9uOiJmYXN0IixiZWZvcmVTaG93RGF5Om51bGwsYmVmb3JlU2hvdzpudWxsLG9uU2VsZWN0Om51bGwsb25DaGFuZ2VNb250aFllYXI6bnVsbCxvbkNsb3NlOm51bGwsbnVtYmVyT2ZNb250aHM6MSxzaG93Q3VycmVudEF0UG9zOjAsc3RlcE1vbnRoczoxLHN0ZXBCaWdNb250aHM6MTIsYWx0RmllbGQ6IiIsYWx0Rm9ybWF0OiIiLGNvbnN0cmFpbklucHV0OiEwLHNob3dCdXR0b25QYW5lbDohMSxhdXRvU2l6ZTohMSxkaXNhYmxlZDohMX07bi5leHRlbmQodGhpcy5fZGVmYXVsdHMsdGhpcy5yZWdpb25hbFsiIl0pO3RoaXMucmVnaW9uYWwuZW49bi5leHRlbmQoITAse30sdGhpcy5yZWdpb25hbFsiIl0pO3RoaXMucmVnaW9uYWxbImVuLVVTIl09bi5leHRlbmQoITAse30sdGhpcy5yZWdpb25hbC5lbik7dGhpcy5kcERpdj1sKG4oIjxkaXYgaWQ9JyIrdGhpcy5fbWFpbkRpdklkKyInIGNsYXNzPSd1aS1kYXRlcGlja2VyIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1oZWxwZXItY2xlYXJmaXggdWktY29ybmVyLWFsbCc+PFwvZGl2PiIpKX1mdW5jdGlvbiBsKHQpe3ZhciBpPSJidXR0b24sIC51aS1kYXRlcGlja2VyLXByZXYsIC51aS1kYXRlcGlja2VyLW5leHQsIC51aS1kYXRlcGlja2VyLWNhbGVuZGFyIHRkIGEiO3JldHVybiB0Lm9uKCJtb3VzZW91dCIsaSxmdW5jdGlvbigpe24odGhpcykucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIik7LTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1kYXRlcGlja2VyLXByZXYiKSYmbih0aGlzKS5yZW1vdmVDbGFzcygidWktZGF0ZXBpY2tlci1wcmV2LWhvdmVyIik7LTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1kYXRlcGlja2VyLW5leHQiKSYmbih0aGlzKS5yZW1vdmVDbGFzcygidWktZGF0ZXBpY2tlci1uZXh0LWhvdmVyIil9KS5vbigibW91c2VvdmVyIixpLGEpfWZ1bmN0aW9uIGEoKXtuLmRhdGVwaWNrZXIuX2lzRGlzYWJsZWREYXRlcGlja2VyKGkuaW5saW5lP2kuZHBEaXYucGFyZW50KClbMF06aS5pbnB1dFswXSl8fChuKHRoaXMpLnBhcmVudHMoIi51aS1kYXRlcGlja2VyLWNhbGVuZGFyIikuZmluZCgiYSIpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpLG4odGhpcykuYWRkQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksLTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1kYXRlcGlja2VyLXByZXYiKSYmbih0aGlzKS5hZGRDbGFzcygidWktZGF0ZXBpY2tlci1wcmV2LWhvdmVyIiksLTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1kYXRlcGlja2VyLW5leHQiKSYmbih0aGlzKS5hZGRDbGFzcygidWktZGF0ZXBpY2tlci1uZXh0LWhvdmVyIikpfWZ1bmN0aW9uIHUodCxpKXtuLmV4dGVuZCh0LGkpO2Zvcih2YXIgciBpbiBpKW51bGw9PWlbcl0mJih0W3JdPWlbcl0pO3JldHVybiB0fWZ1bmN0aW9uIHQobil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50LnZhbCgpO24uYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3JlZnJlc2goKTt0IT09dGhpcy5lbGVtZW50LnZhbCgpJiZ0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiKX19dmFyIHYsbyxwLHcsaSxyLGU7bi51aT1uLnVpfHx7fTtuLnVpLnZlcnNpb249IjEuMTIuMSI7dj0wO289QXJyYXkucHJvdG90eXBlLnNsaWNlO24uY2xlYW5EYXRhPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihpKXtmb3IodmFyIHIsdSxmPTA7bnVsbCE9KHU9aVtmXSk7ZisrKXRyeXtyPW4uX2RhdGEodSwiZXZlbnRzIik7ciYmci5yZW1vdmUmJm4odSkudHJpZ2dlckhhbmRsZXIoInJlbW92ZSIpfWNhdGNoKGUpe310KGkpfX0obi5jbGVhbkRhdGEpO24ud2lkZ2V0PWZ1bmN0aW9uKHQsaSxyKXt2YXIgZix1LG8saD17fSxlPXQuc3BsaXQoIi4iKVswXSxzO3JldHVybiB0PXQuc3BsaXQoIi4iKVsxXSxzPWUrIi0iK3Qscnx8KHI9aSxpPW4uV2lkZ2V0KSxuLmlzQXJyYXkocikmJihyPW4uZXh0ZW5kLmFwcGx5KG51bGwsW3t9XS5jb25jYXQocikpKSxuLmV4cHJbIjoiXVtzLnRvTG93ZXJDYXNlKCldPWZ1bmN0aW9uKHQpe3JldHVybiEhbi5kYXRhKHQscyl9LG5bZV09bltlXXx8e30sZj1uW2VdW3RdLHU9bltlXVt0XT1mdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLl9jcmVhdGVXaWRnZXQ/KGFyZ3VtZW50cy5sZW5ndGgmJnRoaXMuX2NyZWF0ZVdpZGdldChuLHQpLHZvaWQgMCk6bmV3IHUobix0KX0sbi5leHRlbmQodSxmLHt2ZXJzaW9uOnIudmVyc2lvbixfcHJvdG86bi5leHRlbmQoe30sciksX2NoaWxkQ29uc3RydWN0b3JzOltdfSksbz1uZXcgaSxvLm9wdGlvbnM9bi53aWRnZXQuZXh0ZW5kKHt9LG8ub3B0aW9ucyksbi5lYWNoKHIsZnVuY3Rpb24odCxyKXtyZXR1cm4gbi5pc0Z1bmN0aW9uKHIpPyhoW3RdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3JldHVybiBpLnByb3RvdHlwZVt0XS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gdShuKXtyZXR1cm4gaS5wcm90b3R5cGVbdF0uYXBwbHkodGhpcyxuKX1yZXR1cm4gZnVuY3Rpb24oKXt2YXIgdCxpPXRoaXMuX3N1cGVyLGY9dGhpcy5fc3VwZXJBcHBseTtyZXR1cm4gdGhpcy5fc3VwZXI9bix0aGlzLl9zdXBlckFwcGx5PXUsdD1yLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9zdXBlcj1pLHRoaXMuX3N1cGVyQXBwbHk9Zix0fX0oKSx2b2lkIDApOihoW3RdPXIsdm9pZCAwKX0pLHUucHJvdG90eXBlPW4ud2lkZ2V0LmV4dGVuZChvLHt3aWRnZXRFdmVudFByZWZpeDpmP28ud2lkZ2V0RXZlbnRQcmVmaXh8fHQ6dH0saCx7Y29uc3RydWN0b3I6dSxuYW1lc3BhY2U6ZSx3aWRnZXROYW1lOnQsd2lkZ2V0RnVsbE5hbWU6c30pLGY/KG4uZWFjaChmLl9jaGlsZENvbnN0cnVjdG9ycyxmdW5jdGlvbih0LGkpe3ZhciByPWkucHJvdG90eXBlO24ud2lkZ2V0KHIubmFtZXNwYWNlKyIuIityLndpZGdldE5hbWUsdSxpLl9wcm90byl9KSxkZWxldGUgZi5fY2hpbGRDb25zdHJ1Y3RvcnMpOmkuX2NoaWxkQ29uc3RydWN0b3JzLnB1c2godSksbi53aWRnZXQuYnJpZGdlKHQsdSksdX07bi53aWRnZXQuZXh0ZW5kPWZ1bmN0aW9uKHQpe2Zvcih2YXIgaSxyLGY9by5jYWxsKGFyZ3VtZW50cywxKSx1PTAsZT1mLmxlbmd0aDtlPnU7dSsrKWZvcihpIGluIGZbdV0pcj1mW3VdW2ldLGZbdV0uaGFzT3duUHJvcGVydHkoaSkmJnZvaWQgMCE9PXImJih0W2ldPW4uaXNQbGFpbk9iamVjdChyKT9uLmlzUGxhaW5PYmplY3QodFtpXSk/bi53aWRnZXQuZXh0ZW5kKHt9LHRbaV0scik6bi53aWRnZXQuZXh0ZW5kKHt9LHIpOnIpO3JldHVybiB0fTtuLndpZGdldC5icmlkZ2U9ZnVuY3Rpb24odCxpKXt2YXIgcj1pLnByb3RvdHlwZS53aWRnZXRGdWxsTmFtZXx8dDtuLmZuW3RdPWZ1bmN0aW9uKHUpe3ZhciBzPSJzdHJpbmciPT10eXBlb2YgdSxlPW8uY2FsbChhcmd1bWVudHMsMSksZj10aGlzO3JldHVybiBzP3RoaXMubGVuZ3RofHwiaW5zdGFuY2UiIT09dT90aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgaSxvPW4uZGF0YSh0aGlzLHIpO3JldHVybiJpbnN0YW5jZSI9PT11PyhmPW8sITEpOm8/bi5pc0Z1bmN0aW9uKG9bdV0pJiYiXyIhPT11LmNoYXJBdCgwKT8oaT1vW3VdLmFwcGx5KG8sZSksaSE9PW8mJnZvaWQgMCE9PWk/KGY9aSYmaS5qcXVlcnk/Zi5wdXNoU3RhY2soaS5nZXQoKSk6aSwhMSk6dm9pZCAwKTpuLmVycm9yKCJubyBzdWNoIG1ldGhvZCAnIit1KyInIGZvciAiK3QrIiB3aWRnZXQgaW5zdGFuY2UiKTpuLmVycm9yKCJjYW5ub3QgY2FsbCBtZXRob2RzIG9uICIrdCsiIHByaW9yIHRvIGluaXRpYWxpemF0aW9uOyBhdHRlbXB0ZWQgdG8gY2FsbCBtZXRob2QgJyIrdSsiJyIpfSk6Zj12b2lkIDA6KGUubGVuZ3RoJiYodT1uLndpZGdldC5leHRlbmQuYXBwbHkobnVsbCxbdV0uY29uY2F0KGUpKSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bi5kYXRhKHRoaXMscik7dD8odC5vcHRpb24odXx8e30pLHQuX2luaXQmJnQuX2luaXQoKSk6bi5kYXRhKHRoaXMscixuZXcgaSh1LHRoaXMpKX0pKSxmfX07bi5XaWRnZXQ9ZnVuY3Rpb24oKXt9O24uV2lkZ2V0Ll9jaGlsZENvbnN0cnVjdG9ycz1bXTtuLldpZGdldC5wcm90b3R5cGU9e3dpZGdldE5hbWU6IndpZGdldCIsd2lkZ2V0RXZlbnRQcmVmaXg6IiIsZGVmYXVsdEVsZW1lbnQ6IjxkaXY+IixvcHRpb25zOntjbGFzc2VzOnt9LGRpc2FibGVkOiExLGNyZWF0ZTpudWxsfSxfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKHQsaSl7aT1uKGl8fHRoaXMuZGVmYXVsdEVsZW1lbnR8fHRoaXMpWzBdO3RoaXMuZWxlbWVudD1uKGkpO3RoaXMudXVpZD12Kys7dGhpcy5ldmVudE5hbWVzcGFjZT0iLiIrdGhpcy53aWRnZXROYW1lK3RoaXMudXVpZDt0aGlzLmJpbmRpbmdzPW4oKTt0aGlzLmhvdmVyYWJsZT1uKCk7dGhpcy5mb2N1c2FibGU9bigpO3RoaXMuY2xhc3Nlc0VsZW1lbnRMb29rdXA9e307aSE9PXRoaXMmJihuLmRhdGEoaSx0aGlzLndpZGdldEZ1bGxOYW1lLHRoaXMpLHRoaXMuX29uKCEwLHRoaXMuZWxlbWVudCx7cmVtb3ZlOmZ1bmN0aW9uKG4pe24udGFyZ2V0PT09aSYmdGhpcy5kZXN0cm95KCl9fSksdGhpcy5kb2N1bWVudD1uKGkuc3R5bGU/aS5vd25lckRvY3VtZW50OmkuZG9jdW1lbnR8fGkpLHRoaXMud2luZG93PW4odGhpcy5kb2N1bWVudFswXS5kZWZhdWx0Vmlld3x8dGhpcy5kb2N1bWVudFswXS5wYXJlbnRXaW5kb3cpKTt0aGlzLm9wdGlvbnM9bi53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyx0aGlzLl9nZXRDcmVhdGVPcHRpb25zKCksdCk7dGhpcy5fY3JlYXRlKCk7dGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLl9zZXRPcHRpb25EaXNhYmxlZCh0aGlzLm9wdGlvbnMuZGlzYWJsZWQpO3RoaXMuX3RyaWdnZXIoImNyZWF0ZSIsbnVsbCx0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEoKSk7dGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3JldHVybnt9fSxfZ2V0Q3JlYXRlRXZlbnREYXRhOm4ubm9vcCxfY3JlYXRlOm4ubm9vcCxfaW5pdDpuLm5vb3AsZGVzdHJveTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fZGVzdHJveSgpO24uZWFjaCh0aGlzLmNsYXNzZXNFbGVtZW50TG9va3VwLGZ1bmN0aW9uKG4saSl7dC5fcmVtb3ZlQ2xhc3MoaSxuKX0pO3RoaXMuZWxlbWVudC5vZmYodGhpcy5ldmVudE5hbWVzcGFjZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldEZ1bGxOYW1lKTt0aGlzLndpZGdldCgpLm9mZih0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIik7dGhpcy5iaW5kaW5ncy5vZmYodGhpcy5ldmVudE5hbWVzcGFjZSl9LF9kZXN0cm95Om4ubm9vcCx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSxvcHRpb246ZnVuY3Rpb24odCxpKXt2YXIgcix1LGYsZT10O2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBuLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zKTtpZigic3RyaW5nIj09dHlwZW9mIHQpaWYoZT17fSxyPXQuc3BsaXQoIi4iKSx0PXIuc2hpZnQoKSxyLmxlbmd0aCl7Zm9yKHU9ZVt0XT1uLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zW3RdKSxmPTA7ci5sZW5ndGgtMT5mO2YrKyl1W3JbZl1dPXVbcltmXV18fHt9LHU9dVtyW2ZdXTtpZih0PXIucG9wKCksMT09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHZvaWQgMD09PXVbdF0/bnVsbDp1W3RdO3VbdF09aX1lbHNle2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT10aGlzLm9wdGlvbnNbdF0/bnVsbDp0aGlzLm9wdGlvbnNbdF07ZVt0XT1pfXJldHVybiB0aGlzLl9zZXRPcHRpb25zKGUpLHRoaXN9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKG4pe2Zvcih2YXIgdCBpbiBuKXRoaXMuX3NldE9wdGlvbih0LG5bdF0pO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7cmV0dXJuImNsYXNzZXMiPT09biYmdGhpcy5fc2V0T3B0aW9uQ2xhc3Nlcyh0KSx0aGlzLm9wdGlvbnNbbl09dCwiZGlzYWJsZWQiPT09biYmdGhpcy5fc2V0T3B0aW9uRGlzYWJsZWQodCksdGhpc30sX3NldE9wdGlvbkNsYXNzZXM6ZnVuY3Rpb24odCl7dmFyIGksdSxyO2ZvcihpIGluIHQpcj10aGlzLmNsYXNzZXNFbGVtZW50TG9va3VwW2ldLHRbaV0hPT10aGlzLm9wdGlvbnMuY2xhc3Nlc1tpXSYmciYmci5sZW5ndGgmJih1PW4oci5nZXQoKSksdGhpcy5fcmVtb3ZlQ2xhc3MocixpKSx1LmFkZENsYXNzKHRoaXMuX2NsYXNzZXMoe2VsZW1lbnQ6dSxrZXlzOmksY2xhc3Nlczp0LGFkZDohMH0pKSl9LF9zZXRPcHRpb25EaXNhYmxlZDpmdW5jdGlvbihuKXt0aGlzLl90b2dnbGVDbGFzcyh0aGlzLndpZGdldCgpLHRoaXMud2lkZ2V0RnVsbE5hbWUrIi1kaXNhYmxlZCIsbnVsbCwhIW4pO24mJih0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmhvdmVyYWJsZSxudWxsLCJ1aS1zdGF0ZS1ob3ZlciIpLHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuZm9jdXNhYmxlLG51bGwsInVpLXN0YXRlLWZvY3VzIikpfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6ITF9KX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDohMH0pfSxfY2xhc3NlczpmdW5jdGlvbih0KXtmdW5jdGlvbiByKHIsZil7Zm9yKHZhciBvLGU9MDtyLmxlbmd0aD5lO2UrKylvPXUuY2xhc3Nlc0VsZW1lbnRMb29rdXBbcltlXV18fG4oKSxvPXQuYWRkP24obi51bmlxdWUoby5nZXQoKS5jb25jYXQodC5lbGVtZW50LmdldCgpKSkpOm4oby5ub3QodC5lbGVtZW50KS5nZXQoKSksdS5jbGFzc2VzRWxlbWVudExvb2t1cFtyW2VdXT1vLGkucHVzaChyW2VdKSxmJiZ0LmNsYXNzZXNbcltlXV0mJmkucHVzaCh0LmNsYXNzZXNbcltlXV0pfXZhciBpPVtdLHU9dGhpcztyZXR1cm4gdD1uLmV4dGVuZCh7ZWxlbWVudDp0aGlzLmVsZW1lbnQsY2xhc3Nlczp0aGlzLm9wdGlvbnMuY2xhc3Nlc3x8e319LHQpLHRoaXMuX29uKHQuZWxlbWVudCx7cmVtb3ZlOiJfdW50cmFja0NsYXNzZXNFbGVtZW50In0pLHQua2V5cyYmcih0LmtleXMubWF0Y2goL1xTKy9nKXx8W10sITApLHQuZXh0cmEmJnIodC5leHRyYS5tYXRjaCgvXFMrL2cpfHxbXSksaS5qb2luKCIgIil9LF91bnRyYWNrQ2xhc3Nlc0VsZW1lbnQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcztuLmVhY2goaS5jbGFzc2VzRWxlbWVudExvb2t1cCxmdW5jdGlvbihyLHUpey0xIT09bi5pbkFycmF5KHQudGFyZ2V0LHUpJiYoaS5jbGFzc2VzRWxlbWVudExvb2t1cFtyXT1uKHUubm90KHQudGFyZ2V0KS5nZXQoKSkpfSl9LF9yZW1vdmVDbGFzczpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIHRoaXMuX3RvZ2dsZUNsYXNzKG4sdCxpLCExKX0sX2FkZENsYXNzOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gdGhpcy5fdG9nZ2xlQ2xhc3Mobix0LGksITApfSxfdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24obix0LGkscil7cj0iYm9vbGVhbiI9PXR5cGVvZiByP3I6aTt2YXIgdT0ic3RyaW5nIj09dHlwZW9mIG58fG51bGw9PT1uLGY9e2V4dHJhOnU/dDppLGtleXM6dT9uOnQsZWxlbWVudDp1P3RoaXMuZWxlbWVudDpuLGFkZDpyfTtyZXR1cm4gZi5lbGVtZW50LnRvZ2dsZUNsYXNzKHRoaXMuX2NsYXNzZXMoZiksciksdGhpc30sX29uOmZ1bmN0aW9uKHQsaSxyKXt2YXIgZix1PXRoaXM7ImJvb2xlYW4iIT10eXBlb2YgdCYmKHI9aSxpPXQsdD0hMSk7cj8oaT1mPW4oaSksdGhpcy5iaW5kaW5ncz10aGlzLmJpbmRpbmdzLmFkZChpKSk6KHI9aSxpPXRoaXMuZWxlbWVudCxmPXRoaXMud2lkZ2V0KCkpO24uZWFjaChyLGZ1bmN0aW9uKHIsZSl7ZnVuY3Rpb24gbygpe2lmKHR8fHUub3B0aW9ucy5kaXNhYmxlZCE9PSEwJiYhbih0aGlzKS5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKSlyZXR1cm4oInN0cmluZyI9PXR5cGVvZiBlP3VbZV06ZSkuYXBwbHkodSxhcmd1bWVudHMpfSJzdHJpbmciIT10eXBlb2YgZSYmKG8uZ3VpZD1lLmd1aWQ9ZS5ndWlkfHxvLmd1aWR8fG4uZ3VpZCsrKTt2YXIgcz1yLm1hdGNoKC9eKFtcdzotXSopXHMqKC4qKSQvKSxoPXNbMV0rdS5ldmVudE5hbWVzcGFjZSxjPXNbMl07Yz9mLm9uKGgsYyxvKTppLm9uKGgsbyl9KX0sX29mZjpmdW5jdGlvbih0LGkpe2k9KGl8fCIiKS5zcGxpdCgiICIpLmpvaW4odGhpcy5ldmVudE5hbWVzcGFjZSsiICIpK3RoaXMuZXZlbnROYW1lc3BhY2U7dC5vZmYoaSkub2ZmKGkpO3RoaXMuYmluZGluZ3M9bih0aGlzLmJpbmRpbmdzLm5vdCh0KS5nZXQoKSk7dGhpcy5mb2N1c2FibGU9bih0aGlzLmZvY3VzYWJsZS5ub3QodCkuZ2V0KCkpO3RoaXMuaG92ZXJhYmxlPW4odGhpcy5ob3ZlcmFibGUubm90KHQpLmdldCgpKX0sX2RlbGF5OmZ1bmN0aW9uKG4sdCl7ZnVuY3Rpb24gcigpe3JldHVybigic3RyaW5nIj09dHlwZW9mIG4/aVtuXTpuKS5hcHBseShpLGFyZ3VtZW50cyl9dmFyIGk9dGhpcztyZXR1cm4gc2V0VGltZW91dChyLHR8fDApfSxfaG92ZXJhYmxlOmZ1bmN0aW9uKHQpe3RoaXMuaG92ZXJhYmxlPXRoaXMuaG92ZXJhYmxlLmFkZCh0KTt0aGlzLl9vbih0LHttb3VzZWVudGVyOmZ1bmN0aW9uKHQpe3RoaXMuX2FkZENsYXNzKG4odC5jdXJyZW50VGFyZ2V0KSxudWxsLCJ1aS1zdGF0ZS1ob3ZlciIpfSxtb3VzZWxlYXZlOmZ1bmN0aW9uKHQpe3RoaXMuX3JlbW92ZUNsYXNzKG4odC5jdXJyZW50VGFyZ2V0KSxudWxsLCJ1aS1zdGF0ZS1ob3ZlciIpfX0pfSxfZm9jdXNhYmxlOmZ1bmN0aW9uKHQpe3RoaXMuZm9jdXNhYmxlPXRoaXMuZm9jdXNhYmxlLmFkZCh0KTt0aGlzLl9vbih0LHtmb2N1c2luOmZ1bmN0aW9uKHQpe3RoaXMuX2FkZENsYXNzKG4odC5jdXJyZW50VGFyZ2V0KSxudWxsLCJ1aS1zdGF0ZS1mb2N1cyIpfSxmb2N1c291dDpmdW5jdGlvbih0KXt0aGlzLl9yZW1vdmVDbGFzcyhuKHQuY3VycmVudFRhcmdldCksbnVsbCwidWktc3RhdGUtZm9jdXMiKX19KX0sX3RyaWdnZXI6ZnVuY3Rpb24odCxpLHIpe3ZhciB1LGYsZT10aGlzLm9wdGlvbnNbdF07aWYocj1yfHx7fSxpPW4uRXZlbnQoaSksaS50eXBlPSh0PT09dGhpcy53aWRnZXRFdmVudFByZWZpeD90OnRoaXMud2lkZ2V0RXZlbnRQcmVmaXgrdCkudG9Mb3dlckNhc2UoKSxpLnRhcmdldD10aGlzLmVsZW1lbnRbMF0sZj1pLm9yaWdpbmFsRXZlbnQpZm9yKHUgaW4gZil1IGluIGl8fChpW3VdPWZbdV0pO3JldHVybiB0aGlzLmVsZW1lbnQudHJpZ2dlcihpLHIpLCEobi5pc0Z1bmN0aW9uKGUpJiZlLmFwcGx5KHRoaXMuZWxlbWVudFswXSxbaV0uY29uY2F0KHIpKT09PSExfHxpLmlzRGVmYXVsdFByZXZlbnRlZCgpKX19O24uZWFjaCh7c2hvdzoiZmFkZUluIixoaWRlOiJmYWRlT3V0In0sZnVuY3Rpb24odCxpKXtuLldpZGdldC5wcm90b3R5cGVbIl8iK3RdPWZ1bmN0aW9uKHIsdSxmKXsic3RyaW5nIj09dHlwZW9mIHUmJih1PXtlZmZlY3Q6dX0pO3ZhciBvLGU9dT91PT09ITB8fCJudW1iZXIiPT10eXBlb2YgdT9pOnUuZWZmZWN0fHxpOnQ7dT11fHx7fTsibnVtYmVyIj09dHlwZW9mIHUmJih1PXtkdXJhdGlvbjp1fSk7bz0hbi5pc0VtcHR5T2JqZWN0KHUpO3UuY29tcGxldGU9Zjt1LmRlbGF5JiZyLmRlbGF5KHUuZGVsYXkpO28mJm4uZWZmZWN0cyYmbi5lZmZlY3RzLmVmZmVjdFtlXT9yW3RdKHUpOmUhPT10JiZyW2VdP3JbZV0odS5kdXJhdGlvbix1LmVhc2luZyxmKTpyLnF1ZXVlKGZ1bmN0aW9uKGkpe24odGhpcylbdF0oKTtmJiZmLmNhbGwoclswXSk7aSgpfSl9fSk7bi53aWRnZXQsZnVuY3Rpb24oKXtmdW5jdGlvbiBmKG4sdCxpKXtyZXR1cm5bcGFyc2VGbG9hdChuWzBdKSooYy50ZXN0KG5bMF0pP3QvMTAwOjEpLHBhcnNlRmxvYXQoblsxXSkqKGMudGVzdChuWzFdKT9pLzEwMDoxKV19ZnVuY3Rpb24gaSh0LGkpe3JldHVybiBwYXJzZUludChuLmNzcyh0LGkpLDEwKXx8MH1mdW5jdGlvbiBsKHQpe3ZhciBpPXRbMF07cmV0dXJuIDk9PT1pLm5vZGVUeXBlP3t3aWR0aDp0LndpZHRoKCksaGVpZ2h0OnQuaGVpZ2h0KCksb2Zmc2V0Ont0b3A6MCxsZWZ0OjB9fTpuLmlzV2luZG93KGkpP3t3aWR0aDp0LndpZHRoKCksaGVpZ2h0OnQuaGVpZ2h0KCksb2Zmc2V0Ont0b3A6dC5zY3JvbGxUb3AoKSxsZWZ0OnQuc2Nyb2xsTGVmdCgpfX06aS5wcmV2ZW50RGVmYXVsdD97d2lkdGg6MCxoZWlnaHQ6MCxvZmZzZXQ6e3RvcDppLnBhZ2VZLGxlZnQ6aS5wYWdlWH19Ont3aWR0aDp0Lm91dGVyV2lkdGgoKSxoZWlnaHQ6dC5vdXRlckhlaWdodCgpLG9mZnNldDp0Lm9mZnNldCgpfX12YXIgdSxyPU1hdGgubWF4LHQ9TWF0aC5hYnMsZT0vbGVmdHxjZW50ZXJ8cmlnaHQvLG89L3RvcHxjZW50ZXJ8Ym90dG9tLyxzPS9bXCtcLV1cZCsoXC5bXGRdKyk/JT8vLGg9L15cdysvLGM9LyUkLyxhPW4uZm4ucG9zaXRpb247bi5wb3NpdGlvbj17c2Nyb2xsYmFyV2lkdGg6ZnVuY3Rpb24oKXtpZih2b2lkIDAhPT11KXJldHVybiB1O3ZhciByLGksdD1uKCI8ZGl2IHN0eWxlPSdkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjUwcHg7aGVpZ2h0OjUwcHg7b3ZlcmZsb3c6aGlkZGVuOyc+PGRpdiBzdHlsZT0naGVpZ2h0OjEwMHB4O3dpZHRoOmF1dG87Jz48XC9kaXY+PFwvZGl2PiIpLGY9dC5jaGlsZHJlbigpWzBdO3JldHVybiBuKCJib2R5IikuYXBwZW5kKHQpLHI9Zi5vZmZzZXRXaWR0aCx0LmNzcygib3ZlcmZsb3ciLCJzY3JvbGwiKSxpPWYub2Zmc2V0V2lkdGgscj09PWkmJihpPXRbMF0uY2xpZW50V2lkdGgpLHQucmVtb3ZlKCksdT1yLWl9LGdldFNjcm9sbEluZm86ZnVuY3Rpb24odCl7dmFyIGk9dC5pc1dpbmRvd3x8dC5pc0RvY3VtZW50PyIiOnQuZWxlbWVudC5jc3MoIm92ZXJmbG93LXgiKSxyPXQuaXNXaW5kb3d8fHQuaXNEb2N1bWVudD8iIjp0LmVsZW1lbnQuY3NzKCJvdmVyZmxvdy15IiksdT0ic2Nyb2xsIj09PWl8fCJhdXRvIj09PWkmJnQud2lkdGg8dC5lbGVtZW50WzBdLnNjcm9sbFdpZHRoLGY9InNjcm9sbCI9PT1yfHwiYXV0byI9PT1yJiZ0LmhlaWdodDx0LmVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0O3JldHVybnt3aWR0aDpmP24ucG9zaXRpb24uc2Nyb2xsYmFyV2lkdGgoKTowLGhlaWdodDp1P24ucG9zaXRpb24uc2Nyb2xsYmFyV2lkdGgoKTowfX0sZ2V0V2l0aGluSW5mbzpmdW5jdGlvbih0KXt2YXIgaT1uKHR8fHdpbmRvdykscj1uLmlzV2luZG93KGlbMF0pLHU9ISFpWzBdJiY5PT09aVswXS5ub2RlVHlwZSxmPSFyJiYhdTtyZXR1cm57ZWxlbWVudDppLGlzV2luZG93OnIsaXNEb2N1bWVudDp1LG9mZnNldDpmP24odCkub2Zmc2V0KCk6e2xlZnQ6MCx0b3A6MH0sc2Nyb2xsTGVmdDppLnNjcm9sbExlZnQoKSxzY3JvbGxUb3A6aS5zY3JvbGxUb3AoKSx3aWR0aDppLm91dGVyV2lkdGgoKSxoZWlnaHQ6aS5vdXRlckhlaWdodCgpfX19O24uZm4ucG9zaXRpb249ZnVuY3Rpb24odSl7aWYoIXV8fCF1Lm9mKXJldHVybiBhLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt1PW4uZXh0ZW5kKHt9LHUpO3ZhciB3LGMsdixwLHksayxkPW4odS5vZiksbnQ9bi5wb3NpdGlvbi5nZXRXaXRoaW5JbmZvKHUud2l0aGluKSx0dD1uLnBvc2l0aW9uLmdldFNjcm9sbEluZm8obnQpLGI9KHUuY29sbGlzaW9ufHwiZmxpcCIpLnNwbGl0KCIgIiksZz17fTtyZXR1cm4gaz1sKGQpLGRbMF0ucHJldmVudERlZmF1bHQmJih1LmF0PSJsZWZ0IHRvcCIpLGM9ay53aWR0aCx2PWsuaGVpZ2h0LHA9ay5vZmZzZXQseT1uLmV4dGVuZCh7fSxwKSxuLmVhY2goWyJteSIsImF0Il0sZnVuY3Rpb24oKXt2YXIgdCxpLG49KHVbdGhpc118fCIiKS5zcGxpdCgiICIpOzE9PT1uLmxlbmd0aCYmKG49ZS50ZXN0KG5bMF0pP24uY29uY2F0KFsiY2VudGVyIl0pOm8udGVzdChuWzBdKT9bImNlbnRlciJdLmNvbmNhdChuKTpbImNlbnRlciIsImNlbnRlciJdKTtuWzBdPWUudGVzdChuWzBdKT9uWzBdOiJjZW50ZXIiO25bMV09by50ZXN0KG5bMV0pP25bMV06ImNlbnRlciI7dD1zLmV4ZWMoblswXSk7aT1zLmV4ZWMoblsxXSk7Z1t0aGlzXT1bdD90WzBdOjAsaT9pWzBdOjBdO3VbdGhpc109W2guZXhlYyhuWzBdKVswXSxoLmV4ZWMoblsxXSlbMF1dfSksMT09PWIubGVuZ3RoJiYoYlsxXT1iWzBdKSwicmlnaHQiPT09dS5hdFswXT95LmxlZnQrPWM6ImNlbnRlciI9PT11LmF0WzBdJiYoeS5sZWZ0Kz1jLzIpLCJib3R0b20iPT09dS5hdFsxXT95LnRvcCs9djoiY2VudGVyIj09PXUuYXRbMV0mJih5LnRvcCs9di8yKSx3PWYoZy5hdCxjLHYpLHkubGVmdCs9d1swXSx5LnRvcCs9d1sxXSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYSxrLG89bih0aGlzKSxzPW8ub3V0ZXJXaWR0aCgpLGg9by5vdXRlckhlaWdodCgpLGl0PWkodGhpcywibWFyZ2luTGVmdCIpLHJ0PWkodGhpcywibWFyZ2luVG9wIiksdXQ9cytpdCtpKHRoaXMsIm1hcmdpblJpZ2h0IikrdHQud2lkdGgsZnQ9aCtydCtpKHRoaXMsIm1hcmdpbkJvdHRvbSIpK3R0LmhlaWdodCxlPW4uZXh0ZW5kKHt9LHkpLGw9ZihnLm15LG8ub3V0ZXJXaWR0aCgpLG8ub3V0ZXJIZWlnaHQoKSk7InJpZ2h0Ij09PXUubXlbMF0/ZS5sZWZ0LT1zOiJjZW50ZXIiPT09dS5teVswXSYmKGUubGVmdC09cy8yKTsiYm90dG9tIj09PXUubXlbMV0/ZS50b3AtPWg6ImNlbnRlciI9PT11Lm15WzFdJiYoZS50b3AtPWgvMik7ZS5sZWZ0Kz1sWzBdO2UudG9wKz1sWzFdO2E9e21hcmdpbkxlZnQ6aXQsbWFyZ2luVG9wOnJ0fTtuLmVhY2goWyJsZWZ0IiwidG9wIl0sZnVuY3Rpb24odCxpKXtuLnVpLnBvc2l0aW9uW2JbdF1dJiZuLnVpLnBvc2l0aW9uW2JbdF1dW2ldKGUse3RhcmdldFdpZHRoOmMsdGFyZ2V0SGVpZ2h0OnYsZWxlbVdpZHRoOnMsZWxlbUhlaWdodDpoLGNvbGxpc2lvblBvc2l0aW9uOmEsY29sbGlzaW9uV2lkdGg6dXQsY29sbGlzaW9uSGVpZ2h0OmZ0LG9mZnNldDpbd1swXStsWzBdLHdbMV0rbFsxXV0sbXk6dS5teSxhdDp1LmF0LHdpdGhpbjpudCxlbGVtOm99KX0pO3UudXNpbmcmJihrPWZ1bmN0aW9uKG4pe3ZhciBpPXAubGVmdC1lLmxlZnQsYT1pK2MtcyxmPXAudG9wLWUudG9wLHk9Zit2LWgsbD17dGFyZ2V0OntlbGVtZW50OmQsbGVmdDpwLmxlZnQsdG9wOnAudG9wLHdpZHRoOmMsaGVpZ2h0OnZ9LGVsZW1lbnQ6e2VsZW1lbnQ6byxsZWZ0OmUubGVmdCx0b3A6ZS50b3Asd2lkdGg6cyxoZWlnaHQ6aH0saG9yaXpvbnRhbDowPmE/ImxlZnQiOmk+MD8icmlnaHQiOiJjZW50ZXIiLHZlcnRpY2FsOjA+eT8idG9wIjpmPjA/ImJvdHRvbSI6Im1pZGRsZSJ9O3M+YyYmYz50KGkrYSkmJihsLmhvcml6b250YWw9ImNlbnRlciIpO2g+diYmdj50KGYreSkmJihsLnZlcnRpY2FsPSJtaWRkbGUiKTtsLmltcG9ydGFudD1yKHQoaSksdChhKSk+cih0KGYpLHQoeSkpPyJob3Jpem9udGFsIjoidmVydGljYWwiO3UudXNpbmcuY2FsbCh0aGlzLG4sbCl9KTtvLm9mZnNldChuLmV4dGVuZChlLHt1c2luZzprfSkpfSl9O24udWkucG9zaXRpb249e2ZpdDp7bGVmdDpmdW5jdGlvbihuLHQpe3ZhciBoLGU9dC53aXRoaW4sdT1lLmlzV2luZG93P2Uuc2Nyb2xsTGVmdDplLm9mZnNldC5sZWZ0LG89ZS53aWR0aCxzPW4ubGVmdC10LmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpbkxlZnQsaT11LXMsZj1zK3QuY29sbGlzaW9uV2lkdGgtby11O3QuY29sbGlzaW9uV2lkdGg+bz9pPjAmJjA+PWY/KGg9bi5sZWZ0K2krdC5jb2xsaXNpb25XaWR0aC1vLXUsbi5sZWZ0Kz1pLWgpOm4ubGVmdD1mPjAmJjA+PWk/dTppPmY/dStvLXQuY29sbGlzaW9uV2lkdGg6dTppPjA/bi5sZWZ0Kz1pOmY+MD9uLmxlZnQtPWY6bi5sZWZ0PXIobi5sZWZ0LXMsbi5sZWZ0KX0sdG9wOmZ1bmN0aW9uKG4sdCl7dmFyIGgsbz10LndpdGhpbix1PW8uaXNXaW5kb3c/by5zY3JvbGxUb3A6by5vZmZzZXQudG9wLGU9dC53aXRoaW4uaGVpZ2h0LHM9bi50b3AtdC5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5Ub3AsaT11LXMsZj1zK3QuY29sbGlzaW9uSGVpZ2h0LWUtdTt0LmNvbGxpc2lvbkhlaWdodD5lP2k+MCYmMD49Zj8oaD1uLnRvcCtpK3QuY29sbGlzaW9uSGVpZ2h0LWUtdSxuLnRvcCs9aS1oKTpuLnRvcD1mPjAmJjA+PWk/dTppPmY/dStlLXQuY29sbGlzaW9uSGVpZ2h0OnU6aT4wP24udG9wKz1pOmY+MD9uLnRvcC09ZjpuLnRvcD1yKG4udG9wLXMsbi50b3ApfX0sZmxpcDp7bGVmdDpmdW5jdGlvbihuLGkpe3ZhciBvLHMscj1pLndpdGhpbix5PXIub2Zmc2V0LmxlZnQrci5zY3JvbGxMZWZ0LGM9ci53aWR0aCxoPXIuaXNXaW5kb3c/ci5zY3JvbGxMZWZ0OnIub2Zmc2V0LmxlZnQsbD1uLmxlZnQtaS5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5MZWZ0LGE9bC1oLHY9bCtpLmNvbGxpc2lvbldpZHRoLWMtaCx1PSJsZWZ0Ij09PWkubXlbMF0/LWkuZWxlbVdpZHRoOiJyaWdodCI9PT1pLm15WzBdP2kuZWxlbVdpZHRoOjAsZj0ibGVmdCI9PT1pLmF0WzBdP2kudGFyZ2V0V2lkdGg6InJpZ2h0Ij09PWkuYXRbMF0/LWkudGFyZ2V0V2lkdGg6MCxlPS0yKmkub2Zmc2V0WzBdOzA+YT8obz1uLmxlZnQrdStmK2UraS5jb2xsaXNpb25XaWR0aC1jLXksKDA+b3x8dChhKT5vKSYmKG4ubGVmdCs9dStmK2UpKTp2PjAmJihzPW4ubGVmdC1pLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpbkxlZnQrdStmK2UtaCwocz4wfHx2PnQocykpJiYobi5sZWZ0Kz11K2YrZSkpfSx0b3A6ZnVuY3Rpb24obixpKXt2YXIgbyxzLHI9aS53aXRoaW4seT1yLm9mZnNldC50b3Arci5zY3JvbGxUb3AsYz1yLmhlaWdodCxoPXIuaXNXaW5kb3c/ci5zY3JvbGxUb3A6ci5vZmZzZXQudG9wLGw9bi50b3AtaS5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5Ub3AsYT1sLWgsdj1sK2kuY29sbGlzaW9uSGVpZ2h0LWMtaCxwPSJ0b3AiPT09aS5teVsxXSx1PXA/LWkuZWxlbUhlaWdodDoiYm90dG9tIj09PWkubXlbMV0/aS5lbGVtSGVpZ2h0OjAsZj0idG9wIj09PWkuYXRbMV0/aS50YXJnZXRIZWlnaHQ6ImJvdHRvbSI9PT1pLmF0WzFdPy1pLnRhcmdldEhlaWdodDowLGU9LTIqaS5vZmZzZXRbMV07MD5hPyhzPW4udG9wK3UrZitlK2kuY29sbGlzaW9uSGVpZ2h0LWMteSwoMD5zfHx0KGEpPnMpJiYobi50b3ArPXUrZitlKSk6dj4wJiYobz1uLnRvcC1pLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpblRvcCt1K2YrZS1oLChvPjB8fHY+dChvKSkmJihuLnRvcCs9dStmK2UpKX19LGZsaXBmaXQ6e2xlZnQ6ZnVuY3Rpb24oKXtuLnVpLnBvc2l0aW9uLmZsaXAubGVmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bi51aS5wb3NpdGlvbi5maXQubGVmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHRvcDpmdW5jdGlvbigpe24udWkucG9zaXRpb24uZmxpcC50b3AuYXBwbHkodGhpcyxhcmd1bWVudHMpO24udWkucG9zaXRpb24uZml0LnRvcC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX19KCk7bi51aS5wb3NpdGlvbjtuLmV4dGVuZChuLmV4cHJbIjoiXSx7ZGF0YTpuLmV4cHIuY3JlYXRlUHNldWRvP24uZXhwci5jcmVhdGVQc2V1ZG8oZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiEhbi5kYXRhKGksdCl9fSk6ZnVuY3Rpb24odCxpLHIpe3JldHVybiEhbi5kYXRhKHQsclszXSl9fSk7bi5mbi5leHRlbmQoe2Rpc2FibGVTZWxlY3Rpb246ZnVuY3Rpb24oKXt2YXIgbj0ib25zZWxlY3RzdGFydCJpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKT8ic2VsZWN0c3RhcnQiOiJtb3VzZWRvd24iO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzLm9uKG4rIi51aS1kaXNhYmxlU2VsZWN0aW9uIixmdW5jdGlvbihuKXtuLnByZXZlbnREZWZhdWx0KCl9KX19KCksZW5hYmxlU2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2ZmKCIudWktZGlzYWJsZVNlbGVjdGlvbiIpfX0pO3ZhciBmPSJ1aS1lZmZlY3RzLSIscz0idWktZWZmZWN0cy1zdHlsZSIsaD0idWktZWZmZWN0cy1hbmltYXRlZCIseT1uO24uZWZmZWN0cz17ZWZmZWN0Ont9fSxmdW5jdGlvbihuLHQpe2Z1bmN0aW9uIGYobix0LGkpe3ZhciByPWhbdC50eXBlXXx8e307cmV0dXJuIG51bGw9PW4/aXx8IXQuZGVmP251bGw6dC5kZWY6KG49ci5mbG9vcj9+fm46cGFyc2VGbG9hdChuKSxpc05hTihuKT90LmRlZjpyLm1vZD8obityLm1vZCklci5tb2Q6MD5uPzA6bj5yLm1heD9yLm1heDpuKX1mdW5jdGlvbiBzKGYpe3ZhciBvPWkoKSxzPW8uX3JnYmE9W107cmV0dXJuIGY9Zi50b0xvd2VyQ2FzZSgpLHIodixmdW5jdGlvbihuLGkpe3ZhciByLGg9aS5yZS5leGVjKGYpLGM9aCYmaS5wYXJzZShoKSxlPWkuc3BhY2V8fCJyZ2JhIjtyZXR1cm4gYz8ocj1vW2VdKGMpLG9bdVtlXS5jYWNoZV09clt1W2VdLmNhY2hlXSxzPW8uX3JnYmE9ci5fcmdiYSwhMSk6dH0pLHMubGVuZ3RoPygiMCwwLDAsMCI9PT1zLmpvaW4oKSYmbi5leHRlbmQocyxlLnRyYW5zcGFyZW50KSxvKTplW2ZdfWZ1bmN0aW9uIG8obix0LGkpe3JldHVybiBpPShpKzEpJTEsMT42Kmk/bis2Kih0LW4pKmk6MT4yKmk/dDoyPjMqaT9uKzYqKHQtbikqKDIvMy1pKTpufXZhciBlLGE9L14oW1wtK10pPVxzKihcZCtcLj9cZCopLyx2PVt7cmU6L3JnYmE/XChccyooXGR7MSwzfSlccyosXHMqKFxkezEsM30pXHMqLFxzKihcZHsxLDN9KVxzKig/OixccyooXGQ/KD86XC5cZCspPylccyopP1wpLyxwYXJzZTpmdW5jdGlvbihuKXtyZXR1cm5bblsxXSxuWzJdLG5bM10sbls0XV19fSx7cmU6L3JnYmE/XChccyooXGQrKD86XC5cZCspPylcJVxzKixccyooXGQrKD86XC5cZCspPylcJVxzKixccyooXGQrKD86XC5cZCspPylcJVxzKig/OixccyooXGQ/KD86XC5cZCspPylccyopP1wpLyxwYXJzZTpmdW5jdGlvbihuKXtyZXR1cm5bMi41NSpuWzFdLDIuNTUqblsyXSwyLjU1Km5bM10sbls0XV19fSx7cmU6LyMoW2EtZjAtOV17Mn0pKFthLWYwLTldezJ9KShbYS1mMC05XXsyfSkvLHBhcnNlOmZ1bmN0aW9uKG4pe3JldHVybltwYXJzZUludChuWzFdLDE2KSxwYXJzZUludChuWzJdLDE2KSxwYXJzZUludChuWzNdLDE2KV19fSx7cmU6LyMoW2EtZjAtOV0pKFthLWYwLTldKShbYS1mMC05XSkvLHBhcnNlOmZ1bmN0aW9uKG4pe3JldHVybltwYXJzZUludChuWzFdK25bMV0sMTYpLHBhcnNlSW50KG5bMl0rblsyXSwxNikscGFyc2VJbnQoblszXStuWzNdLDE2KV19fSx7cmU6L2hzbGE/XChccyooXGQrKD86XC5cZCspPylccyosXHMqKFxkKyg/OlwuXGQrKT8pXCVccyosXHMqKFxkKyg/OlwuXGQrKT8pXCVccyooPzosXHMqKFxkPyg/OlwuXGQrKT8pXHMqKT9cKS8sc3BhY2U6ImhzbGEiLHBhcnNlOmZ1bmN0aW9uKG4pe3JldHVybltuWzFdLG5bMl0vMTAwLG5bM10vMTAwLG5bNF1dfX1dLGk9bi5Db2xvcj1mdW5jdGlvbih0LGkscix1KXtyZXR1cm4gbmV3IG4uQ29sb3IuZm4ucGFyc2UodCxpLHIsdSl9LHU9e3JnYmE6e3Byb3BzOntyZWQ6e2lkeDowLHR5cGU6ImJ5dGUifSxncmVlbjp7aWR4OjEsdHlwZToiYnl0ZSJ9LGJsdWU6e2lkeDoyLHR5cGU6ImJ5dGUifX19LGhzbGE6e3Byb3BzOntodWU6e2lkeDowLHR5cGU6ImRlZ3JlZXMifSxzYXR1cmF0aW9uOntpZHg6MSx0eXBlOiJwZXJjZW50In0sbGlnaHRuZXNzOntpZHg6Mix0eXBlOiJwZXJjZW50In19fX0saD17Ynl0ZTp7Zmxvb3I6ITAsbWF4OjI1NX0scGVyY2VudDp7bWF4OjF9LGRlZ3JlZXM6e21vZDozNjAsZmxvb3I6ITB9fSxjPWkuc3VwcG9ydD17fSxsPW4oIjxwPiIpWzBdLHI9bi5lYWNoO2wuc3R5bGUuY3NzVGV4dD0iYmFja2dyb3VuZC1jb2xvcjpyZ2JhKDEsMSwxLC41KSI7Yy5yZ2JhPWwuc3R5bGUuYmFja2dyb3VuZENvbG9yLmluZGV4T2YoInJnYmEiKT4tMTtyKHUsZnVuY3Rpb24obix0KXt0LmNhY2hlPSJfIituO3QucHJvcHMuYWxwaGE9e2lkeDozLHR5cGU6InBlcmNlbnQiLGRlZjoxfX0pO2kuZm49bi5leHRlbmQoaS5wcm90b3R5cGUse3BhcnNlOmZ1bmN0aW9uKG8saCxjLGwpe2lmKG89PT10KXJldHVybiB0aGlzLl9yZ2JhPVtudWxsLG51bGwsbnVsbCxudWxsXSx0aGlzOyhvLmpxdWVyeXx8by5ub2RlVHlwZSkmJihvPW4obykuY3NzKGgpLGg9dCk7dmFyIGE9dGhpcyx2PW4udHlwZShvKSx5PXRoaXMuX3JnYmE9W107cmV0dXJuIGghPT10JiYobz1bbyxoLGMsbF0sdj0iYXJyYXkiKSwic3RyaW5nIj09PXY/dGhpcy5wYXJzZShzKG8pfHxlLl9kZWZhdWx0KToiYXJyYXkiPT09dj8ocih1LnJnYmEucHJvcHMsZnVuY3Rpb24obix0KXt5W3QuaWR4XT1mKG9bdC5pZHhdLHQpfSksdGhpcyk6Im9iamVjdCI9PT12PyhvIGluc3RhbmNlb2YgaT9yKHUsZnVuY3Rpb24obix0KXtvW3QuY2FjaGVdJiYoYVt0LmNhY2hlXT1vW3QuY2FjaGVdLnNsaWNlKCkpfSk6cih1LGZ1bmN0aW9uKHQsaSl7dmFyIHU9aS5jYWNoZTtyKGkucHJvcHMsZnVuY3Rpb24obix0KXtpZighYVt1XSYmaS50byl7aWYoImFscGhhIj09PW58fG51bGw9PW9bbl0pcmV0dXJuO2FbdV09aS50byhhLl9yZ2JhKX1hW3VdW3QuaWR4XT1mKG9bbl0sdCwhMCl9KTthW3VdJiYwPm4uaW5BcnJheShudWxsLGFbdV0uc2xpY2UoMCwzKSkmJihhW3VdWzNdPTEsaS5mcm9tJiYoYS5fcmdiYT1pLmZyb20oYVt1XSkpKX0pLHRoaXMpOnR9LGlzOmZ1bmN0aW9uKG4pe3ZhciBvPWkobiksZj0hMCxlPXRoaXM7cmV0dXJuIHIodSxmdW5jdGlvbihuLGkpe3ZhciBzLHU9b1tpLmNhY2hlXTtyZXR1cm4gdSYmKHM9ZVtpLmNhY2hlXXx8aS50byYmaS50byhlLl9yZ2JhKXx8W10scihpLnByb3BzLGZ1bmN0aW9uKG4saSl7cmV0dXJuIG51bGwhPXVbaS5pZHhdP2Y9dVtpLmlkeF09PT1zW2kuaWR4XTp0fSkpLGZ9KSxmfSxfc3BhY2U6ZnVuY3Rpb24oKXt2YXIgbj1bXSx0PXRoaXM7cmV0dXJuIHIodSxmdW5jdGlvbihpLHIpe3Rbci5jYWNoZV0mJm4ucHVzaChpKX0pLG4ucG9wKCl9LHRyYW5zaXRpb246ZnVuY3Rpb24obix0KXt2YXIgZT1pKG4pLGM9ZS5fc3BhY2UoKSxvPXVbY10sbD0wPT09dGhpcy5hbHBoYSgpP2koInRyYW5zcGFyZW50Iik6dGhpcyxhPWxbby5jYWNoZV18fG8udG8obC5fcmdiYSkscz1hLnNsaWNlKCk7cmV0dXJuIGU9ZVtvLmNhY2hlXSxyKG8ucHJvcHMsZnVuY3Rpb24obixpKXt2YXIgYz1pLmlkeCxyPWFbY10sdT1lW2NdLG89aFtpLnR5cGVdfHx7fTtudWxsIT09dSYmKG51bGw9PT1yP3NbY109dTooby5tb2QmJih1LXI+by5tb2QvMj9yKz1vLm1vZDpyLXU+by5tb2QvMiYmKHItPW8ubW9kKSksc1tjXT1mKCh1LXIpKnQrcixpKSkpfSksdGhpc1tjXShzKX0sYmxlbmQ6ZnVuY3Rpb24odCl7aWYoMT09PXRoaXMuX3JnYmFbM10pcmV0dXJuIHRoaXM7dmFyIHI9dGhpcy5fcmdiYS5zbGljZSgpLHU9ci5wb3AoKSxmPWkodCkuX3JnYmE7cmV0dXJuIGkobi5tYXAocixmdW5jdGlvbihuLHQpe3JldHVybigxLXUpKmZbdF0rdSpufSkpfSx0b1JnYmFTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgaT0icmdiYSgiLHQ9bi5tYXAodGhpcy5fcmdiYSxmdW5jdGlvbihuLHQpe3JldHVybiBudWxsPT1uP3Q+Mj8xOjA6bn0pO3JldHVybiAxPT09dFszXSYmKHQucG9wKCksaT0icmdiKCIpLGkrdC5qb2luKCkrIikifSx0b0hzbGFTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgaT0iaHNsYSgiLHQ9bi5tYXAodGhpcy5oc2xhKCksZnVuY3Rpb24obix0KXtyZXR1cm4gbnVsbD09biYmKG49dD4yPzE6MCksdCYmMz50JiYobj1NYXRoLnJvdW5kKDEwMCpuKSsiJSIpLG59KTtyZXR1cm4gMT09PXRbM10mJih0LnBvcCgpLGk9ImhzbCgiKSxpK3Quam9pbigpKyIpIn0sdG9IZXhTdHJpbmc6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5fcmdiYS5zbGljZSgpLHI9aS5wb3AoKTtyZXR1cm4gdCYmaS5wdXNoKH5+KDI1NSpyKSksIiMiK24ubWFwKGksZnVuY3Rpb24obil7cmV0dXJuIG49KG58fDApLnRvU3RyaW5nKDE2KSwxPT09bi5sZW5ndGg/IjAiK246bn0pLmpvaW4oIiIpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5fcmdiYVszXT8idHJhbnNwYXJlbnQiOnRoaXMudG9SZ2JhU3RyaW5nKCl9fSk7aS5mbi5wYXJzZS5wcm90b3R5cGU9aS5mbjt1LmhzbGEudG89ZnVuY3Rpb24obil7aWYobnVsbD09blswXXx8bnVsbD09blsxXXx8bnVsbD09blsyXSlyZXR1cm5bbnVsbCxudWxsLG51bGwsblszXV07dmFyIHMsaCxpPW5bMF0vMjU1LHI9blsxXS8yNTUsZj1uWzJdLzI1NSxjPW5bM10sdT1NYXRoLm1heChpLHIsZiksZT1NYXRoLm1pbihpLHIsZiksdD11LWUsbz11K2UsbD0uNSpvO3JldHVybiBzPWU9PT11PzA6aT09PXU/NjAqKHItZikvdCszNjA6cj09PXU/NjAqKGYtaSkvdCsxMjA6NjAqKGktcikvdCsyNDAsaD0wPT09dD8wOi41Pj1sP3Qvbzp0LygyLW8pLFtNYXRoLnJvdW5kKHMpJTM2MCxoLGwsbnVsbD09Yz8xOmNdfTt1LmhzbGEuZnJvbT1mdW5jdGlvbihuKXtpZihudWxsPT1uWzBdfHxudWxsPT1uWzFdfHxudWxsPT1uWzJdKXJldHVybltudWxsLG51bGwsbnVsbCxuWzNdXTt2YXIgcj1uWzBdLzM2MCx1PW5bMV0sdD1uWzJdLGU9blszXSxpPS41Pj10P3QqKDErdSk6dCt1LXQqdSxmPTIqdC1pO3JldHVybltNYXRoLnJvdW5kKDI1NSpvKGYsaSxyKzEvMykpLE1hdGgucm91bmQoMjU1Km8oZixpLHIpKSxNYXRoLnJvdW5kKDI1NSpvKGYsaSxyLTEvMykpLGVdfTtyKHUsZnVuY3Rpb24odSxlKXt2YXIgcz1lLnByb3BzLG89ZS5jYWNoZSxoPWUudG8sYz1lLmZyb207aS5mblt1XT1mdW5jdGlvbih1KXtpZihoJiYhdGhpc1tvXSYmKHRoaXNbb109aCh0aGlzLl9yZ2JhKSksdT09PXQpcmV0dXJuIHRoaXNbb10uc2xpY2UoKTt2YXIgbCxhPW4udHlwZSh1KSx2PSJhcnJheSI9PT1hfHwib2JqZWN0Ij09PWE/dTphcmd1bWVudHMsZT10aGlzW29dLnNsaWNlKCk7cmV0dXJuIHIocyxmdW5jdGlvbihuLHQpe3ZhciBpPXZbIm9iamVjdCI9PT1hP246dC5pZHhdO251bGw9PWkmJihpPWVbdC5pZHhdKTtlW3QuaWR4XT1mKGksdCl9KSxjPyhsPWkoYyhlKSksbFtvXT1lLGwpOmkoZSl9O3IocyxmdW5jdGlvbih0LHIpe2kuZm5bdF18fChpLmZuW3RdPWZ1bmN0aW9uKGkpe3ZhciBmLGU9bi50eXBlKGkpLGg9ImFscGhhIj09PXQ/dGhpcy5faHNsYT8iaHNsYSI6InJnYmEiOnUsbz10aGlzW2hdKCkscz1vW3IuaWR4XTtyZXR1cm4idW5kZWZpbmVkIj09PWU/czooImZ1bmN0aW9uIj09PWUmJihpPWkuY2FsbCh0aGlzLHMpLGU9bi50eXBlKGkpKSxudWxsPT1pJiZyLmVtcHR5P3RoaXM6KCJzdHJpbmciPT09ZSYmKGY9YS5leGVjKGkpLGYmJihpPXMrcGFyc2VGbG9hdChmWzJdKSooIisiPT09ZlsxXT8xOi0xKSkpLG9bci5pZHhdPWksdGhpc1toXShvKSkpfSl9KX0pO2kuaG9vaz1mdW5jdGlvbih0KXt2YXIgdT10LnNwbGl0KCIgIik7cih1LGZ1bmN0aW9uKHQscil7bi5jc3NIb29rc1tyXT17c2V0OmZ1bmN0aW9uKHQsdSl7dmFyIG8sZixlPSIiO2lmKCJ0cmFuc3BhcmVudCIhPT11JiYoInN0cmluZyIhPT1uLnR5cGUodSl8fChvPXModSkpKSl7aWYodT1pKG98fHUpLCFjLnJnYmEmJjEhPT11Ll9yZ2JhWzNdKXtmb3IoZj0iYmFja2dyb3VuZENvbG9yIj09PXI/dC5wYXJlbnROb2RlOnQ7KCIiPT09ZXx8InRyYW5zcGFyZW50Ij09PWUpJiZmJiZmLnN0eWxlOyl0cnl7ZT1uLmNzcyhmLCJiYWNrZ3JvdW5kQ29sb3IiKTtmPWYucGFyZW50Tm9kZX1jYXRjaChoKXt9dT11LmJsZW5kKGUmJiJ0cmFuc3BhcmVudCIhPT1lP2U6Il9kZWZhdWx0Iil9dT11LnRvUmdiYVN0cmluZygpfXRyeXt0LnN0eWxlW3JdPXV9Y2F0Y2goaCl7fX19O24uZnguc3RlcFtyXT1mdW5jdGlvbih0KXt0LmNvbG9ySW5pdHx8KHQuc3RhcnQ9aSh0LmVsZW0sciksdC5lbmQ9aSh0LmVuZCksdC5jb2xvckluaXQ9ITApO24uY3NzSG9va3Nbcl0uc2V0KHQuZWxlbSx0LnN0YXJ0LnRyYW5zaXRpb24odC5lbmQsdC5wb3MpKX19KX07aS5ob29rKCJiYWNrZ3JvdW5kQ29sb3IgYm9yZGVyQm90dG9tQ29sb3IgYm9yZGVyTGVmdENvbG9yIGJvcmRlclJpZ2h0Q29sb3IgYm9yZGVyVG9wQ29sb3IgY29sb3IgY29sdW1uUnVsZUNvbG9yIG91dGxpbmVDb2xvciB0ZXh0RGVjb3JhdGlvbkNvbG9yIHRleHRFbXBoYXNpc0NvbG9yIik7bi5jc3NIb29rcy5ib3JkZXJDb2xvcj17ZXhwYW5kOmZ1bmN0aW9uKG4pe3ZhciB0PXt9O3JldHVybiByKFsiVG9wIiwiUmlnaHQiLCJCb3R0b20iLCJMZWZ0Il0sZnVuY3Rpb24oaSxyKXt0WyJib3JkZXIiK3IrIkNvbG9yIl09bn0pLHR9fTtlPW4uQ29sb3IubmFtZXM9e2FxdWE6IiMwMGZmZmYiLGJsYWNrOiIjMDAwMDAwIixibHVlOiIjMDAwMGZmIixmdWNoc2lhOiIjZmYwMGZmIixncmF5OiIjODA4MDgwIixncmVlbjoiIzAwODAwMCIsbGltZToiIzAwZmYwMCIsbWFyb29uOiIjODAwMDAwIixuYXZ5OiIjMDAwMDgwIixvbGl2ZToiIzgwODAwMCIscHVycGxlOiIjODAwMDgwIixyZWQ6IiNmZjAwMDAiLHNpbHZlcjoiI2MwYzBjMCIsdGVhbDoiIzAwODA4MCIsd2hpdGU6IiNmZmZmZmYiLHllbGxvdzoiI2ZmZmYwMCIsdHJhbnNwYXJlbnQ6W251bGwsbnVsbCxudWxsLDBdLF9kZWZhdWx0OiIjZmZmZmZmIn19KHkpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgcix1LGk9dC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3P3Qub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKHQsbnVsbCk6dC5jdXJyZW50U3R5bGUsZj17fTtpZihpJiZpLmxlbmd0aCYmaVswXSYmaVtpWzBdXSlmb3IodT1pLmxlbmd0aDt1LS07KXI9aVt1XSwic3RyaW5nIj09dHlwZW9mIGlbcl0mJihmW24uY2FtZWxDYXNlKHIpXT1pW3JdKTtlbHNlIGZvcihyIGluIGkpInN0cmluZyI9PXR5cGVvZiBpW3JdJiYoZltyXT1pW3JdKTtyZXR1cm4gZn1mdW5jdGlvbiBpKHQsaSl7dmFyIHIsZixlPXt9O2ZvcihyIGluIGkpZj1pW3JdLHRbcl0hPT1mJiYodVtyXXx8KG4uZnguc3RlcFtyXXx8IWlzTmFOKHBhcnNlRmxvYXQoZikpKSYmKGVbcl09ZikpO3JldHVybiBlfXZhciByPVsiYWRkIiwicmVtb3ZlIiwidG9nZ2xlIl0sdT17Ym9yZGVyOjEsYm9yZGVyQm90dG9tOjEsYm9yZGVyQ29sb3I6MSxib3JkZXJMZWZ0OjEsYm9yZGVyUmlnaHQ6MSxib3JkZXJUb3A6MSxib3JkZXJXaWR0aDoxLG1hcmdpbjoxLHBhZGRpbmc6MX07bi5lYWNoKFsiYm9yZGVyTGVmdFN0eWxlIiwiYm9yZGVyUmlnaHRTdHlsZSIsImJvcmRlckJvdHRvbVN0eWxlIiwiYm9yZGVyVG9wU3R5bGUiXSxmdW5jdGlvbih0LGkpe24uZnguc3RlcFtpXT1mdW5jdGlvbihuKXsoIm5vbmUiPT09bi5lbmR8fG4uc2V0QXR0cikmJigxIT09bi5wb3N8fG4uc2V0QXR0cil8fCh5LnN0eWxlKG4uZWxlbSxpLG4uZW5kKSxuLnNldEF0dHI9ITApfX0pO24uZm4uYWRkQmFja3x8KG4uZm4uYWRkQmFjaz1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09bj90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihuKSl9KTtuLmVmZmVjdHMuYW5pbWF0ZUNsYXNzPWZ1bmN0aW9uKHUsZixlLG8pe3ZhciBzPW4uc3BlZWQoZixlLG8pO3JldHVybiB0aGlzLnF1ZXVlKGZ1bmN0aW9uKCl7dmFyIG8sZT1uKHRoaXMpLGg9ZS5hdHRyKCJjbGFzcyIpfHwiIixmPXMuY2hpbGRyZW4/ZS5maW5kKCIqIikuYWRkQmFjaygpOmU7Zj1mLm1hcChmdW5jdGlvbigpe3ZhciBpPW4odGhpcyk7cmV0dXJue2VsOmksc3RhcnQ6dCh0aGlzKX19KTtvPWZ1bmN0aW9uKCl7bi5lYWNoKHIsZnVuY3Rpb24obix0KXt1W3RdJiZlW3QrIkNsYXNzIl0odVt0XSl9KX07bygpO2Y9Zi5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmQ9dCh0aGlzLmVsWzBdKSx0aGlzLmRpZmY9aSh0aGlzLnN0YXJ0LHRoaXMuZW5kKSx0aGlzfSk7ZS5hdHRyKCJjbGFzcyIsaCk7Zj1mLm1hcChmdW5jdGlvbigpe3ZhciBpPXRoaXMsdD1uLkRlZmVycmVkKCkscj1uLmV4dGVuZCh7fSxzLHtxdWV1ZTohMSxjb21wbGV0ZTpmdW5jdGlvbigpe3QucmVzb2x2ZShpKX19KTtyZXR1cm4gdGhpcy5lbC5hbmltYXRlKHRoaXMuZGlmZixyKSx0LnByb21pc2UoKX0pO24ud2hlbi5hcHBseShuLGYuZ2V0KCkpLmRvbmUoZnVuY3Rpb24oKXtvKCk7bi5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWw7bi5lYWNoKHRoaXMuZGlmZixmdW5jdGlvbihuKXt0LmNzcyhuLCIiKX0pfSk7cy5jb21wbGV0ZS5jYWxsKGVbMF0pfSl9KX07bi5mbi5leHRlbmQoe2FkZENsYXNzOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihpLHIsdSxmKXtyZXR1cm4gcj9uLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwodGhpcyx7YWRkOml9LHIsdSxmKTp0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KG4uZm4uYWRkQ2xhc3MpLHJlbW92ZUNsYXNzOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihpLHIsdSxmKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4xP24uZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCh0aGlzLHtyZW1vdmU6aX0scix1LGYpOnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0obi5mbi5yZW1vdmVDbGFzcyksdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGkscix1LGYsZSl7cmV0dXJuImJvb2xlYW4iPT10eXBlb2Ygcnx8dm9pZCAwPT09cj91P24uZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCh0aGlzLHI/e2FkZDppfTp7cmVtb3ZlOml9LHUsZixlKTp0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTpuLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwodGhpcyx7dG9nZ2xlOml9LHIsdSxmKX19KG4uZm4udG9nZ2xlQ2xhc3MpLHN3aXRjaENsYXNzOmZ1bmN0aW9uKHQsaSxyLHUsZil7cmV0dXJuIG4uZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCh0aGlzLHthZGQ6aSxyZW1vdmU6dH0scix1LGYpfX0pfSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGkscix1KXtyZXR1cm4gbi5pc1BsYWluT2JqZWN0KHQpJiYoaT10LHQ9dC5lZmZlY3QpLHQ9e2VmZmVjdDp0fSxudWxsPT1pJiYoaT17fSksbi5pc0Z1bmN0aW9uKGkpJiYodT1pLHI9bnVsbCxpPXt9KSwoIm51bWJlciI9PXR5cGVvZiBpfHxuLmZ4LnNwZWVkc1tpXSkmJih1PXIscj1pLGk9e30pLG4uaXNGdW5jdGlvbihyKSYmKHU9cixyPW51bGwpLGkmJm4uZXh0ZW5kKHQsaSkscj1yfHxpLmR1cmF0aW9uLHQuZHVyYXRpb249bi5meC5vZmY/MDoibnVtYmVyIj09dHlwZW9mIHI/cjpyIGluIG4uZnguc3BlZWRzP24uZnguc3BlZWRzW3JdOm4uZnguc3BlZWRzLl9kZWZhdWx0LHQuY29tcGxldGU9dXx8aS5jb21wbGV0ZSx0fWZ1bmN0aW9uIGkodCl7cmV0dXJuIXR8fCJudW1iZXIiPT10eXBlb2YgdHx8bi5meC5zcGVlZHNbdF0/ITA6InN0cmluZyIhPXR5cGVvZiB0fHxuLmVmZmVjdHMuZWZmZWN0W3RdP24uaXNGdW5jdGlvbih0KT8hMDoib2JqZWN0IiE9dHlwZW9mIHR8fHQuZWZmZWN0PyExOiEwOiEwfWZ1bmN0aW9uIHIobix0KXt2YXIgcj10Lm91dGVyV2lkdGgoKSx1PXQub3V0ZXJIZWlnaHQoKSxpPS9ecmVjdFwoKC0/XGQqXC4/XGQqcHh8LT9cZCslfGF1dG8pLD9ccyooLT9cZCpcLj9cZCpweHwtP1xkKyV8YXV0byksP1xzKigtP1xkKlwuP1xkKnB4fC0/XGQrJXxhdXRvKSw/XHMqKC0/XGQqXC4/XGQqcHh8LT9cZCslfGF1dG8pXCkkLy5leGVjKG4pfHxbIiIsMCxyLHUsMF07cmV0dXJue3RvcDpwYXJzZUZsb2F0KGlbMV0pfHwwLHJpZ2h0OiJhdXRvIj09PWlbMl0/cjpwYXJzZUZsb2F0KGlbMl0pLGJvdHRvbToiYXV0byI9PT1pWzNdP3U6cGFyc2VGbG9hdChpWzNdKSxsZWZ0OnBhcnNlRmxvYXQoaVs0XSl8fDB9fW4uZXhwciYmbi5leHByLmZpbHRlcnMmJm4uZXhwci5maWx0ZXJzLmFuaW1hdGVkJiYobi5leHByLmZpbHRlcnMuYW5pbWF0ZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiEhbihpKS5kYXRhKGgpfHx0KGkpfX0obi5leHByLmZpbHRlcnMuYW5pbWF0ZWQpKTtuLnVpQmFja0NvbXBhdCE9PSExJiZuLmV4dGVuZChuLmVmZmVjdHMse3NhdmU6ZnVuY3Rpb24obix0KXtmb3IodmFyIGk9MCxyPXQubGVuZ3RoO3I+aTtpKyspbnVsbCE9PXRbaV0mJm4uZGF0YShmK3RbaV0sblswXS5zdHlsZVt0W2ldXSl9LHJlc3RvcmU6ZnVuY3Rpb24obix0KXtmb3IodmFyIHIsaT0wLHU9dC5sZW5ndGg7dT5pO2krKyludWxsIT09dFtpXSYmKHI9bi5kYXRhKGYrdFtpXSksbi5jc3ModFtpXSxyKSl9LHNldE1vZGU6ZnVuY3Rpb24obix0KXtyZXR1cm4idG9nZ2xlIj09PXQmJih0PW4uaXMoIjpoaWRkZW4iKT8ic2hvdyI6ImhpZGUiKSx0fSxjcmVhdGVXcmFwcGVyOmZ1bmN0aW9uKHQpe2lmKHQucGFyZW50KCkuaXMoIi51aS1lZmZlY3RzLXdyYXBwZXIiKSlyZXR1cm4gdC5wYXJlbnQoKTt2YXIgaT17d2lkdGg6dC5vdXRlcldpZHRoKCEwKSxoZWlnaHQ6dC5vdXRlckhlaWdodCghMCksZmxvYXQ6dC5jc3MoImZsb2F0Iil9LHU9bigiPGRpdj48XC9kaXY+IikuYWRkQ2xhc3MoInVpLWVmZmVjdHMtd3JhcHBlciIpLmNzcyh7Zm9udFNpemU6IjEwMCUiLGJhY2tncm91bmQ6InRyYW5zcGFyZW50Iixib3JkZXI6Im5vbmUiLG1hcmdpbjowLHBhZGRpbmc6MH0pLGY9e3dpZHRoOnQud2lkdGgoKSxoZWlnaHQ6dC5oZWlnaHQoKX0scj1kb2N1bWVudC5hY3RpdmVFbGVtZW50O3RyeXtyLmlkfWNhdGNoKGUpe3I9ZG9jdW1lbnQuYm9keX1yZXR1cm4gdC53cmFwKHUpLCh0WzBdPT09cnx8bi5jb250YWlucyh0WzBdLHIpKSYmbihyKS50cmlnZ2VyKCJmb2N1cyIpLHU9dC5wYXJlbnQoKSwic3RhdGljIj09PXQuY3NzKCJwb3NpdGlvbiIpPyh1LmNzcyh7cG9zaXRpb246InJlbGF0aXZlIn0pLHQuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUifSkpOihuLmV4dGVuZChpLHtwb3NpdGlvbjp0LmNzcygicG9zaXRpb24iKSx6SW5kZXg6dC5jc3MoInotaW5kZXgiKX0pLG4uZWFjaChbInRvcCIsImxlZnQiLCJib3R0b20iLCJyaWdodCJdLGZ1bmN0aW9uKG4scil7aVtyXT10LmNzcyhyKTtpc05hTihwYXJzZUludChpW3JdLDEwKSkmJihpW3JdPSJhdXRvIil9KSx0LmNzcyh7cG9zaXRpb246InJlbGF0aXZlIix0b3A6MCxsZWZ0OjAscmlnaHQ6ImF1dG8iLGJvdHRvbToiYXV0byJ9KSksdC5jc3MoZiksdS5jc3MoaSkuc2hvdygpfSxyZW1vdmVXcmFwcGVyOmZ1bmN0aW9uKHQpe3ZhciBpPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7cmV0dXJuIHQucGFyZW50KCkuaXMoIi51aS1lZmZlY3RzLXdyYXBwZXIiKSYmKHQucGFyZW50KCkucmVwbGFjZVdpdGgodCksKHRbMF09PT1pfHxuLmNvbnRhaW5zKHRbMF0saSkpJiZuKGkpLnRyaWdnZXIoImZvY3VzIikpLHR9fSk7bi5leHRlbmQobi5lZmZlY3RzLHt2ZXJzaW9uOiIxLjEyLjEiLGRlZmluZTpmdW5jdGlvbih0LGkscil7cmV0dXJuIHJ8fChyPWksaT0iZWZmZWN0Iiksbi5lZmZlY3RzLmVmZmVjdFt0XT1yLG4uZWZmZWN0cy5lZmZlY3RbdF0ubW9kZT1pLHJ9LHNjYWxlZERpbWVuc2lvbnM6ZnVuY3Rpb24obix0LGkpe2lmKDA9PT10KXJldHVybntoZWlnaHQ6MCx3aWR0aDowLG91dGVySGVpZ2h0OjAsb3V0ZXJXaWR0aDowfTt2YXIgcj0iaG9yaXpvbnRhbCIhPT1pPyh0fHwxMDApLzEwMDoxLHU9InZlcnRpY2FsIiE9PWk/KHR8fDEwMCkvMTAwOjE7cmV0dXJue2hlaWdodDpuLmhlaWdodCgpKnUsd2lkdGg6bi53aWR0aCgpKnIsb3V0ZXJIZWlnaHQ6bi5vdXRlckhlaWdodCgpKnUsb3V0ZXJXaWR0aDpuLm91dGVyV2lkdGgoKSpyfX0sY2xpcFRvQm94OmZ1bmN0aW9uKG4pe3JldHVybnt3aWR0aDpuLmNsaXAucmlnaHQtbi5jbGlwLmxlZnQsaGVpZ2h0Om4uY2xpcC5ib3R0b20tbi5jbGlwLnRvcCxsZWZ0Om4uY2xpcC5sZWZ0LHRvcDpuLmNsaXAudG9wfX0sdW5zaGlmdDpmdW5jdGlvbihuLHQsaSl7dmFyIHI9bi5xdWV1ZSgpO3Q+MSYmci5zcGxpY2UuYXBwbHkocixbMSwwXS5jb25jYXQoci5zcGxpY2UodCxpKSkpO24uZGVxdWV1ZSgpfSxzYXZlU3R5bGU6ZnVuY3Rpb24obil7bi5kYXRhKHMsblswXS5zdHlsZS5jc3NUZXh0KX0scmVzdG9yZVN0eWxlOmZ1bmN0aW9uKG4pe25bMF0uc3R5bGUuY3NzVGV4dD1uLmRhdGEocyl8fCIiO24ucmVtb3ZlRGF0YShzKX0sbW9kZTpmdW5jdGlvbihuLHQpe3ZhciBpPW4uaXMoIjpoaWRkZW4iKTtyZXR1cm4idG9nZ2xlIj09PXQmJih0PWk/InNob3ciOiJoaWRlIiksKGk/ImhpZGUiPT09dDoic2hvdyI9PT10KSYmKHQ9Im5vbmUiKSx0fSxnZXRCYXNlbGluZTpmdW5jdGlvbihuLHQpe3ZhciBpLHI7c3dpdGNoKG5bMF0pe2Nhc2UidG9wIjppPTA7YnJlYWs7Y2FzZSJtaWRkbGUiOmk9LjU7YnJlYWs7Y2FzZSJib3R0b20iOmk9MTticmVhaztkZWZhdWx0Omk9blswXS90LmhlaWdodH1zd2l0Y2goblsxXSl7Y2FzZSJsZWZ0IjpyPTA7YnJlYWs7Y2FzZSJjZW50ZXIiOnI9LjU7YnJlYWs7Y2FzZSJyaWdodCI6cj0xO2JyZWFrO2RlZmF1bHQ6cj1uWzFdL3Qud2lkdGh9cmV0dXJue3g6cix5Oml9fSxjcmVhdGVQbGFjZWhvbGRlcjpmdW5jdGlvbih0KXt2YXIgaSxyPXQuY3NzKCJwb3NpdGlvbiIpLHU9dC5wb3NpdGlvbigpO3JldHVybiB0LmNzcyh7bWFyZ2luVG9wOnQuY3NzKCJtYXJnaW5Ub3AiKSxtYXJnaW5Cb3R0b206dC5jc3MoIm1hcmdpbkJvdHRvbSIpLG1hcmdpbkxlZnQ6dC5jc3MoIm1hcmdpbkxlZnQiKSxtYXJnaW5SaWdodDp0LmNzcygibWFyZ2luUmlnaHQiKX0pLm91dGVyV2lkdGgodC5vdXRlcldpZHRoKCkpLm91dGVySGVpZ2h0KHQub3V0ZXJIZWlnaHQoKSksL14oc3RhdGljfHJlbGF0aXZlKS8udGVzdChyKSYmKHI9ImFic29sdXRlIixpPW4oIjwiK3RbMF0ubm9kZU5hbWUrIj4iKS5pbnNlcnRBZnRlcih0KS5jc3Moe2Rpc3BsYXk6L14oaW5saW5lfHJ1YnkpLy50ZXN0KHQuY3NzKCJkaXNwbGF5IikpPyJpbmxpbmUtYmxvY2siOiJibG9jayIsdmlzaWJpbGl0eToiaGlkZGVuIixtYXJnaW5Ub3A6dC5jc3MoIm1hcmdpblRvcCIpLG1hcmdpbkJvdHRvbTp0LmNzcygibWFyZ2luQm90dG9tIiksbWFyZ2luTGVmdDp0LmNzcygibWFyZ2luTGVmdCIpLG1hcmdpblJpZ2h0OnQuY3NzKCJtYXJnaW5SaWdodCIpLGZsb2F0OnQuY3NzKCJmbG9hdCIpfSkub3V0ZXJXaWR0aCh0Lm91dGVyV2lkdGgoKSkub3V0ZXJIZWlnaHQodC5vdXRlckhlaWdodCgpKS5hZGRDbGFzcygidWktZWZmZWN0cy1wbGFjZWhvbGRlciIpLHQuZGF0YShmKyJwbGFjZWhvbGRlciIsaSkpLHQuY3NzKHtwb3NpdGlvbjpyLGxlZnQ6dS5sZWZ0LHRvcDp1LnRvcH0pLGl9LHJlbW92ZVBsYWNlaG9sZGVyOmZ1bmN0aW9uKG4pe3ZhciB0PWYrInBsYWNlaG9sZGVyIixpPW4uZGF0YSh0KTtpJiYoaS5yZW1vdmUoKSxuLnJlbW92ZURhdGEodCkpfSxjbGVhblVwOmZ1bmN0aW9uKHQpe24uZWZmZWN0cy5yZXN0b3JlU3R5bGUodCk7bi5lZmZlY3RzLnJlbW92ZVBsYWNlaG9sZGVyKHQpfSxzZXRUcmFuc2l0aW9uOmZ1bmN0aW9uKHQsaSxyLHUpe3JldHVybiB1PXV8fHt9LG4uZWFjaChpLGZ1bmN0aW9uKG4saSl7dmFyIGY9dC5jc3NVbml0KGkpO2ZbMF0+MCYmKHVbaV09ZlswXSpyK2ZbMV0pfSksdX19KTtuLmZuLmV4dGVuZCh7ZWZmZWN0OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gbyh0KXtmdW5jdGlvbiBjKCl7by5yZW1vdmVEYXRhKGgpO24uZWZmZWN0cy5jbGVhblVwKG8pOyJoaWRlIj09PWkubW9kZSYmby5oaWRlKCk7cygpfWZ1bmN0aW9uIHMoKXtuLmlzRnVuY3Rpb24oZikmJmYuY2FsbChvWzBdKTtuLmlzRnVuY3Rpb24odCkmJnQoKX12YXIgbz1uKHRoaXMpO2kubW9kZT1sLnNoaWZ0KCk7bi51aUJhY2tDb21wYXQ9PT0hMXx8dT8ibm9uZSI9PT1pLm1vZGU/KG9bcl0oKSxzKCkpOmUuY2FsbChvWzBdLGksYyk6KG8uaXMoIjpoaWRkZW4iKT8iaGlkZSI9PT1yOiJzaG93Ij09PXIpPyhvW3JdKCkscygpKTplLmNhbGwob1swXSxpLHMpfXZhciBpPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLGU9bi5lZmZlY3RzLmVmZmVjdFtpLmVmZmVjdF0sdT1lLm1vZGUscz1pLnF1ZXVlLGM9c3x8ImZ4IixmPWkuY29tcGxldGUscj1pLm1vZGUsbD1bXSxhPWZ1bmN0aW9uKHQpe3ZhciBmPW4odGhpcyksaT1uLmVmZmVjdHMubW9kZShmLHIpfHx1O2YuZGF0YShoLCEwKTtsLnB1c2goaSk7dSYmKCJzaG93Ij09PWl8fGk9PT11JiYiaGlkZSI9PT1pKSYmZi5zaG93KCk7dSYmIm5vbmUiPT09aXx8bi5lZmZlY3RzLnNhdmVTdHlsZShmKTtuLmlzRnVuY3Rpb24odCkmJnQoKX07cmV0dXJuIG4uZngub2ZmfHwhZT9yP3RoaXNbcl0oaS5kdXJhdGlvbixmKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtmJiZmLmNhbGwodGhpcyl9KTpzPT09ITE/dGhpcy5lYWNoKGEpLmVhY2gobyk6dGhpcy5xdWV1ZShjLGEpLnF1ZXVlKGMsbyl9LHNob3c6ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHIpe2lmKGkocikpcmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciB1PXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB1Lm1vZGU9InNob3ciLHRoaXMuZWZmZWN0LmNhbGwodGhpcyx1KX19KG4uZm4uc2hvdyksaGlkZTpmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24ocil7aWYoaShyKSlyZXR1cm4gbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIHU9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHUubW9kZT0iaGlkZSIsdGhpcy5lZmZlY3QuY2FsbCh0aGlzLHUpfX0obi5mbi5oaWRlKSx0b2dnbGU6ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHIpe2lmKGkocil8fCJib29sZWFuIj09dHlwZW9mIHIpcmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciB1PXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB1Lm1vZGU9InRvZ2dsZSIsdGhpcy5lZmZlY3QuY2FsbCh0aGlzLHUpfX0obi5mbi50b2dnbGUpLGNzc1VuaXQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5jc3ModCkscj1bXTtyZXR1cm4gbi5lYWNoKFsiZW0iLCJweCIsIiUiLCJwdCJdLGZ1bmN0aW9uKG4sdCl7aS5pbmRleE9mKHQpPjAmJihyPVtwYXJzZUZsb2F0KGkpLHRdKX0pLHJ9LGNzc0NsaXA6ZnVuY3Rpb24obil7cmV0dXJuIG4/dGhpcy5jc3MoImNsaXAiLCJyZWN0KCIrbi50b3ArInB4ICIrbi5yaWdodCsicHggIituLmJvdHRvbSsicHggIituLmxlZnQrInB4KSIpOnIodGhpcy5jc3MoImNsaXAiKSx0aGlzKX0sdHJhbnNmZXI6ZnVuY3Rpb24odCxpKXt2YXIgdT1uKHRoaXMpLHI9bih0LnRvKSxmPSJmaXhlZCI9PT1yLmNzcygicG9zaXRpb24iKSxlPW4oImJvZHkiKSxvPWY/ZS5zY3JvbGxUb3AoKTowLHM9Zj9lLnNjcm9sbExlZnQoKTowLGg9ci5vZmZzZXQoKSxsPXt0b3A6aC50b3AtbyxsZWZ0OmgubGVmdC1zLGhlaWdodDpyLmlubmVySGVpZ2h0KCksd2lkdGg6ci5pbm5lcldpZHRoKCl9LGM9dS5vZmZzZXQoKSxhPW4oIjxkaXYgY2xhc3M9J3VpLWVmZmVjdHMtdHJhbnNmZXInPjxcL2Rpdj4iKS5hcHBlbmRUbygiYm9keSIpLmFkZENsYXNzKHQuY2xhc3NOYW1lKS5jc3Moe3RvcDpjLnRvcC1vLGxlZnQ6Yy5sZWZ0LXMsaGVpZ2h0OnUuaW5uZXJIZWlnaHQoKSx3aWR0aDp1LmlubmVyV2lkdGgoKSxwb3NpdGlvbjpmPyJmaXhlZCI6ImFic29sdXRlIn0pLmFuaW1hdGUobCx0LmR1cmF0aW9uLHQuZWFzaW5nLGZ1bmN0aW9uKCl7YS5yZW1vdmUoKTtuLmlzRnVuY3Rpb24oaSkmJmkoKX0pfX0pO24uZnguc3RlcC5jbGlwPWZ1bmN0aW9uKHQpe3QuY2xpcEluaXR8fCh0LnN0YXJ0PW4odC5lbGVtKS5jc3NDbGlwKCksInN0cmluZyI9PXR5cGVvZiB0LmVuZCYmKHQuZW5kPXIodC5lbmQsdC5lbGVtKSksdC5jbGlwSW5pdD0hMCk7bih0LmVsZW0pLmNzc0NsaXAoe3RvcDp0LnBvcyoodC5lbmQudG9wLXQuc3RhcnQudG9wKSt0LnN0YXJ0LnRvcCxyaWdodDp0LnBvcyoodC5lbmQucmlnaHQtdC5zdGFydC5yaWdodCkrdC5zdGFydC5yaWdodCxib3R0b206dC5wb3MqKHQuZW5kLmJvdHRvbS10LnN0YXJ0LmJvdHRvbSkrdC5zdGFydC5ib3R0b20sbGVmdDp0LnBvcyoodC5lbmQubGVmdC10LnN0YXJ0LmxlZnQpK3Quc3RhcnQubGVmdH0pfX0oKSxmdW5jdGlvbigpe3ZhciB0PXt9O24uZWFjaChbIlF1YWQiLCJDdWJpYyIsIlF1YXJ0IiwiUXVpbnQiLCJFeHBvIl0sZnVuY3Rpb24obixpKXt0W2ldPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnBvdyh0LG4rMil9fSk7bi5leHRlbmQodCx7U2luZTpmdW5jdGlvbihuKXtyZXR1cm4gMS1NYXRoLmNvcyhuKk1hdGguUEkvMil9LENpcmM6ZnVuY3Rpb24obil7cmV0dXJuIDEtTWF0aC5zcXJ0KDEtbipuKX0sRWxhc3RpYzpmdW5jdGlvbihuKXtyZXR1cm4gMD09PW58fDE9PT1uP246LU1hdGgucG93KDIsOCoobi0xKSkqTWF0aC5zaW4oKDgwKihuLTEpLTcuNSkqTWF0aC5QSS8xNSl9LEJhY2s6ZnVuY3Rpb24obil7cmV0dXJuIG4qbiooMypuLTIpfSxCb3VuY2U6ZnVuY3Rpb24obil7Zm9yKHZhciB0LGk9NDsoKHQ9TWF0aC5wb3coMiwtLWkpKS0xKS8xMT5uOyk7cmV0dXJuIDEvTWF0aC5wb3coNCwzLWkpLTcuNTYyNSpNYXRoLnBvdygoMyp0LTIpLzIyLW4sMil9fSk7bi5lYWNoKHQsZnVuY3Rpb24odCxpKXtuLmVhc2luZ1siZWFzZUluIit0XT1pO24uZWFzaW5nWyJlYXNlT3V0Iit0XT1mdW5jdGlvbihuKXtyZXR1cm4gMS1pKDEtbil9O24uZWFzaW5nWyJlYXNlSW5PdXQiK3RdPWZ1bmN0aW9uKG4pe3JldHVybi41Pm4/aSgyKm4pLzI6MS1pKC0yKm4rMikvMn19KX0oKTtwPW4uZWZmZWN0cztuLmVmZmVjdHMuZGVmaW5lKCJibGluZCIsImhpZGUiLGZ1bmN0aW9uKHQsaSl7dmFyIGU9e3VwOlsiYm90dG9tIiwidG9wIl0sdmVydGljYWw6WyJib3R0b20iLCJ0b3AiXSxkb3duOlsidG9wIiwiYm90dG9tIl0sbGVmdDpbInJpZ2h0IiwibGVmdCJdLGhvcml6b250YWw6WyJyaWdodCIsImxlZnQiXSxyaWdodDpbImxlZnQiLCJyaWdodCJdfSx1PW4odGhpcyksbz10LmRpcmVjdGlvbnx8InVwIixzPXUuY3NzQ2xpcCgpLHI9e2NsaXA6bi5leHRlbmQoe30scyl9LGY9bi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKHUpO3IuY2xpcFtlW29dWzBdXT1yLmNsaXBbZVtvXVsxXV07InNob3ciPT09dC5tb2RlJiYodS5jc3NDbGlwKHIuY2xpcCksZiYmZi5jc3Mobi5lZmZlY3RzLmNsaXBUb0JveChyKSksci5jbGlwPXMpO2YmJmYuYW5pbWF0ZShuLmVmZmVjdHMuY2xpcFRvQm94KHIpLHQuZHVyYXRpb24sdC5lYXNpbmcpO3UuYW5pbWF0ZShyLHtxdWV1ZTohMSxkdXJhdGlvbjp0LmR1cmF0aW9uLGVhc2luZzp0LmVhc2luZyxjb21wbGV0ZTppfSl9KTtuLmVmZmVjdHMuZGVmaW5lKCJib3VuY2UiLGZ1bmN0aW9uKHQsaSl7dmFyIGUsbyxhLHU9bih0aGlzKSxwPXQubW9kZSxzPSJoaWRlIj09PXAsdz0ic2hvdyI9PT1wLGg9dC5kaXJlY3Rpb258fCJ1cCIscj10LmRpc3RhbmNlLHY9dC50aW1lc3x8NSxiPTIqdisod3x8cz8xOjApLGM9dC5kdXJhdGlvbi9iLGw9dC5lYXNpbmcsZj0idXAiPT09aHx8ImRvd24iPT09aD8idG9wIjoibGVmdCIseT0idXAiPT09aHx8ImxlZnQiPT09aCxrPTAsZD11LnF1ZXVlKCkubGVuZ3RoO2ZvcihuLmVmZmVjdHMuY3JlYXRlUGxhY2Vob2xkZXIodSksYT11LmNzcyhmKSxyfHwocj11WyJ0b3AiPT09Zj8ib3V0ZXJIZWlnaHQiOiJvdXRlcldpZHRoIl0oKS8zKSx3JiYobz17b3BhY2l0eToxfSxvW2ZdPWEsdS5jc3MoIm9wYWNpdHkiLDApLmNzcyhmLHk/MiotcjoyKnIpLmFuaW1hdGUobyxjLGwpKSxzJiYoci89TWF0aC5wb3coMix2LTEpKSxvPXt9LG9bZl09YTt2Pms7aysrKWU9e30sZVtmXT0oeT8iLT0iOiIrPSIpK3IsdS5hbmltYXRlKGUsYyxsKS5hbmltYXRlKG8sYyxsKSxyPXM/MipyOnIvMjtzJiYoZT17b3BhY2l0eTowfSxlW2ZdPSh5PyItPSI6Iis9Iikrcix1LmFuaW1hdGUoZSxjLGwpKTt1LnF1ZXVlKGkpO24uZWZmZWN0cy51bnNoaWZ0KHUsZCxiKzEpfSk7bi5lZmZlY3RzLmRlZmluZSgiY2xpcCIsImhpZGUiLGZ1bmN0aW9uKHQsaSl7dmFyIHIsdT17fSxmPW4odGhpcyksZT10LmRpcmVjdGlvbnx8InZlcnRpY2FsIixvPSJib3RoIj09PWUscz1vfHwiaG9yaXpvbnRhbCI9PT1lLGg9b3x8InZlcnRpY2FsIj09PWU7cj1mLmNzc0NsaXAoKTt1LmNsaXA9e3RvcDpoPyhyLmJvdHRvbS1yLnRvcCkvMjpyLnRvcCxyaWdodDpzPyhyLnJpZ2h0LXIubGVmdCkvMjpyLnJpZ2h0LGJvdHRvbTpoPyhyLmJvdHRvbS1yLnRvcCkvMjpyLmJvdHRvbSxsZWZ0OnM/KHIucmlnaHQtci5sZWZ0KS8yOnIubGVmdH07bi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKGYpOyJzaG93Ij09PXQubW9kZSYmKGYuY3NzQ2xpcCh1LmNsaXApLHUuY2xpcD1yKTtmLmFuaW1hdGUodSx7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6aX0pfSk7bi5lZmZlY3RzLmRlZmluZSgiZHJvcCIsImhpZGUiLGZ1bmN0aW9uKHQsaSl7dmFyIGUsdT1uKHRoaXMpLGg9dC5tb2RlLGM9InNob3ciPT09aCxmPXQuZGlyZWN0aW9ufHwibGVmdCIsbz0idXAiPT09Znx8ImRvd24iPT09Zj8idG9wIjoibGVmdCIscz0idXAiPT09Znx8ImxlZnQiPT09Zj8iLT0iOiIrPSIsbD0iKz0iPT09cz8iLT0iOiIrPSIscj17b3BhY2l0eTowfTtuLmVmZmVjdHMuY3JlYXRlUGxhY2Vob2xkZXIodSk7ZT10LmRpc3RhbmNlfHx1WyJ0b3AiPT09bz8ib3V0ZXJIZWlnaHQiOiJvdXRlcldpZHRoIl0oITApLzI7cltvXT1zK2U7YyYmKHUuY3NzKHIpLHJbb109bCtlLHIub3BhY2l0eT0xKTt1LmFuaW1hdGUocix7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6aX0pfSk7bi5lZmZlY3RzLmRlZmluZSgiZXhwbG9kZSIsImhpZGUiLGZ1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gYigpe3AucHVzaCh0aGlzKTtwLmxlbmd0aD09PWUqYyYmaygpfWZ1bmN0aW9uIGsoKXtvLmNzcyh7dmlzaWJpbGl0eToidmlzaWJsZSJ9KTtuKHApLnJlbW92ZSgpO2koKX1mb3IodmFyIHUsbCxhLHYseSxlPXQucGllY2VzP01hdGgucm91bmQoTWF0aC5zcXJ0KHQucGllY2VzKSk6MyxjPWUsbz1uKHRoaXMpLGQ9dC5tb2RlLGY9InNob3ciPT09ZCx3PW8uc2hvdygpLmNzcygidmlzaWJpbGl0eSIsImhpZGRlbiIpLm9mZnNldCgpLHM9TWF0aC5jZWlsKG8ub3V0ZXJXaWR0aCgpL2MpLGg9TWF0aC5jZWlsKG8ub3V0ZXJIZWlnaHQoKS9lKSxwPVtdLHI9MDtlPnI7cisrKWZvcihhPXcudG9wK3IqaCx5PXItKGUtMSkvMix1PTA7Yz51O3UrKylsPXcubGVmdCt1KnMsdj11LShjLTEpLzIsby5jbG9uZSgpLmFwcGVuZFRvKCJib2R5Iikud3JhcCgiPGRpdj48XC9kaXY+IikuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6InZpc2libGUiLGxlZnQ6LXUqcyx0b3A6LXIqaH0pLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1lZmZlY3RzLWV4cGxvZGUiKS5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsb3ZlcmZsb3c6ImhpZGRlbiIsd2lkdGg6cyxoZWlnaHQ6aCxsZWZ0OmwrKGY/dipzOjApLHRvcDphKyhmP3kqaDowKSxvcGFjaXR5OmY/MDoxfSkuYW5pbWF0ZSh7bGVmdDpsKyhmPzA6dipzKSx0b3A6YSsoZj8wOnkqaCksb3BhY2l0eTpmPzE6MH0sdC5kdXJhdGlvbnx8NTAwLHQuZWFzaW5nLGIpfSk7bi5lZmZlY3RzLmRlZmluZSgiZmFkZSIsInRvZ2dsZSIsZnVuY3Rpb24odCxpKXt2YXIgcj0ic2hvdyI9PT10Lm1vZGU7bih0aGlzKS5jc3MoIm9wYWNpdHkiLHI/MDoxKS5hbmltYXRlKHtvcGFjaXR5OnI/MTowfSx7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6aX0pfSk7bi5lZmZlY3RzLmRlZmluZSgiZm9sZCIsImhpZGUiLGZ1bmN0aW9uKHQsaSl7dmFyIHU9bih0aGlzKSxsPXQubW9kZSx2PSJzaG93Ij09PWwseT0iaGlkZSI9PT1sLG89dC5zaXplfHwxNSxhPS8oWzAtOV0rKSUvLmV4ZWMobykscD0hIXQuaG9yaXpGaXJzdCxmPXA/WyJyaWdodCIsImJvdHRvbSJdOlsiYm90dG9tIiwicmlnaHQiXSxzPXQuZHVyYXRpb24vMixoPW4uZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlcih1KSxlPXUuY3NzQ2xpcCgpLGM9e2NsaXA6bi5leHRlbmQoe30sZSl9LHI9e2NsaXA6bi5leHRlbmQoe30sZSl9LHc9W2VbZlswXV0sZVtmWzFdXV0sYj11LnF1ZXVlKCkubGVuZ3RoO2EmJihvPXBhcnNlSW50KGFbMV0sMTApLzEwMCp3W3k/MDoxXSk7Yy5jbGlwW2ZbMF1dPW87ci5jbGlwW2ZbMF1dPW87ci5jbGlwW2ZbMV1dPTA7diYmKHUuY3NzQ2xpcChyLmNsaXApLGgmJmguY3NzKG4uZWZmZWN0cy5jbGlwVG9Cb3gocikpLHIuY2xpcD1lKTt1LnF1ZXVlKGZ1bmN0aW9uKGkpe2gmJmguYW5pbWF0ZShuLmVmZmVjdHMuY2xpcFRvQm94KGMpLHMsdC5lYXNpbmcpLmFuaW1hdGUobi5lZmZlY3RzLmNsaXBUb0JveChyKSxzLHQuZWFzaW5nKTtpKCl9KS5hbmltYXRlKGMscyx0LmVhc2luZykuYW5pbWF0ZShyLHMsdC5lYXNpbmcpLnF1ZXVlKGkpO24uZWZmZWN0cy51bnNoaWZ0KHUsYiw0KX0pO24uZWZmZWN0cy5kZWZpbmUoImhpZ2hsaWdodCIsInNob3ciLGZ1bmN0aW9uKHQsaSl7dmFyIHI9bih0aGlzKSx1PXtiYWNrZ3JvdW5kQ29sb3I6ci5jc3MoImJhY2tncm91bmRDb2xvciIpfTsiaGlkZSI9PT10Lm1vZGUmJih1Lm9wYWNpdHk9MCk7bi5lZmZlY3RzLnNhdmVTdHlsZShyKTtyLmNzcyh7YmFja2dyb3VuZEltYWdlOiJub25lIixiYWNrZ3JvdW5kQ29sb3I6dC5jb2xvcnx8IiNmZmZmOTkifSkuYW5pbWF0ZSh1LHtxdWV1ZTohMSxkdXJhdGlvbjp0LmR1cmF0aW9uLGVhc2luZzp0LmVhc2luZyxjb21wbGV0ZTppfSl9KTtuLmVmZmVjdHMuZGVmaW5lKCJzaXplIixmdW5jdGlvbih0LGkpe3ZhciBsLHIscCx1PW4odGhpcyksdj1bImZvbnRTaXplIl0scz1bImJvcmRlclRvcFdpZHRoIiwiYm9yZGVyQm90dG9tV2lkdGgiLCJwYWRkaW5nVG9wIiwicGFkZGluZ0JvdHRvbSJdLGg9WyJib3JkZXJMZWZ0V2lkdGgiLCJib3JkZXJSaWdodFdpZHRoIiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiXSx3PXQubW9kZSx5PSJlZmZlY3QiIT09dyxjPXQuc2NhbGV8fCJib3RoIixiPXQub3JpZ2lufHxbIm1pZGRsZSIsImNlbnRlciJdLGs9dS5jc3MoInBvc2l0aW9uIiksYT11LnBvc2l0aW9uKCksbz1uLmVmZmVjdHMuc2NhbGVkRGltZW5zaW9ucyh1KSxmPXQuZnJvbXx8byxlPXQudG98fG4uZWZmZWN0cy5zY2FsZWREaW1lbnNpb25zKHUsMCk7bi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKHUpOyJzaG93Ij09PXcmJihwPWYsZj1lLGU9cCk7cj17ZnJvbTp7eTpmLmhlaWdodC9vLmhlaWdodCx4OmYud2lkdGgvby53aWR0aH0sdG86e3k6ZS5oZWlnaHQvby5oZWlnaHQseDplLndpZHRoL28ud2lkdGh9fTsoImJveCI9PT1jfHwiYm90aCI9PT1jKSYmKHIuZnJvbS55IT09ci50by55JiYoZj1uLmVmZmVjdHMuc2V0VHJhbnNpdGlvbih1LHMsci5mcm9tLnksZiksZT1uLmVmZmVjdHMuc2V0VHJhbnNpdGlvbih1LHMsci50by55LGUpKSxyLmZyb20ueCE9PXIudG8ueCYmKGY9bi5lZmZlY3RzLnNldFRyYW5zaXRpb24odSxoLHIuZnJvbS54LGYpLGU9bi5lZmZlY3RzLnNldFRyYW5zaXRpb24odSxoLHIudG8ueCxlKSkpOygiY29udGVudCI9PT1jfHwiYm90aCI9PT1jKSYmci5mcm9tLnkhPT1yLnRvLnkmJihmPW4uZWZmZWN0cy5zZXRUcmFuc2l0aW9uKHUsdixyLmZyb20ueSxmKSxlPW4uZWZmZWN0cy5zZXRUcmFuc2l0aW9uKHUsdixyLnRvLnksZSkpO2ImJihsPW4uZWZmZWN0cy5nZXRCYXNlbGluZShiLG8pLGYudG9wPShvLm91dGVySGVpZ2h0LWYub3V0ZXJIZWlnaHQpKmwueSthLnRvcCxmLmxlZnQ9KG8ub3V0ZXJXaWR0aC1mLm91dGVyV2lkdGgpKmwueCthLmxlZnQsZS50b3A9KG8ub3V0ZXJIZWlnaHQtZS5vdXRlckhlaWdodCkqbC55K2EudG9wLGUubGVmdD0oby5vdXRlcldpZHRoLWUub3V0ZXJXaWR0aCkqbC54K2EubGVmdCk7dS5jc3MoZik7KCJjb250ZW50Ij09PWN8fCJib3RoIj09PWMpJiYocz1zLmNvbmNhdChbIm1hcmdpblRvcCIsIm1hcmdpbkJvdHRvbSJdKS5jb25jYXQodiksaD1oLmNvbmNhdChbIm1hcmdpbkxlZnQiLCJtYXJnaW5SaWdodCJdKSx1LmZpbmQoIipbd2lkdGhdIikuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcyksdT1uLmVmZmVjdHMuc2NhbGVkRGltZW5zaW9ucyhpKSxmPXtoZWlnaHQ6dS5oZWlnaHQqci5mcm9tLnksd2lkdGg6dS53aWR0aCpyLmZyb20ueCxvdXRlckhlaWdodDp1Lm91dGVySGVpZ2h0KnIuZnJvbS55LG91dGVyV2lkdGg6dS5vdXRlcldpZHRoKnIuZnJvbS54fSxlPXtoZWlnaHQ6dS5oZWlnaHQqci50by55LHdpZHRoOnUud2lkdGgqci50by54LG91dGVySGVpZ2h0OnUuaGVpZ2h0KnIudG8ueSxvdXRlcldpZHRoOnUud2lkdGgqci50by54fTtyLmZyb20ueSE9PXIudG8ueSYmKGY9bi5lZmZlY3RzLnNldFRyYW5zaXRpb24oaSxzLHIuZnJvbS55LGYpLGU9bi5lZmZlY3RzLnNldFRyYW5zaXRpb24oaSxzLHIudG8ueSxlKSk7ci5mcm9tLnghPT1yLnRvLngmJihmPW4uZWZmZWN0cy5zZXRUcmFuc2l0aW9uKGksaCxyLmZyb20ueCxmKSxlPW4uZWZmZWN0cy5zZXRUcmFuc2l0aW9uKGksaCxyLnRvLngsZSkpO3kmJm4uZWZmZWN0cy5zYXZlU3R5bGUoaSk7aS5jc3MoZik7aS5hbmltYXRlKGUsdC5kdXJhdGlvbix0LmVhc2luZyxmdW5jdGlvbigpe3kmJm4uZWZmZWN0cy5yZXN0b3JlU3R5bGUoaSl9KX0pKTt1LmFuaW1hdGUoZSx7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6ZnVuY3Rpb24oKXt2YXIgdD11Lm9mZnNldCgpOzA9PT1lLm9wYWNpdHkmJnUuY3NzKCJvcGFjaXR5IixmLm9wYWNpdHkpO3l8fCh1LmNzcygicG9zaXRpb24iLCJzdGF0aWMiPT09az8icmVsYXRpdmUiOmspLm9mZnNldCh0KSxuLmVmZmVjdHMuc2F2ZVN0eWxlKHUpKTtpKCl9fSl9KTtuLmVmZmVjdHMuZGVmaW5lKCJzY2FsZSIsZnVuY3Rpb24odCxpKXt2YXIgdT1uKHRoaXMpLGY9dC5tb2RlLGU9cGFyc2VJbnQodC5wZXJjZW50LDEwKXx8KDA9PT1wYXJzZUludCh0LnBlcmNlbnQsMTApPzA6ImVmZmVjdCIhPT1mPzA6MTAwKSxyPW4uZXh0ZW5kKCEwLHtmcm9tOm4uZWZmZWN0cy5zY2FsZWREaW1lbnNpb25zKHUpLHRvOm4uZWZmZWN0cy5zY2FsZWREaW1lbnNpb25zKHUsZSx0LmRpcmVjdGlvbnx8ImJvdGgiKSxvcmlnaW46dC5vcmlnaW58fFsibWlkZGxlIiwiY2VudGVyIl19LHQpO3QuZmFkZSYmKHIuZnJvbS5vcGFjaXR5PTEsci50by5vcGFjaXR5PTApO24uZWZmZWN0cy5lZmZlY3Quc2l6ZS5jYWxsKHRoaXMscixpKX0pO24uZWZmZWN0cy5kZWZpbmUoInB1ZmYiLCJoaWRlIixmdW5jdGlvbih0LGkpe3ZhciByPW4uZXh0ZW5kKCEwLHt9LHQse2ZhZGU6ITAscGVyY2VudDpwYXJzZUludCh0LnBlcmNlbnQsMTApfHwxNTB9KTtuLmVmZmVjdHMuZWZmZWN0LnNjYWxlLmNhbGwodGhpcyxyLGkpfSk7bi5lZmZlY3RzLmRlZmluZSgicHVsc2F0ZSIsInNob3ciLGZ1bmN0aW9uKHQsaSl7dmFyIHI9bih0aGlzKSxlPXQubW9kZSxvPSJzaG93Ij09PWUsYz0iaGlkZSI9PT1lLGw9b3x8YyxmPTIqKHQudGltZXN8fDUpKyhsPzE6MCkscz10LmR1cmF0aW9uL2YsdT0wLGg9MSxhPXIucXVldWUoKS5sZW5ndGg7Zm9yKChvfHwhci5pcygiOnZpc2libGUiKSkmJihyLmNzcygib3BhY2l0eSIsMCkuc2hvdygpLHU9MSk7Zj5oO2grKylyLmFuaW1hdGUoe29wYWNpdHk6dX0scyx0LmVhc2luZyksdT0xLXU7ci5hbmltYXRlKHtvcGFjaXR5OnV9LHMsdC5lYXNpbmcpO3IucXVldWUoaSk7bi5lZmZlY3RzLnVuc2hpZnQocixhLGYrMSl9KTtuLmVmZmVjdHMuZGVmaW5lKCJzaGFrZSIsZnVuY3Rpb24odCxpKXt2YXIgbD0xLHI9bih0aGlzKSxmPXQuZGlyZWN0aW9ufHwibGVmdCIsZT10LmRpc3RhbmNlfHwyMCxhPXQudGltZXN8fDMsdj0yKmErMSx1PU1hdGgucm91bmQodC5kdXJhdGlvbi92KSxvPSJ1cCI9PT1mfHwiZG93biI9PT1mPyJ0b3AiOiJsZWZ0IixzPSJ1cCI9PT1mfHwibGVmdCI9PT1mLGg9e30sYz17fSx5PXt9LHA9ci5xdWV1ZSgpLmxlbmd0aDtmb3Iobi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKHIpLGhbb109KHM/Ii09IjoiKz0iKStlLGNbb109KHM/Iis9IjoiLT0iKSsyKmUseVtvXT0ocz8iLT0iOiIrPSIpKzIqZSxyLmFuaW1hdGUoaCx1LHQuZWFzaW5nKTthPmw7bCsrKXIuYW5pbWF0ZShjLHUsdC5lYXNpbmcpLmFuaW1hdGUoeSx1LHQuZWFzaW5nKTtyLmFuaW1hdGUoYyx1LHQuZWFzaW5nKS5hbmltYXRlKGgsdS8yLHQuZWFzaW5nKS5xdWV1ZShpKTtuLmVmZmVjdHMudW5zaGlmdChyLHAsdisxKX0pO24uZWZmZWN0cy5kZWZpbmUoInNsaWRlIiwic2hvdyIsZnVuY3Rpb24odCxpKXt2YXIgcyxvLHU9bih0aGlzKSxoPXt1cDpbImJvdHRvbSIsInRvcCJdLGRvd246WyJ0b3AiLCJib3R0b20iXSxsZWZ0OlsicmlnaHQiLCJsZWZ0Il0scmlnaHQ6WyJsZWZ0IiwicmlnaHQiXX0sYz10Lm1vZGUsZj10LmRpcmVjdGlvbnx8ImxlZnQiLGU9InVwIj09PWZ8fCJkb3duIj09PWY/InRvcCI6ImxlZnQiLGw9InVwIj09PWZ8fCJsZWZ0Ij09PWYsYT10LmRpc3RhbmNlfHx1WyJ0b3AiPT09ZT8ib3V0ZXJIZWlnaHQiOiJvdXRlcldpZHRoIl0oITApLHI9e307bi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKHUpO3M9dS5jc3NDbGlwKCk7bz11LnBvc2l0aW9uKClbZV07cltlXT0obD8tMToxKSphK287ci5jbGlwPXUuY3NzQ2xpcCgpO3IuY2xpcFtoW2ZdWzFdXT1yLmNsaXBbaFtmXVswXV07InNob3ciPT09YyYmKHUuY3NzQ2xpcChyLmNsaXApLHUuY3NzKGUscltlXSksci5jbGlwPXMscltlXT1vKTt1LmFuaW1hdGUocix7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6aX0pfSk7bi51aUJhY2tDb21wYXQhPT0hMSYmKHA9bi5lZmZlY3RzLmRlZmluZSgidHJhbnNmZXIiLGZ1bmN0aW9uKHQsaSl7bih0aGlzKS50cmFuc2Zlcih0LGkpfSkpO24udWkuZm9jdXNhYmxlPWZ1bmN0aW9uKHQsaSl7dmFyIHUsZixlLHIsbyxzPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iYXJlYSI9PT1zPyh1PXQucGFyZW50Tm9kZSxmPXUubmFtZSx0LmhyZWYmJmYmJiJtYXAiPT09dS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPyhlPW4oImltZ1t1c2VtYXA9JyMiK2YrIiddIiksZS5sZW5ndGg+MCYmZS5pcygiOnZpc2libGUiKSk6ITEpOigvXihpbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9ufG9iamVjdCkkLy50ZXN0KHMpPyhyPSF0LmRpc2FibGVkLHImJihvPW4odCkuY2xvc2VzdCgiZmllbGRzZXQiKVswXSxvJiYocj0hby5kaXNhYmxlZCkpKTpyPSJhIj09PXM/dC5ocmVmfHxpOmksciYmbih0KS5pcygiOnZpc2libGUiKSYmYihuKHQpKSl9O24uZXh0ZW5kKG4uZXhwclsiOiJdLHtmb2N1c2FibGU6ZnVuY3Rpb24odCl7cmV0dXJuIG4udWkuZm9jdXNhYmxlKHQsbnVsbCE9bi5hdHRyKHQsInRhYmluZGV4IikpfX0pO24udWkuZm9jdXNhYmxlO24uZm4uZm9ybT1mdW5jdGlvbigpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdGhpc1swXS5mb3JtP3RoaXMuY2xvc2VzdCgiZm9ybSIpOm4odGhpc1swXS5mb3JtKX07bi51aS5mb3JtUmVzZXRNaXhpbj17X2Zvcm1SZXNldEhhbmRsZXI6ZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgaT10LmRhdGEoInVpLWZvcm0tcmVzZXQtaW5zdGFuY2VzIik7bi5lYWNoKGksZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0pfSl9LF9iaW5kRm9ybVJlc2V0SGFuZGxlcjpmdW5jdGlvbigpe2lmKHRoaXMuZm9ybT10aGlzLmVsZW1lbnQuZm9ybSgpLHRoaXMuZm9ybS5sZW5ndGgpe3ZhciBuPXRoaXMuZm9ybS5kYXRhKCJ1aS1mb3JtLXJlc2V0LWluc3RhbmNlcyIpfHxbXTtuLmxlbmd0aHx8dGhpcy5mb3JtLm9uKCJyZXNldC51aS1mb3JtLXJlc2V0Iix0aGlzLl9mb3JtUmVzZXRIYW5kbGVyKTtuLnB1c2godGhpcyk7dGhpcy5mb3JtLmRhdGEoInVpLWZvcm0tcmVzZXQtaW5zdGFuY2VzIixuKX19LF91bmJpbmRGb3JtUmVzZXRIYW5kbGVyOmZ1bmN0aW9uKCl7aWYodGhpcy5mb3JtLmxlbmd0aCl7dmFyIHQ9dGhpcy5mb3JtLmRhdGEoInVpLWZvcm0tcmVzZXQtaW5zdGFuY2VzIik7dC5zcGxpY2Uobi5pbkFycmF5KHRoaXMsdCksMSk7dC5sZW5ndGg/dGhpcy5mb3JtLmRhdGEoInVpLWZvcm0tcmVzZXQtaW5zdGFuY2VzIix0KTp0aGlzLmZvcm0ucmVtb3ZlRGF0YSgidWktZm9ybS1yZXNldC1pbnN0YW5jZXMiKS5vZmYoInJlc2V0LnVpLWZvcm0tcmVzZXQiKX19fTsiMS43Ij09PW4uZm4uanF1ZXJ5LnN1YnN0cmluZygwLDMpJiYobi5lYWNoKFsiV2lkdGgiLCJIZWlnaHQiXSxmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIHIodCxpLHIsdSl7cmV0dXJuIG4uZWFjaChlLGZ1bmN0aW9uKCl7aS09cGFyc2VGbG9hdChuLmNzcyh0LCJwYWRkaW5nIit0aGlzKSl8fDA7ciYmKGktPXBhcnNlRmxvYXQobi5jc3ModCwiYm9yZGVyIit0aGlzKyJXaWR0aCIpKXx8MCk7dSYmKGktPXBhcnNlRmxvYXQobi5jc3ModCwibWFyZ2luIit0aGlzKSl8fDApfSksaX12YXIgZT0iV2lkdGgiPT09aT9bIkxlZnQiLCJSaWdodCJdOlsiVG9wIiwiQm90dG9tIl0sdT1pLnRvTG93ZXJDYXNlKCksZj17aW5uZXJXaWR0aDpuLmZuLmlubmVyV2lkdGgsaW5uZXJIZWlnaHQ6bi5mbi5pbm5lckhlaWdodCxvdXRlcldpZHRoOm4uZm4ub3V0ZXJXaWR0aCxvdXRlckhlaWdodDpuLmZuLm91dGVySGVpZ2h0fTtuLmZuWyJpbm5lciIraV09ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQ/ZlsiaW5uZXIiK2ldLmNhbGwodGhpcyk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7bih0aGlzKS5jc3ModSxyKHRoaXMsdCkrInB4Iil9KX07bi5mblsib3V0ZXIiK2ldPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIm51bWJlciIhPXR5cGVvZiB0P2ZbIm91dGVyIitpXS5jYWxsKHRoaXMsdCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7bih0aGlzKS5jc3ModSxyKHRoaXMsdCwhMCxlKSsicHgiKX0pfX0pLG4uZm4uYWRkQmFjaz1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09bj90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihuKSl9KTtuLnVpLmtleUNvZGU9e0JBQ0tTUEFDRTo4LENPTU1BOjE4OCxERUxFVEU6NDYsRE9XTjo0MCxFTkQ6MzUsRU5URVI6MTMsRVNDQVBFOjI3LEhPTUU6MzYsTEVGVDozNyxQQUdFX0RPV046MzQsUEFHRV9VUDozMyxQRVJJT0Q6MTkwLFJJR0hUOjM5LFNQQUNFOjMyLFRBQjo5LFVQOjM4fTtuLnVpLmVzY2FwZVNlbGVjdG9yPWZ1bmN0aW9uKCl7dmFyIG49LyhbISIjJCUmJygpKissLlwvOjs8PT4/QFtcXV5ge3x9fl0pL2c7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UobiwiXFwkMSIpfX0oKTtuLmZuLmxhYmVscz1mdW5jdGlvbigpe3ZhciB0LHIsdSxpLGY7cmV0dXJuIHRoaXNbMF0ubGFiZWxzJiZ0aGlzWzBdLmxhYmVscy5sZW5ndGg/dGhpcy5wdXNoU3RhY2sodGhpc1swXS5sYWJlbHMpOihpPXRoaXMuZXEoMCkucGFyZW50cygibGFiZWwiKSx1PXRoaXMuYXR0cigiaWQiKSx1JiYodD10aGlzLmVxKDApLnBhcmVudHMoKS5sYXN0KCksZj10LmFkZCh0Lmxlbmd0aD90LnNpYmxpbmdzKCk6dGhpcy5zaWJsaW5ncygpKSxyPSJsYWJlbFtmb3I9JyIrbi51aS5lc2NhcGVTZWxlY3Rvcih1KSsiJ10iLGk9aS5hZGQoZi5maW5kKHIpLmFkZEJhY2socikpKSx0aGlzLnB1c2hTdGFjayhpKSl9O24uZm4uc2Nyb2xsUGFyZW50PWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuY3NzKCJwb3NpdGlvbiIpLHU9ImFic29sdXRlIj09PWksZj10Py8oYXV0b3xzY3JvbGx8aGlkZGVuKS86LyhhdXRvfHNjcm9sbCkvLHI9dGhpcy5wYXJlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTtyZXR1cm4gdSYmInN0YXRpYyI9PT10LmNzcygicG9zaXRpb24iKT8hMTpmLnRlc3QodC5jc3MoIm92ZXJmbG93IikrdC5jc3MoIm92ZXJmbG93LXkiKSt0LmNzcygib3ZlcmZsb3cteCIpKX0pLmVxKDApO3JldHVybiJmaXhlZCIhPT1pJiZyLmxlbmd0aD9yOm4odGhpc1swXS5vd25lckRvY3VtZW50fHxkb2N1bWVudCl9O24uZXh0ZW5kKG4uZXhwclsiOiJdLHt0YWJiYWJsZTpmdW5jdGlvbih0KXt2YXIgaT1uLmF0dHIodCwidGFiaW5kZXgiKSxyPW51bGwhPWk7cmV0dXJuKCFyfHxpPj0wKSYmbi51aS5mb2N1c2FibGUodCxyKX19KTtuLmZuLmV4dGVuZCh7dW5pcXVlSWQ6ZnVuY3Rpb24oKXt2YXIgbj0wO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLmlkfHwodGhpcy5pZD0idWktaWQtIisgKytuKX0pfX0oKSxyZW1vdmVVbmlxdWVJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXsvXnVpLWlkLVxkKyQvLnRlc3QodGhpcy5pZCkmJm4odGhpcykucmVtb3ZlQXR0cigiaWQiKX0pfX0pO24ud2lkZ2V0KCJ1aS5hY2NvcmRpb24iLHt2ZXJzaW9uOiIxLjEyLjEiLG9wdGlvbnM6e2FjdGl2ZTowLGFuaW1hdGU6e30sY2xhc3Nlczp7InVpLWFjY29yZGlvbi1oZWFkZXIiOiJ1aS1jb3JuZXItdG9wIiwidWktYWNjb3JkaW9uLWhlYWRlci1jb2xsYXBzZWQiOiJ1aS1jb3JuZXItYWxsIiwidWktYWNjb3JkaW9uLWNvbnRlbnQiOiJ1aS1jb3JuZXItYm90dG9tIn0sY29sbGFwc2libGU6ITEsZXZlbnQ6ImNsaWNrIixoZWFkZXI6Ij4gbGkgPiA6Zmlyc3QtY2hpbGQsID4gOm5vdChsaSk6ZXZlbiIsaGVpZ2h0U3R5bGU6ImF1dG8iLGljb25zOnthY3RpdmVIZWFkZXI6InVpLWljb24tdHJpYW5nbGUtMS1zIixoZWFkZXI6InVpLWljb24tdHJpYW5nbGUtMS1lIn0sYWN0aXZhdGU6bnVsbCxiZWZvcmVBY3RpdmF0ZTpudWxsfSxoaWRlUHJvcHM6e2JvcmRlclRvcFdpZHRoOiJoaWRlIixib3JkZXJCb3R0b21XaWR0aDoiaGlkZSIscGFkZGluZ1RvcDoiaGlkZSIscGFkZGluZ0JvdHRvbToiaGlkZSIsaGVpZ2h0OiJoaWRlIn0sc2hvd1Byb3BzOntib3JkZXJUb3BXaWR0aDoic2hvdyIsYm9yZGVyQm90dG9tV2lkdGg6InNob3ciLHBhZGRpbmdUb3A6InNob3ciLHBhZGRpbmdCb3R0b206InNob3ciLGhlaWdodDoic2hvdyJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnM7dGhpcy5wcmV2U2hvdz10aGlzLnByZXZIaWRlPW4oKTt0aGlzLl9hZGRDbGFzcygidWktYWNjb3JkaW9uIiwidWktd2lkZ2V0IHVpLWhlbHBlci1yZXNldCIpO3RoaXMuZWxlbWVudC5hdHRyKCJyb2xlIiwidGFibGlzdCIpO3QuY29sbGFwc2libGV8fHQuYWN0aXZlIT09ITEmJm51bGwhPXQuYWN0aXZlfHwodC5hY3RpdmU9MCk7dGhpcy5fcHJvY2Vzc1BhbmVscygpOzA+dC5hY3RpdmUmJih0LmFjdGl2ZSs9dGhpcy5oZWFkZXJzLmxlbmd0aCk7dGhpcy5fcmVmcmVzaCgpfSxfZ2V0Q3JlYXRlRXZlbnREYXRhOmZ1bmN0aW9uKCl7cmV0dXJue2hlYWRlcjp0aGlzLmFjdGl2ZSxwYW5lbDp0aGlzLmFjdGl2ZS5sZW5ndGg/dGhpcy5hY3RpdmUubmV4dCgpOm4oKX19LF9jcmVhdGVJY29uczpmdW5jdGlvbigpe3ZhciBpLHIsdD10aGlzLm9wdGlvbnMuaWNvbnM7dCYmKGk9bigiPHNwYW4+IiksdGhpcy5fYWRkQ2xhc3MoaSwidWktYWNjb3JkaW9uLWhlYWRlci1pY29uIiwidWktaWNvbiAiK3QuaGVhZGVyKSxpLnByZXBlbmRUbyh0aGlzLmhlYWRlcnMpLHI9dGhpcy5hY3RpdmUuY2hpbGRyZW4oIi51aS1hY2NvcmRpb24taGVhZGVyLWljb24iKSx0aGlzLl9yZW1vdmVDbGFzcyhyLHQuaGVhZGVyKS5fYWRkQ2xhc3MocixudWxsLHQuYWN0aXZlSGVhZGVyKS5fYWRkQ2xhc3ModGhpcy5oZWFkZXJzLCJ1aS1hY2NvcmRpb24taWNvbnMiKSl9LF9kZXN0cm95SWNvbnM6ZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmhlYWRlcnMsInVpLWFjY29yZGlvbi1pY29ucyIpO3RoaXMuaGVhZGVycy5jaGlsZHJlbigiLnVpLWFjY29yZGlvbi1oZWFkZXItaWNvbiIpLnJlbW92ZSgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBuO3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJyb2xlIik7dGhpcy5oZWFkZXJzLnJlbW92ZUF0dHIoInJvbGUgYXJpYS1leHBhbmRlZCBhcmlhLXNlbGVjdGVkIGFyaWEtY29udHJvbHMgdGFiSW5kZXgiKS5yZW1vdmVVbmlxdWVJZCgpO3RoaXMuX2Rlc3Ryb3lJY29ucygpO249dGhpcy5oZWFkZXJzLm5leHQoKS5jc3MoImRpc3BsYXkiLCIiKS5yZW1vdmVBdHRyKCJyb2xlIGFyaWEtaGlkZGVuIGFyaWEtbGFiZWxsZWRieSIpLnJlbW92ZVVuaXF1ZUlkKCk7ImNvbnRlbnQiIT09dGhpcy5vcHRpb25zLmhlaWdodFN0eWxlJiZuLmNzcygiaGVpZ2h0IiwiIil9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXtyZXR1cm4iYWN0aXZlIj09PW4/KHRoaXMuX2FjdGl2YXRlKHQpLHZvaWQgMCk6KCJldmVudCI9PT1uJiYodGhpcy5vcHRpb25zLmV2ZW50JiZ0aGlzLl9vZmYodGhpcy5oZWFkZXJzLHRoaXMub3B0aW9ucy5ldmVudCksdGhpcy5fc2V0dXBFdmVudHModCkpLHRoaXMuX3N1cGVyKG4sdCksImNvbGxhcHNpYmxlIiE9PW58fHR8fHRoaXMub3B0aW9ucy5hY3RpdmUhPT0hMXx8dGhpcy5fYWN0aXZhdGUoMCksImljb25zIj09PW4mJih0aGlzLl9kZXN0cm95SWNvbnMoKSx0JiZ0aGlzLl9jcmVhdGVJY29ucygpKSx2b2lkIDApfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24obil7dGhpcy5fc3VwZXIobik7dGhpcy5lbGVtZW50LmF0dHIoImFyaWEtZGlzYWJsZWQiLG4pO3RoaXMuX3RvZ2dsZUNsYXNzKG51bGwsInVpLXN0YXRlLWRpc2FibGVkIiwhIW4pO3RoaXMuX3RvZ2dsZUNsYXNzKHRoaXMuaGVhZGVycy5hZGQodGhpcy5oZWFkZXJzLm5leHQoKSksbnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLCEhbil9LF9rZXlkb3duOmZ1bmN0aW9uKHQpe2lmKCF0LmFsdEtleSYmIXQuY3RybEtleSl7dmFyIGk9bi51aS5rZXlDb2RlLHU9dGhpcy5oZWFkZXJzLmxlbmd0aCxmPXRoaXMuaGVhZGVycy5pbmRleCh0LnRhcmdldCkscj0hMTtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIGkuUklHSFQ6Y2FzZSBpLkRPV046cj10aGlzLmhlYWRlcnNbKGYrMSkldV07YnJlYWs7Y2FzZSBpLkxFRlQ6Y2FzZSBpLlVQOnI9dGhpcy5oZWFkZXJzWyhmLTErdSkldV07YnJlYWs7Y2FzZSBpLlNQQUNFOmNhc2UgaS5FTlRFUjp0aGlzLl9ldmVudEhhbmRsZXIodCk7YnJlYWs7Y2FzZSBpLkhPTUU6cj10aGlzLmhlYWRlcnNbMF07YnJlYWs7Y2FzZSBpLkVORDpyPXRoaXMuaGVhZGVyc1t1LTFdfXImJihuKHQudGFyZ2V0KS5hdHRyKCJ0YWJJbmRleCIsLTEpLG4ocikuYXR0cigidGFiSW5kZXgiLDApLG4ocikudHJpZ2dlcigiZm9jdXMiKSx0LnByZXZlbnREZWZhdWx0KCkpfX0sX3BhbmVsS2V5RG93bjpmdW5jdGlvbih0KXt0LmtleUNvZGU9PT1uLnVpLmtleUNvZGUuVVAmJnQuY3RybEtleSYmbih0LmN1cnJlbnRUYXJnZXQpLnByZXYoKS50cmlnZ2VyKCJmb2N1cyIpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zO3RoaXMuX3Byb2Nlc3NQYW5lbHMoKTt0LmFjdGl2ZT09PSExJiZ0LmNvbGxhcHNpYmxlPT09ITB8fCF0aGlzLmhlYWRlcnMubGVuZ3RoPyh0LmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1uKCkpOnQuYWN0aXZlPT09ITE/dGhpcy5fYWN0aXZhdGUoMCk6dGhpcy5hY3RpdmUubGVuZ3RoJiYhbi5jb250YWlucyh0aGlzLmVsZW1lbnRbMF0sdGhpcy5hY3RpdmVbMF0pP3RoaXMuaGVhZGVycy5sZW5ndGg9PT10aGlzLmhlYWRlcnMuZmluZCgiLnVpLXN0YXRlLWRpc2FibGVkIikubGVuZ3RoPyh0LmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1uKCkpOnRoaXMuX2FjdGl2YXRlKE1hdGgubWF4KDAsdC5hY3RpdmUtMSkpOnQuYWN0aXZlPXRoaXMuaGVhZGVycy5pbmRleCh0aGlzLmFjdGl2ZSk7dGhpcy5fZGVzdHJveUljb25zKCk7dGhpcy5fcmVmcmVzaCgpfSxfcHJvY2Vzc1BhbmVsczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuaGVhZGVycyxuPXRoaXMucGFuZWxzO3RoaXMuaGVhZGVycz10aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMuaGVhZGVyKTt0aGlzLl9hZGRDbGFzcyh0aGlzLmhlYWRlcnMsInVpLWFjY29yZGlvbi1oZWFkZXIgdWktYWNjb3JkaW9uLWhlYWRlci1jb2xsYXBzZWQiLCJ1aS1zdGF0ZS1kZWZhdWx0Iik7dGhpcy5wYW5lbHM9dGhpcy5oZWFkZXJzLm5leHQoKS5maWx0ZXIoIjpub3QoLnVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZSkiKS5oaWRlKCk7dGhpcy5fYWRkQ2xhc3ModGhpcy5wYW5lbHMsInVpLWFjY29yZGlvbi1jb250ZW50IiwidWktaGVscGVyLXJlc2V0IHVpLXdpZGdldC1jb250ZW50Iik7biYmKHRoaXMuX29mZih0Lm5vdCh0aGlzLmhlYWRlcnMpKSx0aGlzLl9vZmYobi5ub3QodGhpcy5wYW5lbHMpKSl9LF9yZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQsaT10aGlzLm9wdGlvbnMscj1pLmhlaWdodFN0eWxlLHU9dGhpcy5lbGVtZW50LnBhcmVudCgpO3RoaXMuYWN0aXZlPXRoaXMuX2ZpbmRBY3RpdmUoaS5hY3RpdmUpO3RoaXMuX2FkZENsYXNzKHRoaXMuYWN0aXZlLCJ1aS1hY2NvcmRpb24taGVhZGVyLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpLl9yZW1vdmVDbGFzcyh0aGlzLmFjdGl2ZSwidWktYWNjb3JkaW9uLWhlYWRlci1jb2xsYXBzZWQiKTt0aGlzLl9hZGRDbGFzcyh0aGlzLmFjdGl2ZS5uZXh0KCksInVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZSIpO3RoaXMuYWN0aXZlLm5leHQoKS5zaG93KCk7dGhpcy5oZWFkZXJzLmF0dHIoInJvbGUiLCJ0YWIiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKSxyPXQudW5pcXVlSWQoKS5hdHRyKCJpZCIpLGk9dC5uZXh0KCksdT1pLnVuaXF1ZUlkKCkuYXR0cigiaWQiKTt0LmF0dHIoImFyaWEtY29udHJvbHMiLHUpO2kuYXR0cigiYXJpYS1sYWJlbGxlZGJ5IixyKX0pLm5leHQoKS5hdHRyKCJyb2xlIiwidGFicGFuZWwiKTt0aGlzLmhlYWRlcnMubm90KHRoaXMuYWN0aXZlKS5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6ImZhbHNlIiwiYXJpYS1leHBhbmRlZCI6ImZhbHNlIix0YWJJbmRleDotMX0pLm5leHQoKS5hdHRyKHsiYXJpYS1oaWRkZW4iOiJ0cnVlIn0pLmhpZGUoKTt0aGlzLmFjdGl2ZS5sZW5ndGg/dGhpcy5hY3RpdmUuYXR0cih7ImFyaWEtc2VsZWN0ZWQiOiJ0cnVlIiwiYXJpYS1leHBhbmRlZCI6InRydWUiLHRhYkluZGV4OjB9KS5uZXh0KCkuYXR0cih7ImFyaWEtaGlkZGVuIjoiZmFsc2UifSk6dGhpcy5oZWFkZXJzLmVxKDApLmF0dHIoInRhYkluZGV4IiwwKTt0aGlzLl9jcmVhdGVJY29ucygpO3RoaXMuX3NldHVwRXZlbnRzKGkuZXZlbnQpOyJmaWxsIj09PXI/KHQ9dS5oZWlnaHQoKSx0aGlzLmVsZW1lbnQuc2libGluZ3MoIjp2aXNpYmxlIikuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcykscj1pLmNzcygicG9zaXRpb24iKTsiYWJzb2x1dGUiIT09ciYmImZpeGVkIiE9PXImJih0LT1pLm91dGVySGVpZ2h0KCEwKSl9KSx0aGlzLmhlYWRlcnMuZWFjaChmdW5jdGlvbigpe3QtPW4odGhpcykub3V0ZXJIZWlnaHQoITApfSksdGhpcy5oZWFkZXJzLm5leHQoKS5lYWNoKGZ1bmN0aW9uKCl7bih0aGlzKS5oZWlnaHQoTWF0aC5tYXgoMCx0LW4odGhpcykuaW5uZXJIZWlnaHQoKStuKHRoaXMpLmhlaWdodCgpKSl9KS5jc3MoIm92ZXJmbG93IiwiYXV0byIpKToiYXV0byI9PT1yJiYodD0wLHRoaXMuaGVhZGVycy5uZXh0KCkuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcykuaXMoIjp2aXNpYmxlIik7aXx8bih0aGlzKS5zaG93KCk7dD1NYXRoLm1heCh0LG4odGhpcykuY3NzKCJoZWlnaHQiLCIiKS5oZWlnaHQoKSk7aXx8bih0aGlzKS5oaWRlKCl9KS5oZWlnaHQodCkpfSxfYWN0aXZhdGU6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5fZmluZEFjdGl2ZSh0KVswXTtpIT09dGhpcy5hY3RpdmVbMF0mJihpPWl8fHRoaXMuYWN0aXZlWzBdLHRoaXMuX2V2ZW50SGFuZGxlcih7dGFyZ2V0OmksY3VycmVudFRhcmdldDppLHByZXZlbnREZWZhdWx0Om4ubm9vcH0pKX0sX2ZpbmRBY3RpdmU6ZnVuY3Rpb24odCl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiB0P3RoaXMuaGVhZGVycy5lcSh0KTpuKCl9LF9zZXR1cEV2ZW50czpmdW5jdGlvbih0KXt2YXIgaT17a2V5ZG93bjoiX2tleWRvd24ifTt0JiZuLmVhY2godC5zcGxpdCgiICIpLGZ1bmN0aW9uKG4sdCl7aVt0XT0iX2V2ZW50SGFuZGxlciJ9KTt0aGlzLl9vZmYodGhpcy5oZWFkZXJzLmFkZCh0aGlzLmhlYWRlcnMubmV4dCgpKSk7dGhpcy5fb24odGhpcy5oZWFkZXJzLGkpO3RoaXMuX29uKHRoaXMuaGVhZGVycy5uZXh0KCkse2tleWRvd246Il9wYW5lbEtleURvd24ifSk7dGhpcy5faG92ZXJhYmxlKHRoaXMuaGVhZGVycyk7dGhpcy5fZm9jdXNhYmxlKHRoaXMuaGVhZGVycyl9LF9ldmVudEhhbmRsZXI6ZnVuY3Rpb24odCl7dmFyIGUsbyxpPXRoaXMub3B0aW9ucyx1PXRoaXMuYWN0aXZlLHI9bih0LmN1cnJlbnRUYXJnZXQpLGY9clswXT09PXVbMF0scz1mJiZpLmNvbGxhcHNpYmxlLGM9cz9uKCk6ci5uZXh0KCksbD11Lm5leHQoKSxoPXtvbGRIZWFkZXI6dSxvbGRQYW5lbDpsLG5ld0hlYWRlcjpzP24oKTpyLG5ld1BhbmVsOmN9O3QucHJldmVudERlZmF1bHQoKTtmJiYhaS5jb2xsYXBzaWJsZXx8dGhpcy5fdHJpZ2dlcigiYmVmb3JlQWN0aXZhdGUiLHQsaCk9PT0hMXx8KGkuYWN0aXZlPXM/ITE6dGhpcy5oZWFkZXJzLmluZGV4KHIpLHRoaXMuYWN0aXZlPWY/bigpOnIsdGhpcy5fdG9nZ2xlKGgpLHRoaXMuX3JlbW92ZUNsYXNzKHUsInVpLWFjY29yZGlvbi1oZWFkZXItYWN0aXZlIiwidWktc3RhdGUtYWN0aXZlIiksaS5pY29ucyYmKGU9dS5jaGlsZHJlbigiLnVpLWFjY29yZGlvbi1oZWFkZXItaWNvbiIpLHRoaXMuX3JlbW92ZUNsYXNzKGUsbnVsbCxpLmljb25zLmFjdGl2ZUhlYWRlcikuX2FkZENsYXNzKGUsbnVsbCxpLmljb25zLmhlYWRlcikpLGZ8fCh0aGlzLl9yZW1vdmVDbGFzcyhyLCJ1aS1hY2NvcmRpb24taGVhZGVyLWNvbGxhcHNlZCIpLl9hZGRDbGFzcyhyLCJ1aS1hY2NvcmRpb24taGVhZGVyLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpLGkuaWNvbnMmJihvPXIuY2hpbGRyZW4oIi51aS1hY2NvcmRpb24taGVhZGVyLWljb24iKSx0aGlzLl9yZW1vdmVDbGFzcyhvLG51bGwsaS5pY29ucy5oZWFkZXIpLl9hZGRDbGFzcyhvLG51bGwsaS5pY29ucy5hY3RpdmVIZWFkZXIpKSx0aGlzLl9hZGRDbGFzcyhyLm5leHQoKSwidWktYWNjb3JkaW9uLWNvbnRlbnQtYWN0aXZlIikpKX0sX3RvZ2dsZTpmdW5jdGlvbih0KXt2YXIgcj10Lm5ld1BhbmVsLGk9dGhpcy5wcmV2U2hvdy5sZW5ndGg/dGhpcy5wcmV2U2hvdzp0Lm9sZFBhbmVsO3RoaXMucHJldlNob3cuYWRkKHRoaXMucHJldkhpZGUpLnN0b3AoITAsITApO3RoaXMucHJldlNob3c9cjt0aGlzLnByZXZIaWRlPWk7dGhpcy5vcHRpb25zLmFuaW1hdGU/dGhpcy5fYW5pbWF0ZShyLGksdCk6KGkuaGlkZSgpLHIuc2hvdygpLHRoaXMuX3RvZ2dsZUNvbXBsZXRlKHQpKTtpLmF0dHIoeyJhcmlhLWhpZGRlbiI6InRydWUifSk7aS5wcmV2KCkuYXR0cih7ImFyaWEtc2VsZWN0ZWQiOiJmYWxzZSIsImFyaWEtZXhwYW5kZWQiOiJmYWxzZSJ9KTtyLmxlbmd0aCYmaS5sZW5ndGg/aS5wcmV2KCkuYXR0cih7dGFiSW5kZXg6LTEsImFyaWEtZXhwYW5kZWQiOiJmYWxzZSJ9KTpyLmxlbmd0aCYmdGhpcy5oZWFkZXJzLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiAwPT09cGFyc2VJbnQobih0aGlzKS5hdHRyKCJ0YWJJbmRleCIpLDEwKX0pLmF0dHIoInRhYkluZGV4IiwtMSk7ci5hdHRyKCJhcmlhLWhpZGRlbiIsImZhbHNlIikucHJldigpLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoidHJ1ZSIsImFyaWEtZXhwYW5kZWQiOiJ0cnVlIix0YWJJbmRleDowfSl9LF9hbmltYXRlOmZ1bmN0aW9uKG4sdCxpKXt2YXIgaCxyLHUsYz10aGlzLG89MCxsPW4uY3NzKCJib3gtc2l6aW5nIiksYT1uLmxlbmd0aCYmKCF0Lmxlbmd0aHx8bi5pbmRleCgpPHQuaW5kZXgoKSksZT10aGlzLm9wdGlvbnMuYW5pbWF0ZXx8e30sZj1hJiZlLmRvd258fGUscz1mdW5jdGlvbigpe2MuX3RvZ2dsZUNvbXBsZXRlKGkpfTtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGYmJih1PWYpLCJzdHJpbmciPT10eXBlb2YgZiYmKHI9Zikscj1yfHxmLmVhc2luZ3x8ZS5lYXNpbmcsdT11fHxmLmR1cmF0aW9ufHxlLmR1cmF0aW9uLHQubGVuZ3RoP24ubGVuZ3RoPyhoPW4uc2hvdygpLm91dGVySGVpZ2h0KCksdC5hbmltYXRlKHRoaXMuaGlkZVByb3BzLHtkdXJhdGlvbjp1LGVhc2luZzpyLHN0ZXA6ZnVuY3Rpb24obix0KXt0Lm5vdz1NYXRoLnJvdW5kKG4pfX0pLG4uaGlkZSgpLmFuaW1hdGUodGhpcy5zaG93UHJvcHMse2R1cmF0aW9uOnUsZWFzaW5nOnIsY29tcGxldGU6cyxzdGVwOmZ1bmN0aW9uKG4saSl7aS5ub3c9TWF0aC5yb3VuZChuKTsiaGVpZ2h0IiE9PWkucHJvcD8iY29udGVudC1ib3giPT09bCYmKG8rPWkubm93KToiY29udGVudCIhPT1jLm9wdGlvbnMuaGVpZ2h0U3R5bGUmJihpLm5vdz1NYXRoLnJvdW5kKGgtdC5vdXRlckhlaWdodCgpLW8pLG89MCl9fSksdm9pZCAwKTp0LmFuaW1hdGUodGhpcy5oaWRlUHJvcHMsdSxyLHMpOm4uYW5pbWF0ZSh0aGlzLnNob3dQcm9wcyx1LHIscyl9LF90b2dnbGVDb21wbGV0ZTpmdW5jdGlvbihuKXt2YXIgdD1uLm9sZFBhbmVsLGk9dC5wcmV2KCk7dGhpcy5fcmVtb3ZlQ2xhc3ModCwidWktYWNjb3JkaW9uLWNvbnRlbnQtYWN0aXZlIik7dGhpcy5fcmVtb3ZlQ2xhc3MoaSwidWktYWNjb3JkaW9uLWhlYWRlci1hY3RpdmUiKS5fYWRkQ2xhc3MoaSwidWktYWNjb3JkaW9uLWhlYWRlci1jb2xsYXBzZWQiKTt0Lmxlbmd0aCYmKHQucGFyZW50KClbMF0uY2xhc3NOYW1lPXQucGFyZW50KClbMF0uY2xhc3NOYW1lKTt0aGlzLl90cmlnZ2VyKCJhY3RpdmF0ZSIsbnVsbCxuKX19KTtuLnVpLnNhZmVBY3RpdmVFbGVtZW50PWZ1bmN0aW9uKG4pe3ZhciB0O3RyeXt0PW4uYWN0aXZlRWxlbWVudH1jYXRjaChpKXt0PW4uYm9keX1yZXR1cm4gdHx8KHQ9bi5ib2R5KSx0Lm5vZGVOYW1lfHwodD1uLmJvZHkpLHR9O24ud2lkZ2V0KCJ1aS5tZW51Iix7dmVyc2lvbjoiMS4xMi4xIixkZWZhdWx0RWxlbWVudDoiPHVsPiIsZGVsYXk6MzAwLG9wdGlvbnM6e2ljb25zOntzdWJtZW51OiJ1aS1pY29uLWNhcmV0LTEtZSJ9LGl0ZW1zOiI+ICoiLG1lbnVzOiJ1bCIscG9zaXRpb246e215OiJsZWZ0IHRvcCIsYXQ6InJpZ2h0IHRvcCJ9LHJvbGU6Im1lbnUiLGJsdXI6bnVsbCxmb2N1czpudWxsLHNlbGVjdDpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5hY3RpdmVNZW51PXRoaXMuZWxlbWVudDt0aGlzLm1vdXNlSGFuZGxlZD0hMTt0aGlzLmVsZW1lbnQudW5pcXVlSWQoKS5hdHRyKHtyb2xlOnRoaXMub3B0aW9ucy5yb2xlLHRhYkluZGV4OjB9KTt0aGlzLl9hZGRDbGFzcygidWktbWVudSIsInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCIpO3RoaXMuX29uKHsibW91c2Vkb3duIC51aS1tZW51LWl0ZW0iOmZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKX0sImNsaWNrIC51aS1tZW51LWl0ZW0iOmZ1bmN0aW9uKHQpe3ZhciBpPW4odC50YXJnZXQpLHI9bihuLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pKTshdGhpcy5tb3VzZUhhbmRsZWQmJmkubm90KCIudWktc3RhdGUtZGlzYWJsZWQiKS5sZW5ndGgmJih0aGlzLnNlbGVjdCh0KSx0LmlzUHJvcGFnYXRpb25TdG9wcGVkKCl8fCh0aGlzLm1vdXNlSGFuZGxlZD0hMCksaS5oYXMoIi51aS1tZW51IikubGVuZ3RoP3RoaXMuZXhwYW5kKHQpOiF0aGlzLmVsZW1lbnQuaXMoIjpmb2N1cyIpJiZyLmNsb3Nlc3QoIi51aS1tZW51IikubGVuZ3RoJiYodGhpcy5lbGVtZW50LnRyaWdnZXIoImZvY3VzIixbITBdKSx0aGlzLmFjdGl2ZSYmMT09PXRoaXMuYWN0aXZlLnBhcmVudHMoIi51aS1tZW51IikubGVuZ3RoJiZjbGVhclRpbWVvdXQodGhpcy50aW1lcikpKX0sIm1vdXNlZW50ZXIgLnVpLW1lbnUtaXRlbSI6ZnVuY3Rpb24odCl7aWYoIXRoaXMucHJldmlvdXNGaWx0ZXIpe3ZhciByPW4odC50YXJnZXQpLmNsb3Nlc3QoIi51aS1tZW51LWl0ZW0iKSxpPW4odC5jdXJyZW50VGFyZ2V0KTtyWzBdPT09aVswXSYmKHRoaXMuX3JlbW92ZUNsYXNzKGkuc2libGluZ3MoKS5jaGlsZHJlbigiLnVpLXN0YXRlLWFjdGl2ZSIpLG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpLHRoaXMuZm9jdXModCxpKSl9fSxtb3VzZWxlYXZlOiJjb2xsYXBzZUFsbCIsIm1vdXNlbGVhdmUgLnVpLW1lbnUiOiJjb2xsYXBzZUFsbCIsZm9jdXM6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLmFjdGl2ZXx8dGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLml0ZW1zKS5lcSgwKTt0fHx0aGlzLmZvY3VzKG4saSl9LGJsdXI6ZnVuY3Rpb24odCl7dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt2YXIgaT0hbi5jb250YWlucyh0aGlzLmVsZW1lbnRbMF0sbi51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKSk7aSYmdGhpcy5jb2xsYXBzZUFsbCh0KX0pfSxrZXlkb3duOiJfa2V5ZG93biJ9KTt0aGlzLnJlZnJlc2goKTt0aGlzLl9vbih0aGlzLmRvY3VtZW50LHtjbGljazpmdW5jdGlvbihuKXt0aGlzLl9jbG9zZU9uRG9jdW1lbnRDbGljayhuKSYmdGhpcy5jb2xsYXBzZUFsbChuKTt0aGlzLm1vdXNlSGFuZGxlZD0hMX19KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQuZmluZCgiLnVpLW1lbnUtaXRlbSIpLnJlbW92ZUF0dHIoInJvbGUgYXJpYS1kaXNhYmxlZCIpLGk9dC5jaGlsZHJlbigiLnVpLW1lbnUtaXRlbS13cmFwcGVyIikucmVtb3ZlVW5pcXVlSWQoKS5yZW1vdmVBdHRyKCJ0YWJJbmRleCByb2xlIGFyaWEtaGFzcG9wdXAiKTt0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cigiYXJpYS1hY3RpdmVkZXNjZW5kYW50IikuZmluZCgiLnVpLW1lbnUiKS5hZGRCYWNrKCkucmVtb3ZlQXR0cigicm9sZSBhcmlhLWxhYmVsbGVkYnkgYXJpYS1leHBhbmRlZCBhcmlhLWhpZGRlbiBhcmlhLWRpc2FibGVkIHRhYkluZGV4IikucmVtb3ZlVW5pcXVlSWQoKS5zaG93KCk7aS5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO3QuZGF0YSgidWktbWVudS1zdWJtZW51LWNhcmV0IikmJnQucmVtb3ZlKCl9KX0sX2tleWRvd246ZnVuY3Rpb24odCl7dmFyIGksdSxyLGYsZT0hMDtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIG4udWkua2V5Q29kZS5QQUdFX1VQOnRoaXMucHJldmlvdXNQYWdlKHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLlBBR0VfRE9XTjp0aGlzLm5leHRQYWdlKHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkhPTUU6dGhpcy5fbW92ZSgiZmlyc3QiLCJmaXJzdCIsdCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuRU5EOnRoaXMuX21vdmUoImxhc3QiLCJsYXN0Iix0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5VUDp0aGlzLnByZXZpb3VzKHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkRPV046dGhpcy5uZXh0KHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkxFRlQ6dGhpcy5jb2xsYXBzZSh0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5SSUdIVDp0aGlzLmFjdGl2ZSYmIXRoaXMuYWN0aXZlLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdGhpcy5leHBhbmQodCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuRU5URVI6Y2FzZSBuLnVpLmtleUNvZGUuU1BBQ0U6dGhpcy5fYWN0aXZhdGUodCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuRVNDQVBFOnRoaXMuY29sbGFwc2UodCk7YnJlYWs7ZGVmYXVsdDplPSExO3U9dGhpcy5wcmV2aW91c0ZpbHRlcnx8IiI7Zj0hMTtyPXQua2V5Q29kZT49OTYmJjEwNT49dC5rZXlDb2RlPyIiKyh0LmtleUNvZGUtOTYpOlN0cmluZy5mcm9tQ2hhckNvZGUodC5rZXlDb2RlKTtjbGVhclRpbWVvdXQodGhpcy5maWx0ZXJUaW1lcik7cj09PXU/Zj0hMDpyPXUrcjtpPXRoaXMuX2ZpbHRlck1lbnVJdGVtcyhyKTtpPWYmJi0xIT09aS5pbmRleCh0aGlzLmFjdGl2ZS5uZXh0KCkpP3RoaXMuYWN0aXZlLm5leHRBbGwoIi51aS1tZW51LWl0ZW0iKTppO2kubGVuZ3RofHwocj1TdHJpbmcuZnJvbUNoYXJDb2RlKHQua2V5Q29kZSksaT10aGlzLl9maWx0ZXJNZW51SXRlbXMocikpO2kubGVuZ3RoPyh0aGlzLmZvY3VzKHQsaSksdGhpcy5wcmV2aW91c0ZpbHRlcj1yLHRoaXMuZmlsdGVyVGltZXI9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5wcmV2aW91c0ZpbHRlcn0sMWUzKSk6ZGVsZXRlIHRoaXMucHJldmlvdXNGaWx0ZXJ9ZSYmdC5wcmV2ZW50RGVmYXVsdCgpfSxfYWN0aXZhdGU6ZnVuY3Rpb24obil7dGhpcy5hY3RpdmUmJiF0aGlzLmFjdGl2ZS5pcygiLnVpLXN0YXRlLWRpc2FibGVkIikmJih0aGlzLmFjdGl2ZS5jaGlsZHJlbigiW2FyaWEtaGFzcG9wdXA9J3RydWUnXSIpLmxlbmd0aD90aGlzLmV4cGFuZChuKTp0aGlzLnNlbGVjdChuKSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdSx0LGYsaSxlLHI9dGhpcyxzPXRoaXMub3B0aW9ucy5pY29ucy5zdWJtZW51LG89dGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLm1lbnVzKTt0aGlzLl90b2dnbGVDbGFzcygidWktbWVudS1pY29ucyIsbnVsbCwhIXRoaXMuZWxlbWVudC5maW5kKCIudWktaWNvbiIpLmxlbmd0aCk7Zj1vLmZpbHRlcigiOm5vdCgudWktbWVudSkiKS5oaWRlKCkuYXR0cih7cm9sZTp0aGlzLm9wdGlvbnMucm9sZSwiYXJpYS1oaWRkZW4iOiJ0cnVlIiwiYXJpYS1leHBhbmRlZCI6ImZhbHNlIn0pLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLGk9dC5wcmV2KCksdT1uKCI8c3Bhbj4iKS5kYXRhKCJ1aS1tZW51LXN1Ym1lbnUtY2FyZXQiLCEwKTtyLl9hZGRDbGFzcyh1LCJ1aS1tZW51LWljb24iLCJ1aS1pY29uICIrcyk7aS5hdHRyKCJhcmlhLWhhc3BvcHVwIiwidHJ1ZSIpLnByZXBlbmQodSk7dC5hdHRyKCJhcmlhLWxhYmVsbGVkYnkiLGkuYXR0cigiaWQiKSl9KTt0aGlzLl9hZGRDbGFzcyhmLCJ1aS1tZW51IiwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWZyb250Iik7dT1vLmFkZCh0aGlzLmVsZW1lbnQpO3Q9dS5maW5kKHRoaXMub3B0aW9ucy5pdGVtcyk7dC5ub3QoIi51aS1tZW51LWl0ZW0iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTtyLl9pc0RpdmlkZXIodCkmJnIuX2FkZENsYXNzKHQsInVpLW1lbnUtZGl2aWRlciIsInVpLXdpZGdldC1jb250ZW50Iil9KTtpPXQubm90KCIudWktbWVudS1pdGVtLCAudWktbWVudS1kaXZpZGVyIik7ZT1pLmNoaWxkcmVuKCkubm90KCIudWktbWVudSIpLnVuaXF1ZUlkKCkuYXR0cih7dGFiSW5kZXg6LTEscm9sZTp0aGlzLl9pdGVtUm9sZSgpfSk7dGhpcy5fYWRkQ2xhc3MoaSwidWktbWVudS1pdGVtIikuX2FkZENsYXNzKGUsInVpLW1lbnUtaXRlbS13cmFwcGVyIik7dC5maWx0ZXIoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJ0cnVlIik7dGhpcy5hY3RpdmUmJiFuLmNvbnRhaW5zKHRoaXMuZWxlbWVudFswXSx0aGlzLmFjdGl2ZVswXSkmJnRoaXMuYmx1cigpfSxfaXRlbVJvbGU6ZnVuY3Rpb24oKXtyZXR1cm57bWVudToibWVudWl0ZW0iLGxpc3Rib3g6Im9wdGlvbiJ9W3RoaXMub3B0aW9ucy5yb2xlXX0sX3NldE9wdGlvbjpmdW5jdGlvbihuLHQpe2lmKCJpY29ucyI9PT1uKXt2YXIgaT10aGlzLmVsZW1lbnQuZmluZCgiLnVpLW1lbnUtaWNvbiIpO3RoaXMuX3JlbW92ZUNsYXNzKGksbnVsbCx0aGlzLm9wdGlvbnMuaWNvbnMuc3VibWVudSkuX2FkZENsYXNzKGksbnVsbCx0LnN1Ym1lbnUpfXRoaXMuX3N1cGVyKG4sdCl9LF9zZXRPcHRpb25EaXNhYmxlZDpmdW5jdGlvbihuKXt0aGlzLl9zdXBlcihuKTt0aGlzLmVsZW1lbnQuYXR0cigiYXJpYS1kaXNhYmxlZCIsbisiIik7dGhpcy5fdG9nZ2xlQ2xhc3MobnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLCEhbil9LGZvY3VzOmZ1bmN0aW9uKG4sdCl7dmFyIGkscix1O3RoaXMuYmx1cihuLG4mJiJmb2N1cyI9PT1uLnR5cGUpO3RoaXMuX3Njcm9sbEludG9WaWV3KHQpO3RoaXMuYWN0aXZlPXQuZmlyc3QoKTtyPXRoaXMuYWN0aXZlLmNoaWxkcmVuKCIudWktbWVudS1pdGVtLXdyYXBwZXIiKTt0aGlzLl9hZGRDbGFzcyhyLG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpO3RoaXMub3B0aW9ucy5yb2xlJiZ0aGlzLmVsZW1lbnQuYXR0cigiYXJpYS1hY3RpdmVkZXNjZW5kYW50IixyLmF0dHIoImlkIikpO3U9dGhpcy5hY3RpdmUucGFyZW50KCkuY2xvc2VzdCgiLnVpLW1lbnUtaXRlbSIpLmNoaWxkcmVuKCIudWktbWVudS1pdGVtLXdyYXBwZXIiKTt0aGlzLl9hZGRDbGFzcyh1LG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpO24mJiJrZXlkb3duIj09PW4udHlwZT90aGlzLl9jbG9zZSgpOnRoaXMudGltZXI9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLl9jbG9zZSgpfSx0aGlzLmRlbGF5KTtpPXQuY2hpbGRyZW4oIi51aS1tZW51Iik7aS5sZW5ndGgmJm4mJi9ebW91c2UvLnRlc3Qobi50eXBlKSYmdGhpcy5fc3RhcnRPcGVuaW5nKGkpO3RoaXMuYWN0aXZlTWVudT10LnBhcmVudCgpO3RoaXMuX3RyaWdnZXIoImZvY3VzIixuLHtpdGVtOnR9KX0sX3Njcm9sbEludG9WaWV3OmZ1bmN0aW9uKHQpe3ZhciBlLG8saSxyLHUsZjt0aGlzLl9oYXNTY3JvbGwoKSYmKGU9cGFyc2VGbG9hdChuLmNzcyh0aGlzLmFjdGl2ZU1lbnVbMF0sImJvcmRlclRvcFdpZHRoIikpfHwwLG89cGFyc2VGbG9hdChuLmNzcyh0aGlzLmFjdGl2ZU1lbnVbMF0sInBhZGRpbmdUb3AiKSl8fDAsaT10Lm9mZnNldCgpLnRvcC10aGlzLmFjdGl2ZU1lbnUub2Zmc2V0KCkudG9wLWUtbyxyPXRoaXMuYWN0aXZlTWVudS5zY3JvbGxUb3AoKSx1PXRoaXMuYWN0aXZlTWVudS5oZWlnaHQoKSxmPXQub3V0ZXJIZWlnaHQoKSwwPmk/dGhpcy5hY3RpdmVNZW51LnNjcm9sbFRvcChyK2kpOmkrZj51JiZ0aGlzLmFjdGl2ZU1lbnUuc2Nyb2xsVG9wKHIraS11K2YpKX0sYmx1cjpmdW5jdGlvbihuLHQpe3R8fGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTt0aGlzLmFjdGl2ZSYmKHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuYWN0aXZlLmNoaWxkcmVuKCIudWktbWVudS1pdGVtLXdyYXBwZXIiKSxudWxsLCJ1aS1zdGF0ZS1hY3RpdmUiKSx0aGlzLl90cmlnZ2VyKCJibHVyIixuLHtpdGVtOnRoaXMuYWN0aXZlfSksdGhpcy5hY3RpdmU9bnVsbCl9LF9zdGFydE9wZW5pbmc6ZnVuY3Rpb24obil7Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpOyJ0cnVlIj09PW4uYXR0cigiYXJpYS1oaWRkZW4iKSYmKHRoaXMudGltZXI9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLl9jbG9zZSgpO3RoaXMuX29wZW4obil9LHRoaXMuZGVsYXkpKX0sX29wZW46ZnVuY3Rpb24odCl7dmFyIGk9bi5leHRlbmQoeyJvZiI6dGhpcy5hY3RpdmV9LHRoaXMub3B0aW9ucy5wb3NpdGlvbik7Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO3RoaXMuZWxlbWVudC5maW5kKCIudWktbWVudSIpLm5vdCh0LnBhcmVudHMoIi51aS1tZW51IikpLmhpZGUoKS5hdHRyKCJhcmlhLWhpZGRlbiIsInRydWUiKTt0LnNob3coKS5yZW1vdmVBdHRyKCJhcmlhLWhpZGRlbiIpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCJ0cnVlIikucG9zaXRpb24oaSl9LGNvbGxhcHNlQWxsOmZ1bmN0aW9uKHQsaSl7Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO3RoaXMudGltZXI9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt2YXIgcj1pP3RoaXMuZWxlbWVudDpuKHQmJnQudGFyZ2V0KS5jbG9zZXN0KHRoaXMuZWxlbWVudC5maW5kKCIudWktbWVudSIpKTtyLmxlbmd0aHx8KHI9dGhpcy5lbGVtZW50KTt0aGlzLl9jbG9zZShyKTt0aGlzLmJsdXIodCk7dGhpcy5fcmVtb3ZlQ2xhc3Moci5maW5kKCIudWktc3RhdGUtYWN0aXZlIiksbnVsbCwidWktc3RhdGUtYWN0aXZlIik7dGhpcy5hY3RpdmVNZW51PXJ9LHRoaXMuZGVsYXkpfSxfY2xvc2U6ZnVuY3Rpb24obil7bnx8KG49dGhpcy5hY3RpdmU/dGhpcy5hY3RpdmUucGFyZW50KCk6dGhpcy5lbGVtZW50KTtuLmZpbmQoIi51aS1tZW51IikuaGlkZSgpLmF0dHIoImFyaWEtaGlkZGVuIiwidHJ1ZSIpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCJmYWxzZSIpfSxfY2xvc2VPbkRvY3VtZW50Q2xpY2s6ZnVuY3Rpb24odCl7cmV0dXJuIW4odC50YXJnZXQpLmNsb3Nlc3QoIi51aS1tZW51IikubGVuZ3RofSxfaXNEaXZpZGVyOmZ1bmN0aW9uKG4pe3JldHVybiEvW15cLVx1MjAxNFx1MjAxM1xzXS8udGVzdChuLnRleHQoKSl9LGNvbGxhcHNlOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuYWN0aXZlJiZ0aGlzLmFjdGl2ZS5wYXJlbnQoKS5jbG9zZXN0KCIudWktbWVudS1pdGVtIix0aGlzLmVsZW1lbnQpO3QmJnQubGVuZ3RoJiYodGhpcy5fY2xvc2UoKSx0aGlzLmZvY3VzKG4sdCkpfSxleHBhbmQ6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5hY3RpdmUmJnRoaXMuYWN0aXZlLmNoaWxkcmVuKCIudWktbWVudSAiKS5maW5kKHRoaXMub3B0aW9ucy5pdGVtcykuZmlyc3QoKTt0JiZ0Lmxlbmd0aCYmKHRoaXMuX29wZW4odC5wYXJlbnQoKSksdGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLmZvY3VzKG4sdCl9KSl9LG5leHQ6ZnVuY3Rpb24obil7dGhpcy5fbW92ZSgibmV4dCIsImZpcnN0IixuKX0scHJldmlvdXM6ZnVuY3Rpb24obil7dGhpcy5fbW92ZSgicHJldiIsImxhc3QiLG4pfSxpc0ZpcnN0SXRlbTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjdGl2ZSYmIXRoaXMuYWN0aXZlLnByZXZBbGwoIi51aS1tZW51LWl0ZW0iKS5sZW5ndGh9LGlzTGFzdEl0ZW06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmUmJiF0aGlzLmFjdGl2ZS5uZXh0QWxsKCIudWktbWVudS1pdGVtIikubGVuZ3RofSxfbW92ZTpmdW5jdGlvbihuLHQsaSl7dmFyIHI7dGhpcy5hY3RpdmUmJihyPSJmaXJzdCI9PT1ufHwibGFzdCI9PT1uP3RoaXMuYWN0aXZlWyJmaXJzdCI9PT1uPyJwcmV2QWxsIjoibmV4dEFsbCJdKCIudWktbWVudS1pdGVtIikuZXEoLTEpOnRoaXMuYWN0aXZlW24rIkFsbCJdKCIudWktbWVudS1pdGVtIikuZXEoMCkpO3ImJnIubGVuZ3RoJiZ0aGlzLmFjdGl2ZXx8KHI9dGhpcy5hY3RpdmVNZW51LmZpbmQodGhpcy5vcHRpb25zLml0ZW1zKVt0XSgpKTt0aGlzLmZvY3VzKGkscil9LG5leHRQYWdlOmZ1bmN0aW9uKHQpe3ZhciBpLHIsdTtyZXR1cm4gdGhpcy5hY3RpdmU/KHRoaXMuaXNMYXN0SXRlbSgpfHwodGhpcy5faGFzU2Nyb2xsKCk/KHI9dGhpcy5hY3RpdmUub2Zmc2V0KCkudG9wLHU9dGhpcy5lbGVtZW50LmhlaWdodCgpLHRoaXMuYWN0aXZlLm5leHRBbGwoIi51aS1tZW51LWl0ZW0iKS5lYWNoKGZ1bmN0aW9uKCl7cmV0dXJuIGk9bih0aGlzKSwwPmkub2Zmc2V0KCkudG9wLXItdX0pLHRoaXMuZm9jdXModCxpKSk6dGhpcy5mb2N1cyh0LHRoaXMuYWN0aXZlTWVudS5maW5kKHRoaXMub3B0aW9ucy5pdGVtcylbdGhpcy5hY3RpdmU/Imxhc3QiOiJmaXJzdCJdKCkpKSx2b2lkIDApOih0aGlzLm5leHQodCksdm9pZCAwKX0scHJldmlvdXNQYWdlOmZ1bmN0aW9uKHQpe3ZhciBpLHIsdTtyZXR1cm4gdGhpcy5hY3RpdmU/KHRoaXMuaXNGaXJzdEl0ZW0oKXx8KHRoaXMuX2hhc1Njcm9sbCgpPyhyPXRoaXMuYWN0aXZlLm9mZnNldCgpLnRvcCx1PXRoaXMuZWxlbWVudC5oZWlnaHQoKSx0aGlzLmFjdGl2ZS5wcmV2QWxsKCIudWktbWVudS1pdGVtIikuZWFjaChmdW5jdGlvbigpe3JldHVybiBpPW4odGhpcyksaS5vZmZzZXQoKS50b3Atcit1PjB9KSx0aGlzLmZvY3VzKHQsaSkpOnRoaXMuZm9jdXModCx0aGlzLmFjdGl2ZU1lbnUuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpLmZpcnN0KCkpKSx2b2lkIDApOih0aGlzLm5leHQodCksdm9pZCAwKX0sX2hhc1Njcm9sbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKTx0aGlzLmVsZW1lbnQucHJvcCgic2Nyb2xsSGVpZ2h0Iil9LHNlbGVjdDpmdW5jdGlvbih0KXt0aGlzLmFjdGl2ZT10aGlzLmFjdGl2ZXx8bih0LnRhcmdldCkuY2xvc2VzdCgiLnVpLW1lbnUtaXRlbSIpO3ZhciBpPXtpdGVtOnRoaXMuYWN0aXZlfTt0aGlzLmFjdGl2ZS5oYXMoIi51aS1tZW51IikubGVuZ3RofHx0aGlzLmNvbGxhcHNlQWxsKHQsITApO3RoaXMuX3RyaWdnZXIoInNlbGVjdCIsdCxpKX0sX2ZpbHRlck1lbnVJdGVtczpmdW5jdGlvbih0KXt2YXIgaT10LnJlcGxhY2UoL1tcLVxbXF17fSgpKis/LixcXFxeJHwjXHNdL2csIlxcJCYiKSxyPVJlZ0V4cCgiXiIraSwiaSIpO3JldHVybiB0aGlzLmFjdGl2ZU1lbnUuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpLmZpbHRlcigiLnVpLW1lbnUtaXRlbSIpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiByLnRlc3Qobi50cmltKG4odGhpcykuY2hpbGRyZW4oIi51aS1tZW51LWl0ZW0td3JhcHBlciIpLnRleHQoKSkpfSl9fSk7bi53aWRnZXQoInVpLmF1dG9jb21wbGV0ZSIse3ZlcnNpb246IjEuMTIuMSIsZGVmYXVsdEVsZW1lbnQ6IjxpbnB1dD4iLG9wdGlvbnM6e2FwcGVuZFRvOm51bGwsYXV0b0ZvY3VzOiExLGRlbGF5OjMwMCxtaW5MZW5ndGg6MSxwb3NpdGlvbjp7bXk6ImxlZnQgdG9wIixhdDoibGVmdCBib3R0b20iLGNvbGxpc2lvbjoibm9uZSJ9LHNvdXJjZTpudWxsLGNoYW5nZTpudWxsLGNsb3NlOm51bGwsZm9jdXM6bnVsbCxvcGVuOm51bGwscmVzcG9uc2U6bnVsbCxzZWFyY2g6bnVsbCxzZWxlY3Q6bnVsbH0scmVxdWVzdEluZGV4OjAscGVuZGluZzowLF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdCxpLHIsdT10aGlzLmVsZW1lbnRbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxmPSJ0ZXh0YXJlYSI9PT11LGU9ImlucHV0Ij09PXU7dGhpcy5pc011bHRpTGluZT1mfHwhZSYmdGhpcy5faXNDb250ZW50RWRpdGFibGUodGhpcy5lbGVtZW50KTt0aGlzLnZhbHVlTWV0aG9kPXRoaXMuZWxlbWVudFtmfHxlPyJ2YWwiOiJ0ZXh0Il07dGhpcy5pc05ld01lbnU9ITA7dGhpcy5fYWRkQ2xhc3MoInVpLWF1dG9jb21wbGV0ZS1pbnB1dCIpO3RoaXMuZWxlbWVudC5hdHRyKCJhdXRvY29tcGxldGUiLCJvZmYiKTt0aGlzLl9vbih0aGlzLmVsZW1lbnQse2tleWRvd246ZnVuY3Rpb24odSl7aWYodGhpcy5lbGVtZW50LnByb3AoInJlYWRPbmx5IikpcmV0dXJuIHQ9ITAscj0hMCxpPSEwLHZvaWQgMDt0PSExO3I9ITE7aT0hMTt2YXIgZj1uLnVpLmtleUNvZGU7c3dpdGNoKHUua2V5Q29kZSl7Y2FzZSBmLlBBR0VfVVA6dD0hMDt0aGlzLl9tb3ZlKCJwcmV2aW91c1BhZ2UiLHUpO2JyZWFrO2Nhc2UgZi5QQUdFX0RPV046dD0hMDt0aGlzLl9tb3ZlKCJuZXh0UGFnZSIsdSk7YnJlYWs7Y2FzZSBmLlVQOnQ9ITA7dGhpcy5fa2V5RXZlbnQoInByZXZpb3VzIix1KTticmVhaztjYXNlIGYuRE9XTjp0PSEwO3RoaXMuX2tleUV2ZW50KCJuZXh0Iix1KTticmVhaztjYXNlIGYuRU5URVI6dGhpcy5tZW51LmFjdGl2ZSYmKHQ9ITAsdS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMubWVudS5zZWxlY3QodSkpO2JyZWFrO2Nhc2UgZi5UQUI6dGhpcy5tZW51LmFjdGl2ZSYmdGhpcy5tZW51LnNlbGVjdCh1KTticmVhaztjYXNlIGYuRVNDQVBFOnRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpJiYodGhpcy5pc011bHRpTGluZXx8dGhpcy5fdmFsdWUodGhpcy50ZXJtKSx0aGlzLmNsb3NlKHUpLHUucHJldmVudERlZmF1bHQoKSk7YnJlYWs7ZGVmYXVsdDppPSEwO3RoaXMuX3NlYXJjaFRpbWVvdXQodSl9fSxrZXlwcmVzczpmdW5jdGlvbihyKXtpZih0KXJldHVybiB0PSExLCghdGhpcy5pc011bHRpTGluZXx8dGhpcy5tZW51LmVsZW1lbnQuaXMoIjp2aXNpYmxlIikpJiZyLnByZXZlbnREZWZhdWx0KCksdm9pZCAwO2lmKCFpKXt2YXIgdT1uLnVpLmtleUNvZGU7c3dpdGNoKHIua2V5Q29kZSl7Y2FzZSB1LlBBR0VfVVA6dGhpcy5fbW92ZSgicHJldmlvdXNQYWdlIixyKTticmVhaztjYXNlIHUuUEFHRV9ET1dOOnRoaXMuX21vdmUoIm5leHRQYWdlIixyKTticmVhaztjYXNlIHUuVVA6dGhpcy5fa2V5RXZlbnQoInByZXZpb3VzIixyKTticmVhaztjYXNlIHUuRE9XTjp0aGlzLl9rZXlFdmVudCgibmV4dCIscil9fX0saW5wdXQ6ZnVuY3Rpb24obil7cmV0dXJuIHI/KHI9ITEsbi5wcmV2ZW50RGVmYXVsdCgpLHZvaWQgMCk6KHRoaXMuX3NlYXJjaFRpbWVvdXQobiksdm9pZCAwKX0sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVkSXRlbT1udWxsO3RoaXMucHJldmlvdXM9dGhpcy5fdmFsdWUoKX0sYmx1cjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5jYW5jZWxCbHVyPyhkZWxldGUgdGhpcy5jYW5jZWxCbHVyLHZvaWQgMCk6KGNsZWFyVGltZW91dCh0aGlzLnNlYXJjaGluZyksdGhpcy5jbG9zZShuKSx0aGlzLl9jaGFuZ2Uobiksdm9pZCAwKX19KTt0aGlzLl9pbml0U291cmNlKCk7dGhpcy5tZW51PW4oIjx1bD4iKS5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKS5tZW51KHtyb2xlOm51bGx9KS5oaWRlKCkubWVudSgiaW5zdGFuY2UiKTt0aGlzLl9hZGRDbGFzcyh0aGlzLm1lbnUuZWxlbWVudCwidWktYXV0b2NvbXBsZXRlIiwidWktZnJvbnQiKTt0aGlzLl9vbih0aGlzLm1lbnUuZWxlbWVudCx7bW91c2Vkb3duOmZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTt0aGlzLmNhbmNlbEJsdXI9ITA7dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5jYW5jZWxCbHVyO3RoaXMuZWxlbWVudFswXSE9PW4udWkuc2FmZUFjdGl2ZUVsZW1lbnQodGhpcy5kb2N1bWVudFswXSkmJnRoaXMuZWxlbWVudC50cmlnZ2VyKCJmb2N1cyIpfSl9LG1lbnVmb2N1czpmdW5jdGlvbih0LGkpe3ZhciByLHU7cmV0dXJuIHRoaXMuaXNOZXdNZW51JiYodGhpcy5pc05ld01lbnU9ITEsdC5vcmlnaW5hbEV2ZW50JiYvXm1vdXNlLy50ZXN0KHQub3JpZ2luYWxFdmVudC50eXBlKSk/KHRoaXMubWVudS5ibHVyKCksdGhpcy5kb2N1bWVudC5vbmUoIm1vdXNlbW92ZSIsZnVuY3Rpb24oKXtuKHQudGFyZ2V0KS50cmlnZ2VyKHQub3JpZ2luYWxFdmVudCl9KSx2b2lkIDApOih1PWkuaXRlbS5kYXRhKCJ1aS1hdXRvY29tcGxldGUtaXRlbSIpLCExIT09dGhpcy5fdHJpZ2dlcigiZm9jdXMiLHQse2l0ZW06dX0pJiZ0Lm9yaWdpbmFsRXZlbnQmJi9ea2V5Ly50ZXN0KHQub3JpZ2luYWxFdmVudC50eXBlKSYmdGhpcy5fdmFsdWUodS52YWx1ZSkscj1pLml0ZW0uYXR0cigiYXJpYS1sYWJlbCIpfHx1LnZhbHVlLHImJm4udHJpbShyKS5sZW5ndGgmJih0aGlzLmxpdmVSZWdpb24uY2hpbGRyZW4oKS5oaWRlKCksbigiPGRpdj4iKS50ZXh0KHIpLmFwcGVuZFRvKHRoaXMubGl2ZVJlZ2lvbikpLHZvaWQgMCl9LG1lbnVzZWxlY3Q6ZnVuY3Rpb24odCxpKXt2YXIgcj1pLml0ZW0uZGF0YSgidWktYXV0b2NvbXBsZXRlLWl0ZW0iKSx1PXRoaXMucHJldmlvdXM7dGhpcy5lbGVtZW50WzBdIT09bi51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKSYmKHRoaXMuZWxlbWVudC50cmlnZ2VyKCJmb2N1cyIpLHRoaXMucHJldmlvdXM9dSx0aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMucHJldmlvdXM9dTt0aGlzLnNlbGVjdGVkSXRlbT1yfSkpOyExIT09dGhpcy5fdHJpZ2dlcigic2VsZWN0Iix0LHtpdGVtOnJ9KSYmdGhpcy5fdmFsdWUoci52YWx1ZSk7dGhpcy50ZXJtPXRoaXMuX3ZhbHVlKCk7dGhpcy5jbG9zZSh0KTt0aGlzLnNlbGVjdGVkSXRlbT1yfX0pO3RoaXMubGl2ZVJlZ2lvbj1uKCI8ZGl2PiIse3JvbGU6InN0YXR1cyIsImFyaWEtbGl2ZSI6ImFzc2VydGl2ZSIsImFyaWEtcmVsZXZhbnQiOiJhZGRpdGlvbnMifSkuYXBwZW5kVG8odGhpcy5kb2N1bWVudFswXS5ib2R5KTt0aGlzLl9hZGRDbGFzcyh0aGlzLmxpdmVSZWdpb24sbnVsbCwidWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlIik7dGhpcy5fb24odGhpcy53aW5kb3cse2JlZm9yZXVubG9hZDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJhdXRvY29tcGxldGUiKX19KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5zZWFyY2hpbmcpO3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJhdXRvY29tcGxldGUiKTt0aGlzLm1lbnUuZWxlbWVudC5yZW1vdmUoKTt0aGlzLmxpdmVSZWdpb24ucmVtb3ZlKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXt0aGlzLl9zdXBlcihuLHQpOyJzb3VyY2UiPT09biYmdGhpcy5faW5pdFNvdXJjZSgpOyJhcHBlbmRUbyI9PT1uJiZ0aGlzLm1lbnUuZWxlbWVudC5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKTsiZGlzYWJsZWQiPT09biYmdCYmdGhpcy54aHImJnRoaXMueGhyLmFib3J0KCl9LF9pc0V2ZW50VGFyZ2V0SW5XaWRnZXQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5tZW51LmVsZW1lbnRbMF07cmV0dXJuIHQudGFyZ2V0PT09dGhpcy5lbGVtZW50WzBdfHx0LnRhcmdldD09PWl8fG4uY29udGFpbnMoaSx0LnRhcmdldCl9LF9jbG9zZU9uQ2xpY2tPdXRzaWRlOmZ1bmN0aW9uKG4pe3RoaXMuX2lzRXZlbnRUYXJnZXRJbldpZGdldChuKXx8dGhpcy5jbG9zZSgpfSxfYXBwZW5kVG86ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMuYXBwZW5kVG87cmV0dXJuIHQmJih0PXQuanF1ZXJ5fHx0Lm5vZGVUeXBlP24odCk6dGhpcy5kb2N1bWVudC5maW5kKHQpLmVxKDApKSx0JiZ0WzBdfHwodD10aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLWZyb250LCBkaWFsb2ciKSksdC5sZW5ndGh8fCh0PXRoaXMuZG9jdW1lbnRbMF0uYm9keSksdH0sX2luaXRTb3VyY2U6ZnVuY3Rpb24oKXt2YXIgaSxyLHQ9dGhpcztuLmlzQXJyYXkodGhpcy5vcHRpb25zLnNvdXJjZSk/KGk9dGhpcy5vcHRpb25zLnNvdXJjZSx0aGlzLnNvdXJjZT1mdW5jdGlvbih0LHIpe3Iobi51aS5hdXRvY29tcGxldGUuZmlsdGVyKGksdC50ZXJtKSl9KToic3RyaW5nIj09dHlwZW9mIHRoaXMub3B0aW9ucy5zb3VyY2U/KHI9dGhpcy5vcHRpb25zLnNvdXJjZSx0aGlzLnNvdXJjZT1mdW5jdGlvbihpLHUpe3QueGhyJiZ0Lnhoci5hYm9ydCgpO3QueGhyPW4uYWpheCh7dXJsOnIsZGF0YTppLGRhdGFUeXBlOiJqc29uIixzdWNjZXNzOmZ1bmN0aW9uKG4pe3Uobil9LGVycm9yOmZ1bmN0aW9uKCl7dShbXSl9fSl9KTp0aGlzLnNvdXJjZT10aGlzLm9wdGlvbnMuc291cmNlfSxfc2VhcmNoVGltZW91dDpmdW5jdGlvbihuKXtjbGVhclRpbWVvdXQodGhpcy5zZWFyY2hpbmcpO3RoaXMuc2VhcmNoaW5nPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50ZXJtPT09dGhpcy5fdmFsdWUoKSxpPXRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpLHI9bi5hbHRLZXl8fG4uY3RybEtleXx8bi5tZXRhS2V5fHxuLnNoaWZ0S2V5O3QmJighdHx8aXx8cil8fCh0aGlzLnNlbGVjdGVkSXRlbT1udWxsLHRoaXMuc2VhcmNoKG51bGwsbikpfSx0aGlzLm9wdGlvbnMuZGVsYXkpfSxzZWFyY2g6ZnVuY3Rpb24obix0KXtyZXR1cm4gbj1udWxsIT1uP246dGhpcy5fdmFsdWUoKSx0aGlzLnRlcm09dGhpcy5fdmFsdWUoKSxuLmxlbmd0aDx0aGlzLm9wdGlvbnMubWluTGVuZ3RoP3RoaXMuY2xvc2UodCk6dGhpcy5fdHJpZ2dlcigic2VhcmNoIix0KSE9PSExP3RoaXMuX3NlYXJjaChuKTp2b2lkIDB9LF9zZWFyY2g6ZnVuY3Rpb24obil7dGhpcy5wZW5kaW5nKys7dGhpcy5fYWRkQ2xhc3MoInVpLWF1dG9jb21wbGV0ZS1sb2FkaW5nIik7dGhpcy5jYW5jZWxTZWFyY2g9ITE7dGhpcy5zb3VyY2Uoe3Rlcm06bn0sdGhpcy5fcmVzcG9uc2UoKSl9LF9yZXNwb25zZTpmdW5jdGlvbigpe3ZhciB0PSsrdGhpcy5yZXF1ZXN0SW5kZXg7cmV0dXJuIG4ucHJveHkoZnVuY3Rpb24obil7dD09PXRoaXMucmVxdWVzdEluZGV4JiZ0aGlzLl9fcmVzcG9uc2Uobik7dGhpcy5wZW5kaW5nLS07dGhpcy5wZW5kaW5nfHx0aGlzLl9yZW1vdmVDbGFzcygidWktYXV0b2NvbXBsZXRlLWxvYWRpbmciKX0sdGhpcyl9LF9fcmVzcG9uc2U6ZnVuY3Rpb24obil7biYmKG49dGhpcy5fbm9ybWFsaXplKG4pKTt0aGlzLl90cmlnZ2VyKCJyZXNwb25zZSIsbnVsbCx7Y29udGVudDpufSk7IXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmbiYmbi5sZW5ndGgmJiF0aGlzLmNhbmNlbFNlYXJjaD8odGhpcy5fc3VnZ2VzdChuKSx0aGlzLl90cmlnZ2VyKCJvcGVuIikpOnRoaXMuX2Nsb3NlKCl9LGNsb3NlOmZ1bmN0aW9uKG4pe3RoaXMuY2FuY2VsU2VhcmNoPSEwO3RoaXMuX2Nsb3NlKG4pfSxfY2xvc2U6ZnVuY3Rpb24obil7dGhpcy5fb2ZmKHRoaXMuZG9jdW1lbnQsIm1vdXNlZG93biIpO3RoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpJiYodGhpcy5tZW51LmVsZW1lbnQuaGlkZSgpLHRoaXMubWVudS5ibHVyKCksdGhpcy5pc05ld01lbnU9ITAsdGhpcy5fdHJpZ2dlcigiY2xvc2UiLG4pKX0sX2NoYW5nZTpmdW5jdGlvbihuKXt0aGlzLnByZXZpb3VzIT09dGhpcy5fdmFsdWUoKSYmdGhpcy5fdHJpZ2dlcigiY2hhbmdlIixuLHtpdGVtOnRoaXMuc2VsZWN0ZWRJdGVtfSl9LF9ub3JtYWxpemU6ZnVuY3Rpb24odCl7cmV0dXJuIHQubGVuZ3RoJiZ0WzBdLmxhYmVsJiZ0WzBdLnZhbHVlP3Q6bi5tYXAodCxmdW5jdGlvbih0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/e2xhYmVsOnQsdmFsdWU6dH06bi5leHRlbmQoe30sdCx7bGFiZWw6dC5sYWJlbHx8dC52YWx1ZSx2YWx1ZTp0LnZhbHVlfHx0LmxhYmVsfSl9KX0sX3N1Z2dlc3Q6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5tZW51LmVsZW1lbnQuZW1wdHkoKTt0aGlzLl9yZW5kZXJNZW51KGksdCk7dGhpcy5pc05ld01lbnU9ITA7dGhpcy5tZW51LnJlZnJlc2goKTtpLnNob3coKTt0aGlzLl9yZXNpemVNZW51KCk7aS5wb3NpdGlvbihuLmV4dGVuZCh7Im9mIjp0aGlzLmVsZW1lbnR9LHRoaXMub3B0aW9ucy5wb3NpdGlvbikpO3RoaXMub3B0aW9ucy5hdXRvRm9jdXMmJnRoaXMubWVudS5uZXh0KCk7dGhpcy5fb24odGhpcy5kb2N1bWVudCx7bW91c2Vkb3duOiJfY2xvc2VPbkNsaWNrT3V0c2lkZSJ9KX0sX3Jlc2l6ZU1lbnU6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm1lbnUuZWxlbWVudDtuLm91dGVyV2lkdGgoTWF0aC5tYXgobi53aWR0aCgiIikub3V0ZXJXaWR0aCgpKzEsdGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKSkpfSxfcmVuZGVyTWVudTpmdW5jdGlvbih0LGkpe3ZhciByPXRoaXM7bi5lYWNoKGksZnVuY3Rpb24obixpKXtyLl9yZW5kZXJJdGVtRGF0YSh0LGkpfSl9LF9yZW5kZXJJdGVtRGF0YTpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLl9yZW5kZXJJdGVtKG4sdCkuZGF0YSgidWktYXV0b2NvbXBsZXRlLWl0ZW0iLHQpfSxfcmVuZGVySXRlbTpmdW5jdGlvbih0LGkpe3JldHVybiBuKCI8bGk+IikuYXBwZW5kKG4oIjxkaXY+IikudGV4dChpLmxhYmVsKSkuYXBwZW5kVG8odCl9LF9tb3ZlOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpP3RoaXMubWVudS5pc0ZpcnN0SXRlbSgpJiYvXnByZXZpb3VzLy50ZXN0KG4pfHx0aGlzLm1lbnUuaXNMYXN0SXRlbSgpJiYvXm5leHQvLnRlc3Qobik/KHRoaXMuaXNNdWx0aUxpbmV8fHRoaXMuX3ZhbHVlKHRoaXMudGVybSksdGhpcy5tZW51LmJsdXIoKSx2b2lkIDApOih0aGlzLm1lbnVbbl0odCksdm9pZCAwKToodGhpcy5zZWFyY2gobnVsbCx0KSx2b2lkIDApfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZW51LmVsZW1lbnR9LF92YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlTWV0aG9kLmFwcGx5KHRoaXMuZWxlbWVudCxhcmd1bWVudHMpfSxfa2V5RXZlbnQ6ZnVuY3Rpb24obix0KXsoIXRoaXMuaXNNdWx0aUxpbmV8fHRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpKSYmKHRoaXMuX21vdmUobix0KSx0LnByZXZlbnREZWZhdWx0KCkpfSxfaXNDb250ZW50RWRpdGFibGU6ZnVuY3Rpb24obil7aWYoIW4ubGVuZ3RoKXJldHVybiExO3ZhciB0PW4ucHJvcCgiY29udGVudEVkaXRhYmxlIik7cmV0dXJuImluaGVyaXQiPT09dD90aGlzLl9pc0NvbnRlbnRFZGl0YWJsZShuLnBhcmVudCgpKToidHJ1ZSI9PT10fX0pO24uZXh0ZW5kKG4udWkuYXV0b2NvbXBsZXRlLHtlc2NhcGVSZWdleDpmdW5jdGlvbihuKXtyZXR1cm4gbi5yZXBsYWNlKC9bXC1cW1xde30oKSorPy4sXFxcXiR8I1xzXS9nLCJcXCQmIil9LGZpbHRlcjpmdW5jdGlvbih0LGkpe3ZhciByPVJlZ0V4cChuLnVpLmF1dG9jb21wbGV0ZS5lc2NhcGVSZWdleChpKSwiaSIpO3JldHVybiBuLmdyZXAodCxmdW5jdGlvbihuKXtyZXR1cm4gci50ZXN0KG4ubGFiZWx8fG4udmFsdWV8fG4pfSl9fSk7bi53aWRnZXQoInVpLmF1dG9jb21wbGV0ZSIsbi51aS5hdXRvY29tcGxldGUse29wdGlvbnM6e21lc3NhZ2VzOntub1Jlc3VsdHM6Ik5vIHNlYXJjaCByZXN1bHRzLiIscmVzdWx0czpmdW5jdGlvbihuKXtyZXR1cm4gbisobj4xPyIgcmVzdWx0cyBhcmUiOiIgcmVzdWx0IGlzIikrIiBhdmFpbGFibGUsIHVzZSB1cCBhbmQgZG93biBhcnJvdyBrZXlzIHRvIG5hdmlnYXRlLiJ9fX0sX19yZXNwb25zZTpmdW5jdGlvbih0KXt2YXIgaTt0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cyk7dGhpcy5vcHRpb25zLmRpc2FibGVkfHx0aGlzLmNhbmNlbFNlYXJjaHx8KGk9dCYmdC5sZW5ndGg/dGhpcy5vcHRpb25zLm1lc3NhZ2VzLnJlc3VsdHModC5sZW5ndGgpOnRoaXMub3B0aW9ucy5tZXNzYWdlcy5ub1Jlc3VsdHMsdGhpcy5saXZlUmVnaW9uLmNoaWxkcmVuKCkuaGlkZSgpLG4oIjxkaXY+IikudGV4dChpKS5hcHBlbmRUbyh0aGlzLmxpdmVSZWdpb24pKX19KTtuLnVpLmF1dG9jb21wbGV0ZTt3PS91aS1jb3JuZXItKFthLXpdKXsyLDZ9L2c7bi53aWRnZXQoInVpLmNvbnRyb2xncm91cCIse3ZlcnNpb246IjEuMTIuMSIsZGVmYXVsdEVsZW1lbnQ6IjxkaXY+IixvcHRpb25zOntkaXJlY3Rpb246Imhvcml6b250YWwiLGRpc2FibGVkOm51bGwsb25seVZpc2libGU6ITAsaXRlbXM6e2J1dHRvbjoiaW5wdXRbdHlwZT1idXR0b25dLCBpbnB1dFt0eXBlPXN1Ym1pdF0sIGlucHV0W3R5cGU9cmVzZXRdLCBidXR0b24sIGEiLGNvbnRyb2xncm91cExhYmVsOiIudWktY29udHJvbGdyb3VwLWxhYmVsIixjaGVja2JveHJhZGlvOiJpbnB1dFt0eXBlPSdjaGVja2JveCddLCBpbnB1dFt0eXBlPSdyYWRpbyddIixzZWxlY3RtZW51OiJzZWxlY3QiLHNwaW5uZXI6Ii51aS1zcGlubmVyLWlucHV0In19LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9lbmhhbmNlKCl9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoInJvbGUiLCJ0b29sYmFyIik7dGhpcy5yZWZyZXNoKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fY2FsbENoaWxkTWV0aG9kKCJkZXN0cm95Iik7dGhpcy5jaGlsZFdpZGdldHMucmVtb3ZlRGF0YSgidWktY29udHJvbGdyb3VwLWRhdGEiKTt0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cigicm9sZSIpO3RoaXMub3B0aW9ucy5pdGVtcy5jb250cm9sZ3JvdXBMYWJlbCYmdGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLml0ZW1zLmNvbnRyb2xncm91cExhYmVsKS5maW5kKCIudWktY29udHJvbGdyb3VwLWxhYmVsLWNvbnRlbnRzIikuY29udGVudHMoKS51bndyYXAoKX0sX2luaXRXaWRnZXRzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxpPVtdO24uZWFjaCh0aGlzLm9wdGlvbnMuaXRlbXMsZnVuY3Rpb24ocix1KXt2YXIgZixlPXt9O2lmKHUpcmV0dXJuImNvbnRyb2xncm91cExhYmVsIj09PXI/KGY9dC5lbGVtZW50LmZpbmQodSksZi5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTt0LmNoaWxkcmVuKCIudWktY29udHJvbGdyb3VwLWxhYmVsLWNvbnRlbnRzIikubGVuZ3RofHx0LmNvbnRlbnRzKCkud3JhcEFsbCgiPHNwYW4gY2xhc3M9J3VpLWNvbnRyb2xncm91cC1sYWJlbC1jb250ZW50cyc+PFwvc3Bhbj4iKX0pLHQuX2FkZENsYXNzKGYsbnVsbCwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLXN0YXRlLWRlZmF1bHQiKSxpPWkuY29uY2F0KGYuZ2V0KCkpLHZvaWQgMCk6KG4uZm5bcl0mJihlPXRbIl8iK3IrIk9wdGlvbnMiXT90WyJfIityKyJPcHRpb25zIl0oIm1pZGRsZSIpOntjbGFzc2VzOnt9fSx0LmVsZW1lbnQuZmluZCh1KS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHU9bih0aGlzKSxmPXVbcl0oImluc3RhbmNlIiksbz1uLndpZGdldC5leHRlbmQoe30sZSksczsiYnV0dG9uIj09PXImJnUucGFyZW50KCIudWktc3Bpbm5lciIpLmxlbmd0aHx8KGZ8fChmPXVbcl0oKVtyXSgiaW5zdGFuY2UiKSksZiYmKG8uY2xhc3Nlcz10Ll9yZXNvbHZlQ2xhc3Nlc1ZhbHVlcyhvLmNsYXNzZXMsZikpLHVbcl0obykscz11W3JdKCJ3aWRnZXQiKSxuLmRhdGEoc1swXSwidWktY29udHJvbGdyb3VwLWRhdGEiLGY/Zjp1W3JdKCJpbnN0YW5jZSIpKSxpLnB1c2goc1swXSkpfSkpLHZvaWQgMCl9KTt0aGlzLmNoaWxkV2lkZ2V0cz1uKG4udW5pcXVlKGkpKTt0aGlzLl9hZGRDbGFzcyh0aGlzLmNoaWxkV2lkZ2V0cywidWktY29udHJvbGdyb3VwLWl0ZW0iKX0sX2NhbGxDaGlsZE1ldGhvZDpmdW5jdGlvbih0KXt0aGlzLmNoaWxkV2lkZ2V0cy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHI9bih0aGlzKSxpPXIuZGF0YSgidWktY29udHJvbGdyb3VwLWRhdGEiKTtpJiZpW3RdJiZpW3RdKCl9KX0sX3VwZGF0ZUNvcm5lckNsYXNzOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5fYnVpbGRTaW1wbGVPcHRpb25zKHQsImxhYmVsIikuY2xhc3Nlcy5sYWJlbDt0aGlzLl9yZW1vdmVDbGFzcyhuLG51bGwsInVpLWNvcm5lci10b3AgdWktY29ybmVyLWJvdHRvbSB1aS1jb3JuZXItbGVmdCB1aS1jb3JuZXItcmlnaHQgdWktY29ybmVyLWFsbCIpO3RoaXMuX2FkZENsYXNzKG4sbnVsbCxpKX0sX2J1aWxkU2ltcGxlT3B0aW9uczpmdW5jdGlvbihuLHQpe3ZhciBpPSJ2ZXJ0aWNhbCI9PT10aGlzLm9wdGlvbnMuZGlyZWN0aW9uLHI9e2NsYXNzZXM6e319O3JldHVybiByLmNsYXNzZXNbdF09e21pZGRsZToiIixmaXJzdDoidWktY29ybmVyLSIrKGk/InRvcCI6ImxlZnQiKSxsYXN0OiJ1aS1jb3JuZXItIisoaT8iYm90dG9tIjoicmlnaHQiKSxvbmx5OiJ1aS1jb3JuZXItYWxsIn1bbl0scn0sX3NwaW5uZXJPcHRpb25zOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuX2J1aWxkU2ltcGxlT3B0aW9ucyhuLCJ1aS1zcGlubmVyIik7cmV0dXJuIHQuY2xhc3Nlc1sidWktc3Bpbm5lci11cCJdPSIiLHQuY2xhc3Nlc1sidWktc3Bpbm5lci1kb3duIl09IiIsdH0sX2J1dHRvbk9wdGlvbnM6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX2J1aWxkU2ltcGxlT3B0aW9ucyhuLCJ1aS1idXR0b24iKX0sX2NoZWNrYm94cmFkaW9PcHRpb25zOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9idWlsZFNpbXBsZU9wdGlvbnMobiwidWktY2hlY2tib3hyYWRpby1sYWJlbCIpfSxfc2VsZWN0bWVudU9wdGlvbnM6ZnVuY3Rpb24obil7dmFyIHQ9InZlcnRpY2FsIj09PXRoaXMub3B0aW9ucy5kaXJlY3Rpb247cmV0dXJue3dpZHRoOnQ/ImF1dG8iOiExLGNsYXNzZXM6e21pZGRsZTp7InVpLXNlbGVjdG1lbnUtYnV0dG9uLW9wZW4iOiIiLCJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1jbG9zZWQiOiIifSxmaXJzdDp7InVpLXNlbGVjdG1lbnUtYnV0dG9uLW9wZW4iOiJ1aS1jb3JuZXItIisodD8idG9wIjoidGwiKSwidWktc2VsZWN0bWVudS1idXR0b24tY2xvc2VkIjoidWktY29ybmVyLSIrKHQ/InRvcCI6ImxlZnQiKX0sbGFzdDp7InVpLXNlbGVjdG1lbnUtYnV0dG9uLW9wZW4iOnQ/IiI6InVpLWNvcm5lci10ciIsInVpLXNlbGVjdG1lbnUtYnV0dG9uLWNsb3NlZCI6InVpLWNvcm5lci0iKyh0PyJib3R0b20iOiJyaWdodCIpfSxvbmx5OnsidWktc2VsZWN0bWVudS1idXR0b24tb3BlbiI6InVpLWNvcm5lci10b3AiLCJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1jbG9zZWQiOiJ1aS1jb3JuZXItYWxsIn19W25dfX0sX3Jlc29sdmVDbGFzc2VzVmFsdWVzOmZ1bmN0aW9uKHQsaSl7dmFyIHI9e307cmV0dXJuIG4uZWFjaCh0LGZ1bmN0aW9uKHUpe3ZhciBmPWkub3B0aW9ucy5jbGFzc2VzW3VdfHwiIjtmPW4udHJpbShmLnJlcGxhY2UodywiIikpO3JbdV09KGYrIiAiK3RbdV0pLnJlcGxhY2UoL1xzKy9nLCIgIil9KSxyfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7cmV0dXJuImRpcmVjdGlvbiI9PT1uJiZ0aGlzLl9yZW1vdmVDbGFzcygidWktY29udHJvbGdyb3VwLSIrdGhpcy5vcHRpb25zLmRpcmVjdGlvbiksdGhpcy5fc3VwZXIobix0KSwiZGlzYWJsZWQiPT09bj8odGhpcy5fY2FsbENoaWxkTWV0aG9kKHQ/ImRpc2FibGUiOiJlbmFibGUiKSx2b2lkIDApOih0aGlzLnJlZnJlc2goKSx2b2lkIDApfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQsaT10aGlzO3RoaXMuX2FkZENsYXNzKCJ1aS1jb250cm9sZ3JvdXAgdWktY29udHJvbGdyb3VwLSIrdGhpcy5vcHRpb25zLmRpcmVjdGlvbik7Imhvcml6b250YWwiPT09dGhpcy5vcHRpb25zLmRpcmVjdGlvbiYmdGhpcy5fYWRkQ2xhc3MobnVsbCwidWktaGVscGVyLWNsZWFyZml4Iik7dGhpcy5faW5pdFdpZGdldHMoKTt0PXRoaXMuY2hpbGRXaWRnZXRzO3RoaXMub3B0aW9ucy5vbmx5VmlzaWJsZSYmKHQ9dC5maWx0ZXIoIjp2aXNpYmxlIikpO3QubGVuZ3RoJiYobi5lYWNoKFsiZmlyc3QiLCJsYXN0Il0sZnVuY3Rpb24obixyKXt2YXIgdT10W3JdKCkuZGF0YSgidWktY29udHJvbGdyb3VwLWRhdGEiKSxmO3UmJmlbIl8iK3Uud2lkZ2V0TmFtZSsiT3B0aW9ucyJdPyhmPWlbIl8iK3Uud2lkZ2V0TmFtZSsiT3B0aW9ucyJdKDE9PT10Lmxlbmd0aD8ib25seSI6ciksZi5jbGFzc2VzPWkuX3Jlc29sdmVDbGFzc2VzVmFsdWVzKGYuY2xhc3Nlcyx1KSx1LmVsZW1lbnRbdS53aWRnZXROYW1lXShmKSk6aS5fdXBkYXRlQ29ybmVyQ2xhc3ModFtyXSgpLHIpfSksdGhpcy5fY2FsbENoaWxkTWV0aG9kKCJyZWZyZXNoIikpfX0pO24ud2lkZ2V0KCJ1aS5jaGVja2JveHJhZGlvIixbbi51aS5mb3JtUmVzZXRNaXhpbix7dmVyc2lvbjoiMS4xMi4xIixvcHRpb25zOntkaXNhYmxlZDpudWxsLGxhYmVsOm51bGwsaWNvbjohMCxjbGFzc2VzOnsidWktY2hlY2tib3hyYWRpby1sYWJlbCI6InVpLWNvcm5lci1hbGwiLCJ1aS1jaGVja2JveHJhZGlvLWljb24iOiJ1aS1jb3JuZXItYWxsIn19LF9nZXRDcmVhdGVPcHRpb25zOmZ1bmN0aW9uKCl7dmFyIHQsaSx1PXRoaXMscj10aGlzLl9zdXBlcigpfHx7fTtyZXR1cm4gdGhpcy5fcmVhZFR5cGUoKSxpPXRoaXMuZWxlbWVudC5sYWJlbHMoKSx0aGlzLmxhYmVsPW4oaVtpLmxlbmd0aC0xXSksdGhpcy5sYWJlbC5sZW5ndGh8fG4uZXJyb3IoIk5vIGxhYmVsIGZvdW5kIGZvciBjaGVja2JveHJhZGlvIHdpZGdldCIpLHRoaXMub3JpZ2luYWxMYWJlbD0iIix0aGlzLmxhYmVsLmNvbnRlbnRzKCkubm90KHRoaXMuZWxlbWVudFswXSkuZWFjaChmdW5jdGlvbigpe3Uub3JpZ2luYWxMYWJlbCs9Mz09PXRoaXMubm9kZVR5cGU/bih0aGlzKS50ZXh0KCk6dGhpcy5vdXRlckhUTUx9KSx0aGlzLm9yaWdpbmFsTGFiZWwmJihyLmxhYmVsPXRoaXMub3JpZ2luYWxMYWJlbCksdD10aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWQsbnVsbCE9dCYmKHIuZGlzYWJsZWQ9dCkscn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBuPXRoaXMuZWxlbWVudFswXS5jaGVja2VkO3RoaXMuX2JpbmRGb3JtUmVzZXRIYW5kbGVyKCk7bnVsbD09dGhpcy5vcHRpb25zLmRpc2FibGVkJiYodGhpcy5vcHRpb25zLmRpc2FibGVkPXRoaXMuZWxlbWVudFswXS5kaXNhYmxlZCk7dGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsdGhpcy5vcHRpb25zLmRpc2FibGVkKTt0aGlzLl9hZGRDbGFzcygidWktY2hlY2tib3hyYWRpbyIsInVpLWhlbHBlci1oaWRkZW4tYWNjZXNzaWJsZSIpO3RoaXMuX2FkZENsYXNzKHRoaXMubGFiZWwsInVpLWNoZWNrYm94cmFkaW8tbGFiZWwiLCJ1aS1idXR0b24gdWktd2lkZ2V0Iik7InJhZGlvIj09PXRoaXMudHlwZSYmdGhpcy5fYWRkQ2xhc3ModGhpcy5sYWJlbCwidWktY2hlY2tib3hyYWRpby1yYWRpby1sYWJlbCIpO3RoaXMub3B0aW9ucy5sYWJlbCYmdGhpcy5vcHRpb25zLmxhYmVsIT09dGhpcy5vcmlnaW5hbExhYmVsP3RoaXMuX3VwZGF0ZUxhYmVsKCk6dGhpcy5vcmlnaW5hbExhYmVsJiYodGhpcy5vcHRpb25zLmxhYmVsPXRoaXMub3JpZ2luYWxMYWJlbCk7dGhpcy5fZW5oYW5jZSgpO24mJih0aGlzLl9hZGRDbGFzcyh0aGlzLmxhYmVsLCJ1aS1jaGVja2JveHJhZGlvLWNoZWNrZWQiLCJ1aS1zdGF0ZS1hY3RpdmUiKSx0aGlzLmljb24mJnRoaXMuX2FkZENsYXNzKHRoaXMuaWNvbixudWxsLCJ1aS1zdGF0ZS1ob3ZlciIpKTt0aGlzLl9vbih7Y2hhbmdlOiJfdG9nZ2xlQ2xhc3NlcyIsZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLl9hZGRDbGFzcyh0aGlzLmxhYmVsLG51bGwsInVpLXN0YXRlLWZvY3VzIHVpLXZpc3VhbC1mb2N1cyIpfSxibHVyOmZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5sYWJlbCxudWxsLCJ1aS1zdGF0ZS1mb2N1cyB1aS12aXN1YWwtZm9jdXMiKX19KX0sX3JlYWRUeXBlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50WzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7dGhpcy50eXBlPXRoaXMuZWxlbWVudFswXS50eXBlOyJpbnB1dCI9PT10JiYvcmFkaW98Y2hlY2tib3gvLnRlc3QodGhpcy50eXBlKXx8bi5lcnJvcigiQ2FuJ3QgY3JlYXRlIGNoZWNrYm94cmFkaW8gb24gZWxlbWVudC5ub2RlTmFtZT0iK3QrIiBhbmQgZWxlbWVudC50eXBlPSIrdGhpcy50eXBlKX0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLl91cGRhdGVJY29uKHRoaXMuZWxlbWVudFswXS5jaGVja2VkKX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGFiZWx9LF9nZXRSYWRpb0dyb3VwOmZ1bmN0aW9uKCl7dmFyIHQsaT10aGlzLmVsZW1lbnRbMF0ubmFtZSxyPSJpbnB1dFtuYW1lPSciK24udWkuZXNjYXBlU2VsZWN0b3IoaSkrIiddIjtyZXR1cm4gaT8odD10aGlzLmZvcm0ubGVuZ3RoP24odGhpcy5mb3JtWzBdLmVsZW1lbnRzKS5maWx0ZXIocik6bihyKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMD09PW4odGhpcykuZm9ybSgpLmxlbmd0aH0pLHQubm90KHRoaXMuZWxlbWVudCkpOm4oW10pfSxfdG9nZ2xlQ2xhc3NlczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudFswXS5jaGVja2VkO3RoaXMuX3RvZ2dsZUNsYXNzKHRoaXMubGFiZWwsInVpLWNoZWNrYm94cmFkaW8tY2hlY2tlZCIsInVpLXN0YXRlLWFjdGl2ZSIsdCk7dGhpcy5vcHRpb25zLmljb24mJiJjaGVja2JveCI9PT10aGlzLnR5cGUmJnRoaXMuX3RvZ2dsZUNsYXNzKHRoaXMuaWNvbixudWxsLCJ1aS1pY29uLWNoZWNrIHVpLXN0YXRlLWNoZWNrZWQiLHQpLl90b2dnbGVDbGFzcyh0aGlzLmljb24sbnVsbCwidWktaWNvbi1ibGFuayIsIXQpOyJyYWRpbyI9PT10aGlzLnR5cGUmJnRoaXMuX2dldFJhZGlvR3JvdXAoKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKS5jaGVja2JveHJhZGlvKCJpbnN0YW5jZSIpO3QmJnQuX3JlbW92ZUNsYXNzKHQubGFiZWwsInVpLWNoZWNrYm94cmFkaW8tY2hlY2tlZCIsInVpLXN0YXRlLWFjdGl2ZSIpfSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fdW5iaW5kRm9ybVJlc2V0SGFuZGxlcigpO3RoaXMuaWNvbiYmKHRoaXMuaWNvbi5yZW1vdmUoKSx0aGlzLmljb25TcGFjZS5yZW1vdmUoKSl9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXtpZigibGFiZWwiIT09bnx8dClyZXR1cm4odGhpcy5fc3VwZXIobix0KSwiZGlzYWJsZWQiPT09bj8odGhpcy5fdG9nZ2xlQ2xhc3ModGhpcy5sYWJlbCxudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIsdCksdGhpcy5lbGVtZW50WzBdLmRpc2FibGVkPXQsdm9pZCAwKToodGhpcy5yZWZyZXNoKCksdm9pZCAwKSl9LF91cGRhdGVJY29uOmZ1bmN0aW9uKHQpe3ZhciBpPSJ1aS1pY29uIHVpLWljb24tYmFja2dyb3VuZCAiO3RoaXMub3B0aW9ucy5pY29uPyh0aGlzLmljb258fCh0aGlzLmljb249bigiPHNwYW4+IiksdGhpcy5pY29uU3BhY2U9bigiPHNwYW4+IDxcL3NwYW4+IiksdGhpcy5fYWRkQ2xhc3ModGhpcy5pY29uU3BhY2UsInVpLWNoZWNrYm94cmFkaW8taWNvbi1zcGFjZSIpKSwiY2hlY2tib3giPT09dGhpcy50eXBlPyhpKz10PyJ1aS1pY29uLWNoZWNrIHVpLXN0YXRlLWNoZWNrZWQiOiJ1aS1pY29uLWJsYW5rIix0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmljb24sbnVsbCx0PyJ1aS1pY29uLWJsYW5rIjoidWktaWNvbi1jaGVjayIpKTppKz0idWktaWNvbi1ibGFuayIsdGhpcy5fYWRkQ2xhc3ModGhpcy5pY29uLCJ1aS1jaGVja2JveHJhZGlvLWljb24iLGkpLHR8fHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaWNvbixudWxsLCJ1aS1pY29uLWNoZWNrIHVpLXN0YXRlLWNoZWNrZWQiKSx0aGlzLmljb24ucHJlcGVuZFRvKHRoaXMubGFiZWwpLmFmdGVyKHRoaXMuaWNvblNwYWNlKSk6dm9pZCAwIT09dGhpcy5pY29uJiYodGhpcy5pY29uLnJlbW92ZSgpLHRoaXMuaWNvblNwYWNlLnJlbW92ZSgpLGRlbGV0ZSB0aGlzLmljb24pfSxfdXBkYXRlTGFiZWw6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmxhYmVsLmNvbnRlbnRzKCkubm90KHRoaXMuZWxlbWVudFswXSk7dGhpcy5pY29uJiYobj1uLm5vdCh0aGlzLmljb25bMF0pKTt0aGlzLmljb25TcGFjZSYmKG49bi5ub3QodGhpcy5pY29uU3BhY2VbMF0pKTtuLnJlbW92ZSgpO3RoaXMubGFiZWwuYXBwZW5kKHRoaXMub3B0aW9ucy5sYWJlbCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmVsZW1lbnRbMF0uY2hlY2tlZCx0PXRoaXMuZWxlbWVudFswXS5kaXNhYmxlZDt0aGlzLl91cGRhdGVJY29uKG4pO3RoaXMuX3RvZ2dsZUNsYXNzKHRoaXMubGFiZWwsInVpLWNoZWNrYm94cmFkaW8tY2hlY2tlZCIsInVpLXN0YXRlLWFjdGl2ZSIsbik7bnVsbCE9PXRoaXMub3B0aW9ucy5sYWJlbCYmdGhpcy5fdXBkYXRlTGFiZWwoKTt0IT09dGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDp0fSl9fV0pO24udWkuY2hlY2tib3hyYWRpbztuLndpZGdldCgidWkuYnV0dG9uIix7dmVyc2lvbjoiMS4xMi4xIixkZWZhdWx0RWxlbWVudDoiPGJ1dHRvbj4iLG9wdGlvbnM6e2NsYXNzZXM6eyJ1aS1idXR0b24iOiJ1aS1jb3JuZXItYWxsIn0sZGlzYWJsZWQ6bnVsbCxpY29uOm51bGwsaWNvblBvc2l0aW9uOiJiZWdpbm5pbmciLGxhYmVsOm51bGwsc2hvd0xhYmVsOiEwfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciBuLHQ9dGhpcy5fc3VwZXIoKXx8e307cmV0dXJuIHRoaXMuaXNJbnB1dD10aGlzLmVsZW1lbnQuaXMoImlucHV0Iiksbj10aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWQsbnVsbCE9biYmKHQuZGlzYWJsZWQ9biksdGhpcy5vcmlnaW5hbExhYmVsPXRoaXMuaXNJbnB1dD90aGlzLmVsZW1lbnQudmFsKCk6dGhpcy5lbGVtZW50Lmh0bWwoKSx0aGlzLm9yaWdpbmFsTGFiZWwmJih0LmxhYmVsPXRoaXMub3JpZ2luYWxMYWJlbCksdH0sX2NyZWF0ZTpmdW5jdGlvbigpeyF0aGlzLm9wdGlvbi5zaG93TGFiZWwmIXRoaXMub3B0aW9ucy5pY29uJiYodGhpcy5vcHRpb25zLnNob3dMYWJlbD0hMCk7bnVsbD09dGhpcy5vcHRpb25zLmRpc2FibGVkJiYodGhpcy5vcHRpb25zLmRpc2FibGVkPXRoaXMuZWxlbWVudFswXS5kaXNhYmxlZHx8ITEpO3RoaXMuaGFzVGl0bGU9ISF0aGlzLmVsZW1lbnQuYXR0cigidGl0bGUiKTt0aGlzLm9wdGlvbnMubGFiZWwmJnRoaXMub3B0aW9ucy5sYWJlbCE9PXRoaXMub3JpZ2luYWxMYWJlbCYmKHRoaXMuaXNJbnB1dD90aGlzLmVsZW1lbnQudmFsKHRoaXMub3B0aW9ucy5sYWJlbCk6dGhpcy5lbGVtZW50Lmh0bWwodGhpcy5vcHRpb25zLmxhYmVsKSk7dGhpcy5fYWRkQ2xhc3MoInVpLWJ1dHRvbiIsInVpLXdpZGdldCIpO3RoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLHRoaXMub3B0aW9ucy5kaXNhYmxlZCk7dGhpcy5fZW5oYW5jZSgpO3RoaXMuZWxlbWVudC5pcygiYSIpJiZ0aGlzLl9vbih7a2V5dXA6ZnVuY3Rpb24odCl7dC5rZXlDb2RlPT09bi51aS5rZXlDb2RlLlNQQUNFJiYodC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuZWxlbWVudFswXS5jbGljaz90aGlzLmVsZW1lbnRbMF0uY2xpY2soKTp0aGlzLmVsZW1lbnQudHJpZ2dlcigiY2xpY2siKSl9fSl9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmlzKCJidXR0b24iKXx8dGhpcy5lbGVtZW50LmF0dHIoInJvbGUiLCJidXR0b24iKTt0aGlzLm9wdGlvbnMuaWNvbiYmKHRoaXMuX3VwZGF0ZUljb24oImljb24iLHRoaXMub3B0aW9ucy5pY29uKSx0aGlzLl91cGRhdGVUb29sdGlwKCkpfSxfdXBkYXRlVG9vbHRpcDpmdW5jdGlvbigpe3RoaXMudGl0bGU9dGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIik7dGhpcy5vcHRpb25zLnNob3dMYWJlbHx8dGhpcy50aXRsZXx8dGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIix0aGlzLm9wdGlvbnMubGFiZWwpfSxfdXBkYXRlSWNvbjpmdW5jdGlvbih0LGkpe3ZhciB1PSJpY29uUG9zaXRpb24iIT09dCxyPXU/dGhpcy5vcHRpb25zLmljb25Qb3NpdGlvbjppLGY9InRvcCI9PT1yfHwiYm90dG9tIj09PXI7dGhpcy5pY29uP3UmJnRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaWNvbixudWxsLHRoaXMub3B0aW9ucy5pY29uKToodGhpcy5pY29uPW4oIjxzcGFuPiIpLHRoaXMuX2FkZENsYXNzKHRoaXMuaWNvbiwidWktYnV0dG9uLWljb24iLCJ1aS1pY29uIiksdGhpcy5vcHRpb25zLnNob3dMYWJlbHx8dGhpcy5fYWRkQ2xhc3MoInVpLWJ1dHRvbi1pY29uLW9ubHkiKSk7dSYmdGhpcy5fYWRkQ2xhc3ModGhpcy5pY29uLG51bGwsaSk7dGhpcy5fYXR0YWNoSWNvbihyKTtmPyh0aGlzLl9hZGRDbGFzcyh0aGlzLmljb24sbnVsbCwidWktd2lkZ2V0LWljb24tYmxvY2siKSx0aGlzLmljb25TcGFjZSYmdGhpcy5pY29uU3BhY2UucmVtb3ZlKCkpOih0aGlzLmljb25TcGFjZXx8KHRoaXMuaWNvblNwYWNlPW4oIjxzcGFuPiA8XC9zcGFuPiIpLHRoaXMuX2FkZENsYXNzKHRoaXMuaWNvblNwYWNlLCJ1aS1idXR0b24taWNvbi1zcGFjZSIpKSx0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmljb24sbnVsbCwidWktd2lnZXQtaWNvbi1ibG9jayIpLHRoaXMuX2F0dGFjaEljb25TcGFjZShyKSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoInJvbGUiKTt0aGlzLmljb24mJnRoaXMuaWNvbi5yZW1vdmUoKTt0aGlzLmljb25TcGFjZSYmdGhpcy5pY29uU3BhY2UucmVtb3ZlKCk7dGhpcy5oYXNUaXRsZXx8dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoInRpdGxlIil9LF9hdHRhY2hJY29uU3BhY2U6ZnVuY3Rpb24obil7dGhpcy5pY29uWy9eKD86ZW5kfGJvdHRvbSkvLnRlc3Qobik/ImJlZm9yZSI6ImFmdGVyIl0odGhpcy5pY29uU3BhY2UpfSxfYXR0YWNoSWNvbjpmdW5jdGlvbihuKXt0aGlzLmVsZW1lbnRbL14oPzplbmR8Ym90dG9tKS8udGVzdChuKT8iYXBwZW5kIjoicHJlcGVuZCJdKHRoaXMuaWNvbil9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKG4pe3ZhciB0PXZvaWQgMD09PW4uc2hvd0xhYmVsP3RoaXMub3B0aW9ucy5zaG93TGFiZWw6bi5zaG93TGFiZWwsaT12b2lkIDA9PT1uLmljb24/dGhpcy5vcHRpb25zLmljb246bi5pY29uO3R8fGl8fChuLnNob3dMYWJlbD0hMCk7dGhpcy5fc3VwZXIobil9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXsiaWNvbiI9PT1uJiYodD90aGlzLl91cGRhdGVJY29uKG4sdCk6dGhpcy5pY29uJiYodGhpcy5pY29uLnJlbW92ZSgpLHRoaXMuaWNvblNwYWNlJiZ0aGlzLmljb25TcGFjZS5yZW1vdmUoKSkpOyJpY29uUG9zaXRpb24iPT09biYmdGhpcy5fdXBkYXRlSWNvbihuLHQpOyJzaG93TGFiZWwiPT09biYmKHRoaXMuX3RvZ2dsZUNsYXNzKCJ1aS1idXR0b24taWNvbi1vbmx5IixudWxsLCF0KSx0aGlzLl91cGRhdGVUb29sdGlwKCkpOyJsYWJlbCI9PT1uJiYodGhpcy5pc0lucHV0P3RoaXMuZWxlbWVudC52YWwodCk6KHRoaXMuZWxlbWVudC5odG1sKHQpLHRoaXMuaWNvbiYmKHRoaXMuX2F0dGFjaEljb24odGhpcy5vcHRpb25zLmljb25Qb3NpdGlvbiksdGhpcy5fYXR0YWNoSWNvblNwYWNlKHRoaXMub3B0aW9ucy5pY29uUG9zaXRpb24pKSkpO3RoaXMuX3N1cGVyKG4sdCk7ImRpc2FibGVkIj09PW4mJih0aGlzLl90b2dnbGVDbGFzcyhudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIsdCksdGhpcy5lbGVtZW50WzBdLmRpc2FibGVkPXQsdCYmdGhpcy5lbGVtZW50LmJsdXIoKSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmVsZW1lbnQuaXMoImlucHV0LCBidXR0b24iKT90aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWQ6dGhpcy5lbGVtZW50Lmhhc0NsYXNzKCJ1aS1idXR0b24tZGlzYWJsZWQiKTtuIT09dGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDpufSk7dGhpcy5fdXBkYXRlVG9vbHRpcCgpfX0pO24udWlCYWNrQ29tcGF0IT09ITEmJihuLndpZGdldCgidWkuYnV0dG9uIixuLnVpLmJ1dHRvbix7b3B0aW9uczp7dGV4dDohMCxpY29uczp7cHJpbWFyeTpudWxsLHNlY29uZGFyeTpudWxsfX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5zaG93TGFiZWwmJiF0aGlzLm9wdGlvbnMudGV4dCYmKHRoaXMub3B0aW9ucy5zaG93TGFiZWw9dGhpcy5vcHRpb25zLnRleHQpOyF0aGlzLm9wdGlvbnMuc2hvd0xhYmVsJiZ0aGlzLm9wdGlvbnMudGV4dCYmKHRoaXMub3B0aW9ucy50ZXh0PXRoaXMub3B0aW9ucy5zaG93TGFiZWwpO3RoaXMub3B0aW9ucy5pY29ufHwhdGhpcy5vcHRpb25zLmljb25zLnByaW1hcnkmJiF0aGlzLm9wdGlvbnMuaWNvbnMuc2Vjb25kYXJ5P3RoaXMub3B0aW9ucy5pY29uJiYodGhpcy5vcHRpb25zLmljb25zLnByaW1hcnk9dGhpcy5vcHRpb25zLmljb24pOnRoaXMub3B0aW9ucy5pY29ucy5wcmltYXJ5P3RoaXMub3B0aW9ucy5pY29uPXRoaXMub3B0aW9ucy5pY29ucy5wcmltYXJ5Oih0aGlzLm9wdGlvbnMuaWNvbj10aGlzLm9wdGlvbnMuaWNvbnMuc2Vjb25kYXJ5LHRoaXMub3B0aW9ucy5pY29uUG9zaXRpb249ImVuZCIpO3RoaXMuX3N1cGVyKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXtyZXR1cm4idGV4dCI9PT1uPyh0aGlzLl9zdXBlcigic2hvd0xhYmVsIix0KSx2b2lkIDApOigic2hvd0xhYmVsIj09PW4mJih0aGlzLm9wdGlvbnMudGV4dD10KSwiaWNvbiI9PT1uJiYodGhpcy5vcHRpb25zLmljb25zLnByaW1hcnk9dCksImljb25zIj09PW4mJih0LnByaW1hcnk/KHRoaXMuX3N1cGVyKCJpY29uIix0LnByaW1hcnkpLHRoaXMuX3N1cGVyKCJpY29uUG9zaXRpb24iLCJiZWdpbm5pbmciKSk6dC5zZWNvbmRhcnkmJih0aGlzLl9zdXBlcigiaWNvbiIsdC5zZWNvbmRhcnkpLHRoaXMuX3N1cGVyKCJpY29uUG9zaXRpb24iLCJlbmQiKSkpLHRoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKSx2b2lkIDApfX0pLG4uZm4uYnV0dG9uPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiF0aGlzLmxlbmd0aHx8dGhpcy5sZW5ndGgmJiJJTlBVVCIhPT10aGlzWzBdLnRhZ05hbWV8fHRoaXMubGVuZ3RoJiYiSU5QVVQiPT09dGhpc1swXS50YWdOYW1lJiYiY2hlY2tib3giIT09dGhpcy5hdHRyKCJ0eXBlIikmJiJyYWRpbyIhPT10aGlzLmF0dHIoInR5cGUiKT90LmFwcGx5KHRoaXMsYXJndW1lbnRzKToobi51aS5jaGVja2JveHJhZGlvfHxuLmVycm9yKCJDaGVja2JveHJhZGlvIHdpZGdldCBtaXNzaW5nIiksMD09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5jaGVja2JveHJhZGlvKHtpY29uOiExfSk6dGhpcy5jaGVja2JveHJhZGlvLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9fShuLmZuLmJ1dHRvbiksbi5mbi5idXR0b25zZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbi51aS5jb250cm9sZ3JvdXB8fG4uZXJyb3IoIkNvbnRyb2xncm91cCB3aWRnZXQgbWlzc2luZyIpLCJvcHRpb24iPT09YXJndW1lbnRzWzBdJiYiaXRlbXMiPT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMl0/dGhpcy5jb250cm9sZ3JvdXAuYXBwbHkodGhpcyxbYXJndW1lbnRzWzBdLCJpdGVtcy5idXR0b24iLGFyZ3VtZW50c1syXV0pOiJvcHRpb24iPT09YXJndW1lbnRzWzBdJiYiaXRlbXMiPT09YXJndW1lbnRzWzFdP3RoaXMuY29udHJvbGdyb3VwLmFwcGx5KHRoaXMsW2FyZ3VtZW50c1swXSwiaXRlbXMuYnV0dG9uIl0pOigib2JqZWN0Ij09dHlwZW9mIGFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLml0ZW1zJiYoYXJndW1lbnRzWzBdLml0ZW1zPXtidXR0b246YXJndW1lbnRzWzBdLml0ZW1zfSksdGhpcy5jb250cm9sZ3JvdXAuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0pO24udWkuYnV0dG9uO24uZXh0ZW5kKG4udWkse2RhdGVwaWNrZXI6e3ZlcnNpb246IjEuMTIuMSJ9fSk7bi5leHRlbmQoYy5wcm90b3R5cGUse21hcmtlckNsYXNzTmFtZToiaGFzRGF0ZXBpY2tlciIsbWF4Um93czo0LF93aWRnZXREYXRlcGlja2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHBEaXZ9LHNldERlZmF1bHRzOmZ1bmN0aW9uKG4pe3JldHVybiB1KHRoaXMuX2RlZmF1bHRzLG58fHt9KSx0aGlzfSxfYXR0YWNoRGF0ZXBpY2tlcjpmdW5jdGlvbih0LGkpe3ZhciByLGYsdTtyPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtmPSJkaXYiPT09cnx8InNwYW4iPT09cjt0LmlkfHwodGhpcy51dWlkKz0xLHQuaWQ9ImRwIit0aGlzLnV1aWQpO3U9dGhpcy5fbmV3SW5zdChuKHQpLGYpO3Uuc2V0dGluZ3M9bi5leHRlbmQoe30saXx8e30pOyJpbnB1dCI9PT1yP3RoaXMuX2Nvbm5lY3REYXRlcGlja2VyKHQsdSk6ZiYmdGhpcy5faW5saW5lRGF0ZXBpY2tlcih0LHUpfSxfbmV3SW5zdDpmdW5jdGlvbih0LGkpe3ZhciByPXRbMF0uaWQucmVwbGFjZSgvKFteQS1aYS16MC05X1wtXSkvZywiXFxcXCQxIik7cmV0dXJue2lkOnIsaW5wdXQ6dCxzZWxlY3RlZERheTowLHNlbGVjdGVkTW9udGg6MCxzZWxlY3RlZFllYXI6MCxkcmF3TW9udGg6MCxkcmF3WWVhcjowLGlubGluZTppLGRwRGl2Omk/bChuKCI8ZGl2IGNsYXNzPSciK3RoaXMuX2lubGluZUNsYXNzKyIgdWktZGF0ZXBpY2tlciB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktaGVscGVyLWNsZWFyZml4IHVpLWNvcm5lci1hbGwnPjxcL2Rpdj4iKSk6dGhpcy5kcERpdn19LF9jb25uZWN0RGF0ZXBpY2tlcjpmdW5jdGlvbih0LGkpe3ZhciByPW4odCk7aS5hcHBlbmQ9bihbXSk7aS50cmlnZ2VyPW4oW10pO3IuaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpfHwodGhpcy5fYXR0YWNobWVudHMocixpKSxyLmFkZENsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5vbigia2V5ZG93biIsdGhpcy5fZG9LZXlEb3duKS5vbigia2V5cHJlc3MiLHRoaXMuX2RvS2V5UHJlc3MpLm9uKCJrZXl1cCIsdGhpcy5fZG9LZXlVcCksdGhpcy5fYXV0b1NpemUoaSksbi5kYXRhKHQsImRhdGVwaWNrZXIiLGkpLGkuc2V0dGluZ3MuZGlzYWJsZWQmJnRoaXMuX2Rpc2FibGVEYXRlcGlja2VyKHQpKX0sX2F0dGFjaG1lbnRzOmZ1bmN0aW9uKHQsaSl7dmFyIHUscixmLGU9dGhpcy5fZ2V0KGksImFwcGVuZFRleHQiKSxvPXRoaXMuX2dldChpLCJpc1JUTCIpO2kuYXBwZW5kJiZpLmFwcGVuZC5yZW1vdmUoKTtlJiYoaS5hcHBlbmQ9bigiPHNwYW4gY2xhc3M9JyIrdGhpcy5fYXBwZW5kQ2xhc3MrIic+IitlKyI8XC9zcGFuPiIpLHRbbz8iYmVmb3JlIjoiYWZ0ZXIiXShpLmFwcGVuZCkpO3Qub2ZmKCJmb2N1cyIsdGhpcy5fc2hvd0RhdGVwaWNrZXIpO2kudHJpZ2dlciYmaS50cmlnZ2VyLnJlbW92ZSgpO3U9dGhpcy5fZ2V0KGksInNob3dPbiIpOygiZm9jdXMiPT09dXx8ImJvdGgiPT09dSkmJnQub24oImZvY3VzIix0aGlzLl9zaG93RGF0ZXBpY2tlcik7KCJidXR0b24iPT09dXx8ImJvdGgiPT09dSkmJihyPXRoaXMuX2dldChpLCJidXR0b25UZXh0IiksZj10aGlzLl9nZXQoaSwiYnV0dG9uSW1hZ2UiKSxpLnRyaWdnZXI9bih0aGlzLl9nZXQoaSwiYnV0dG9uSW1hZ2VPbmx5Iik/bigiPGltZy8+IikuYWRkQ2xhc3ModGhpcy5fdHJpZ2dlckNsYXNzKS5hdHRyKHtzcmM6ZixhbHQ6cix0aXRsZTpyfSk6bigiPGJ1dHRvbiB0eXBlPSdidXR0b24nPjxcL2J1dHRvbj4iKS5hZGRDbGFzcyh0aGlzLl90cmlnZ2VyQ2xhc3MpLmh0bWwoZj9uKCI8aW1nLz4iKS5hdHRyKHtzcmM6ZixhbHQ6cix0aXRsZTpyfSk6cikpLHRbbz8iYmVmb3JlIjoiYWZ0ZXIiXShpLnRyaWdnZXIpLGkudHJpZ2dlci5vbigiY2xpY2siLGZ1bmN0aW9uKCl7cmV0dXJuIG4uZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcmJm4uZGF0ZXBpY2tlci5fbGFzdElucHV0PT09dFswXT9uLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCk6bi5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyYmbi5kYXRlcGlja2VyLl9sYXN0SW5wdXQhPT10WzBdPyhuLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCksbi5kYXRlcGlja2VyLl9zaG93RGF0ZXBpY2tlcih0WzBdKSk6bi5kYXRlcGlja2VyLl9zaG93RGF0ZXBpY2tlcih0WzBdKSwhMX0pKX0sX2F1dG9TaXplOmZ1bmN0aW9uKG4pe2lmKHRoaXMuX2dldChuLCJhdXRvU2l6ZSIpJiYhbi5pbmxpbmUpe3ZhciByLHUsZix0LGk9bmV3IERhdGUoMjAwOSwxMSwyMCksZT10aGlzLl9nZXQobiwiZGF0ZUZvcm1hdCIpO2UubWF0Y2goL1tETV0vKSYmKHI9ZnVuY3Rpb24obil7Zm9yKHU9MCxmPTAsdD0wO24ubGVuZ3RoPnQ7dCsrKW5bdF0ubGVuZ3RoPnUmJih1PW5bdF0ubGVuZ3RoLGY9dCk7cmV0dXJuIGZ9LGkuc2V0TW9udGgocih0aGlzLl9nZXQobixlLm1hdGNoKC9NTS8pPyJtb250aE5hbWVzIjoibW9udGhOYW1lc1Nob3J0IikpKSxpLnNldERhdGUocih0aGlzLl9nZXQobixlLm1hdGNoKC9ERC8pPyJkYXlOYW1lcyI6ImRheU5hbWVzU2hvcnQiKSkrMjAtaS5nZXREYXkoKSkpO24uaW5wdXQuYXR0cigic2l6ZSIsdGhpcy5fZm9ybWF0RGF0ZShuLGkpLmxlbmd0aCl9fSxfaW5saW5lRGF0ZXBpY2tlcjpmdW5jdGlvbih0LGkpe3ZhciByPW4odCk7ci5oYXNDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSl8fChyLmFkZENsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5hcHBlbmQoaS5kcERpdiksbi5kYXRhKHQsImRhdGVwaWNrZXIiLGkpLHRoaXMuX3NldERhdGUoaSx0aGlzLl9nZXREZWZhdWx0RGF0ZShpKSwhMCksdGhpcy5fdXBkYXRlRGF0ZXBpY2tlcihpKSx0aGlzLl91cGRhdGVBbHRlcm5hdGUoaSksaS5zZXR0aW5ncy5kaXNhYmxlZCYmdGhpcy5fZGlzYWJsZURhdGVwaWNrZXIodCksaS5kcERpdi5jc3MoImRpc3BsYXkiLCJibG9jayIpKX0sX2RpYWxvZ0RhdGVwaWNrZXI6ZnVuY3Rpb24odCxpLHIsZixlKXt2YXIgcyxoLGMsbCxhLG89dGhpcy5fZGlhbG9nSW5zdDtyZXR1cm4gb3x8KHRoaXMudXVpZCs9MSxzPSJkcCIrdGhpcy51dWlkLHRoaXMuX2RpYWxvZ0lucHV0PW4oIjxpbnB1dCB0eXBlPSd0ZXh0JyBpZD0nIitzKyInIHN0eWxlPSdwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogLTEwMHB4OyB3aWR0aDogMHB4OycvPiIpLHRoaXMuX2RpYWxvZ0lucHV0Lm9uKCJrZXlkb3duIix0aGlzLl9kb0tleURvd24pLG4oImJvZHkiKS5hcHBlbmQodGhpcy5fZGlhbG9nSW5wdXQpLG89dGhpcy5fZGlhbG9nSW5zdD10aGlzLl9uZXdJbnN0KHRoaXMuX2RpYWxvZ0lucHV0LCExKSxvLnNldHRpbmdzPXt9LG4uZGF0YSh0aGlzLl9kaWFsb2dJbnB1dFswXSwiZGF0ZXBpY2tlciIsbykpLHUoby5zZXR0aW5ncyxmfHx7fSksaT1pJiZpLmNvbnN0cnVjdG9yPT09RGF0ZT90aGlzLl9mb3JtYXREYXRlKG8saSk6aSx0aGlzLl9kaWFsb2dJbnB1dC52YWwoaSksdGhpcy5fcG9zPWU/ZS5sZW5ndGg/ZTpbZS5wYWdlWCxlLnBhZ2VZXTpudWxsLHRoaXMuX3Bvc3x8KGg9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLGM9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCxsPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0fHxkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQsYT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wfHxkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCx0aGlzLl9wb3M9W2gvMi0xMDArbCxjLzItMTUwK2FdKSx0aGlzLl9kaWFsb2dJbnB1dC5jc3MoImxlZnQiLHRoaXMuX3Bvc1swXSsyMCsicHgiKS5jc3MoInRvcCIsdGhpcy5fcG9zWzFdKyJweCIpLG8uc2V0dGluZ3Mub25TZWxlY3Q9cix0aGlzLl9pbkRpYWxvZz0hMCx0aGlzLmRwRGl2LmFkZENsYXNzKHRoaXMuX2RpYWxvZ0NsYXNzKSx0aGlzLl9zaG93RGF0ZXBpY2tlcih0aGlzLl9kaWFsb2dJbnB1dFswXSksbi5ibG9ja1VJJiZuLmJsb2NrVUkodGhpcy5kcERpdiksbi5kYXRhKHRoaXMuX2RpYWxvZ0lucHV0WzBdLCJkYXRlcGlja2VyIixvKSx0aGlzfSxfZGVzdHJveURhdGVwaWNrZXI6ZnVuY3Rpb24odCl7dmFyIHIsdT1uKHQpLGY9bi5kYXRhKHQsImRhdGVwaWNrZXIiKTt1Lmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKSYmKHI9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLG4ucmVtb3ZlRGF0YSh0LCJkYXRlcGlja2VyIiksImlucHV0Ij09PXI/KGYuYXBwZW5kLnJlbW92ZSgpLGYudHJpZ2dlci5yZW1vdmUoKSx1LnJlbW92ZUNsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5vZmYoImZvY3VzIix0aGlzLl9zaG93RGF0ZXBpY2tlcikub2ZmKCJrZXlkb3duIix0aGlzLl9kb0tleURvd24pLm9mZigia2V5cHJlc3MiLHRoaXMuX2RvS2V5UHJlc3MpLm9mZigia2V5dXAiLHRoaXMuX2RvS2V5VXApKTooImRpdiI9PT1yfHwic3BhbiI9PT1yKSYmdS5yZW1vdmVDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkuZW1wdHkoKSxpPT09ZiYmKGk9bnVsbCkpfSxfZW5hYmxlRGF0ZXBpY2tlcjpmdW5jdGlvbih0KXt2YXIgaSxyLHU9bih0KSxmPW4uZGF0YSh0LCJkYXRlcGlja2VyIik7dS5oYXNDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkmJihpPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwiaW5wdXQiPT09aT8odC5kaXNhYmxlZD0hMSxmLnRyaWdnZXIuZmlsdGVyKCJidXR0b24iKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlZD0hMX0pLmVuZCgpLmZpbHRlcigiaW1nIikuY3NzKHtvcGFjaXR5OiIxLjAiLGN1cnNvcjoiIn0pKTooImRpdiI9PT1pfHwic3BhbiI9PT1pKSYmKHI9dS5jaGlsZHJlbigiLiIrdGhpcy5faW5saW5lQ2xhc3MpLHIuY2hpbGRyZW4oKS5yZW1vdmVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKSxyLmZpbmQoInNlbGVjdC51aS1kYXRlcGlja2VyLW1vbnRoLCBzZWxlY3QudWktZGF0ZXBpY2tlci15ZWFyIikucHJvcCgiZGlzYWJsZWQiLCExKSksdGhpcy5fZGlzYWJsZWRJbnB1dHM9bi5tYXAodGhpcy5fZGlzYWJsZWRJbnB1dHMsZnVuY3Rpb24obil7cmV0dXJuIG49PT10P251bGw6bn0pKX0sX2Rpc2FibGVEYXRlcGlja2VyOmZ1bmN0aW9uKHQpe3ZhciBpLHIsdT1uKHQpLGY9bi5kYXRhKHQsImRhdGVwaWNrZXIiKTt1Lmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKSYmKGk9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLCJpbnB1dCI9PT1pPyh0LmRpc2FibGVkPSEwLGYudHJpZ2dlci5maWx0ZXIoImJ1dHRvbiIpLmVhY2goZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVkPSEwfSkuZW5kKCkuZmlsdGVyKCJpbWciKS5jc3Moe29wYWNpdHk6IjAuNSIsY3Vyc29yOiJkZWZhdWx0In0pKTooImRpdiI9PT1pfHwic3BhbiI9PT1pKSYmKHI9dS5jaGlsZHJlbigiLiIrdGhpcy5faW5saW5lQ2xhc3MpLHIuY2hpbGRyZW4oKS5hZGRDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKSxyLmZpbmQoInNlbGVjdC51aS1kYXRlcGlja2VyLW1vbnRoLCBzZWxlY3QudWktZGF0ZXBpY2tlci15ZWFyIikucHJvcCgiZGlzYWJsZWQiLCEwKSksdGhpcy5fZGlzYWJsZWRJbnB1dHM9bi5tYXAodGhpcy5fZGlzYWJsZWRJbnB1dHMsZnVuY3Rpb24obil7cmV0dXJuIG49PT10P251bGw6bn0pLHRoaXMuX2Rpc2FibGVkSW5wdXRzW3RoaXMuX2Rpc2FibGVkSW5wdXRzLmxlbmd0aF09dCl9LF9pc0Rpc2FibGVkRGF0ZXBpY2tlcjpmdW5jdGlvbihuKXtpZighbilyZXR1cm4hMTtmb3IodmFyIHQ9MDt0aGlzLl9kaXNhYmxlZElucHV0cy5sZW5ndGg+dDt0KyspaWYodGhpcy5fZGlzYWJsZWRJbnB1dHNbdF09PT1uKXJldHVybiEwO3JldHVybiExfSxfZ2V0SW5zdDpmdW5jdGlvbih0KXt0cnl7cmV0dXJuIG4uZGF0YSh0LCJkYXRlcGlja2VyIil9Y2F0Y2goaSl7dGhyb3ciTWlzc2luZyBpbnN0YW5jZSBkYXRhIGZvciB0aGlzIGRhdGVwaWNrZXIiO319LF9vcHRpb25EYXRlcGlja2VyOmZ1bmN0aW9uKHQsaSxyKXt2YXIgZSxoLG8scyxmPXRoaXMuX2dldEluc3QodCk7cmV0dXJuIDI9PT1hcmd1bWVudHMubGVuZ3RoJiYic3RyaW5nIj09dHlwZW9mIGk/ImRlZmF1bHRzIj09PWk/bi5leHRlbmQoe30sbi5kYXRlcGlja2VyLl9kZWZhdWx0cyk6Zj8iYWxsIj09PWk/bi5leHRlbmQoe30sZi5zZXR0aW5ncyk6dGhpcy5fZ2V0KGYsaSk6bnVsbDooZT1pfHx7fSwic3RyaW5nIj09dHlwZW9mIGkmJihlPXt9LGVbaV09ciksZiYmKHRoaXMuX2N1ckluc3Q9PT1mJiZ0aGlzLl9oaWRlRGF0ZXBpY2tlcigpLGg9dGhpcy5fZ2V0RGF0ZURhdGVwaWNrZXIodCwhMCksbz10aGlzLl9nZXRNaW5NYXhEYXRlKGYsIm1pbiIpLHM9dGhpcy5fZ2V0TWluTWF4RGF0ZShmLCJtYXgiKSx1KGYuc2V0dGluZ3MsZSksbnVsbCE9PW8mJnZvaWQgMCE9PWUuZGF0ZUZvcm1hdCYmdm9pZCAwPT09ZS5taW5EYXRlJiYoZi5zZXR0aW5ncy5taW5EYXRlPXRoaXMuX2Zvcm1hdERhdGUoZixvKSksbnVsbCE9PXMmJnZvaWQgMCE9PWUuZGF0ZUZvcm1hdCYmdm9pZCAwPT09ZS5tYXhEYXRlJiYoZi5zZXR0aW5ncy5tYXhEYXRlPXRoaXMuX2Zvcm1hdERhdGUoZixzKSksImRpc2FibGVkImluIGUmJihlLmRpc2FibGVkP3RoaXMuX2Rpc2FibGVEYXRlcGlja2VyKHQpOnRoaXMuX2VuYWJsZURhdGVwaWNrZXIodCkpLHRoaXMuX2F0dGFjaG1lbnRzKG4odCksZiksdGhpcy5fYXV0b1NpemUoZiksdGhpcy5fc2V0RGF0ZShmLGgpLHRoaXMuX3VwZGF0ZUFsdGVybmF0ZShmKSx0aGlzLl91cGRhdGVEYXRlcGlja2VyKGYpKSx2b2lkIDApfSxfY2hhbmdlRGF0ZXBpY2tlcjpmdW5jdGlvbihuLHQsaSl7dGhpcy5fb3B0aW9uRGF0ZXBpY2tlcihuLHQsaSl9LF9yZWZyZXNoRGF0ZXBpY2tlcjpmdW5jdGlvbihuKXt2YXIgdD10aGlzLl9nZXRJbnN0KG4pO3QmJnRoaXMuX3VwZGF0ZURhdGVwaWNrZXIodCl9LF9zZXREYXRlRGF0ZXBpY2tlcjpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuX2dldEluc3Qobik7aSYmKHRoaXMuX3NldERhdGUoaSx0KSx0aGlzLl91cGRhdGVEYXRlcGlja2VyKGkpLHRoaXMuX3VwZGF0ZUFsdGVybmF0ZShpKSl9LF9nZXREYXRlRGF0ZXBpY2tlcjpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuX2dldEluc3Qobik7cmV0dXJuIGkmJiFpLmlubGluZSYmdGhpcy5fc2V0RGF0ZUZyb21GaWVsZChpLHQpLGk/dGhpcy5fZ2V0RGF0ZShpKTpudWxsfSxfZG9LZXlEb3duOmZ1bmN0aW9uKHQpe3ZhciB1LGUsZixpPW4uZGF0ZXBpY2tlci5fZ2V0SW5zdCh0LnRhcmdldCkscj0hMCxvPWkuZHBEaXYuaXMoIi51aS1kYXRlcGlja2VyLXJ0bCIpO2lmKGkuX2tleUV2ZW50PSEwLG4uZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcpc3dpdGNoKHQua2V5Q29kZSl7Y2FzZSA5Om4uZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKTtyPSExO2JyZWFrO2Nhc2UgMTM6cmV0dXJuIGY9bigidGQuIituLmRhdGVwaWNrZXIuX2RheU92ZXJDbGFzcysiOm5vdCguIituLmRhdGVwaWNrZXIuX2N1cnJlbnRDbGFzcysiKSIsaS5kcERpdiksZlswXSYmbi5kYXRlcGlja2VyLl9zZWxlY3REYXkodC50YXJnZXQsaS5zZWxlY3RlZE1vbnRoLGkuc2VsZWN0ZWRZZWFyLGZbMF0pLHU9bi5kYXRlcGlja2VyLl9nZXQoaSwib25TZWxlY3QiKSx1PyhlPW4uZGF0ZXBpY2tlci5fZm9ybWF0RGF0ZShpKSx1LmFwcGx5KGkuaW5wdXQ/aS5pbnB1dFswXTpudWxsLFtlLGldKSk6bi5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpLCExO2Nhc2UgMjc6bi5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpO2JyZWFrO2Nhc2UgMzM6bi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LHQuY3RybEtleT8tbi5kYXRlcGlja2VyLl9nZXQoaSwic3RlcEJpZ01vbnRocyIpOi1uLmRhdGVwaWNrZXIuX2dldChpLCJzdGVwTW9udGhzIiksIk0iKTticmVhaztjYXNlIDM0Om4uZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSh0LnRhcmdldCx0LmN0cmxLZXk/K24uZGF0ZXBpY2tlci5fZ2V0KGksInN0ZXBCaWdNb250aHMiKTorbi5kYXRlcGlja2VyLl9nZXQoaSwic3RlcE1vbnRocyIpLCJNIik7YnJlYWs7Y2FzZSAzNToodC5jdHJsS2V5fHx0Lm1ldGFLZXkpJiZuLmRhdGVwaWNrZXIuX2NsZWFyRGF0ZSh0LnRhcmdldCk7cj10LmN0cmxLZXl8fHQubWV0YUtleTticmVhaztjYXNlIDM2Oih0LmN0cmxLZXl8fHQubWV0YUtleSkmJm4uZGF0ZXBpY2tlci5fZ290b1RvZGF5KHQudGFyZ2V0KTtyPXQuY3RybEtleXx8dC5tZXRhS2V5O2JyZWFrO2Nhc2UgMzc6KHQuY3RybEtleXx8dC5tZXRhS2V5KSYmbi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LG8/MTotMSwiRCIpO3I9dC5jdHJsS2V5fHx0Lm1ldGFLZXk7dC5vcmlnaW5hbEV2ZW50LmFsdEtleSYmbi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LHQuY3RybEtleT8tbi5kYXRlcGlja2VyLl9nZXQoaSwic3RlcEJpZ01vbnRocyIpOi1uLmRhdGVwaWNrZXIuX2dldChpLCJzdGVwTW9udGhzIiksIk0iKTticmVhaztjYXNlIDM4Oih0LmN0cmxLZXl8fHQubWV0YUtleSkmJm4uZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSh0LnRhcmdldCwtNywiRCIpO3I9dC5jdHJsS2V5fHx0Lm1ldGFLZXk7YnJlYWs7Y2FzZSAzOToodC5jdHJsS2V5fHx0Lm1ldGFLZXkpJiZuLmRhdGVwaWNrZXIuX2FkanVzdERhdGUodC50YXJnZXQsbz8tMToxLCJEIik7cj10LmN0cmxLZXl8fHQubWV0YUtleTt0Lm9yaWdpbmFsRXZlbnQuYWx0S2V5JiZuLmRhdGVwaWNrZXIuX2FkanVzdERhdGUodC50YXJnZXQsdC5jdHJsS2V5PytuLmRhdGVwaWNrZXIuX2dldChpLCJzdGVwQmlnTW9udGhzIik6K24uZGF0ZXBpY2tlci5fZ2V0KGksInN0ZXBNb250aHMiKSwiTSIpO2JyZWFrO2Nhc2UgNDA6KHQuY3RybEtleXx8dC5tZXRhS2V5KSYmbi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LDcsIkQiKTtyPXQuY3RybEtleXx8dC5tZXRhS2V5O2JyZWFrO2RlZmF1bHQ6cj0hMX1lbHNlIDM2PT09dC5rZXlDb2RlJiZ0LmN0cmxLZXk/bi5kYXRlcGlja2VyLl9zaG93RGF0ZXBpY2tlcih0aGlzKTpyPSExO3ImJih0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSl9LF9kb0tleVByZXNzOmZ1bmN0aW9uKHQpe3ZhciBpLHIsdT1uLmRhdGVwaWNrZXIuX2dldEluc3QodC50YXJnZXQpO2lmKG4uZGF0ZXBpY2tlci5fZ2V0KHUsImNvbnN0cmFpbklucHV0IikpcmV0dXJuKGk9bi5kYXRlcGlja2VyLl9wb3NzaWJsZUNoYXJzKG4uZGF0ZXBpY2tlci5fZ2V0KHUsImRhdGVGb3JtYXQiKSkscj1TdHJpbmcuZnJvbUNoYXJDb2RlKG51bGw9PXQuY2hhckNvZGU/dC5rZXlDb2RlOnQuY2hhckNvZGUpLHQuY3RybEtleXx8dC5tZXRhS2V5fHwiICI+cnx8IWl8fGkuaW5kZXhPZihyKT4tMSl9LF9kb0tleVVwOmZ1bmN0aW9uKHQpe3ZhciByLGk9bi5kYXRlcGlja2VyLl9nZXRJbnN0KHQudGFyZ2V0KTtpZihpLmlucHV0LnZhbCgpIT09aS5sYXN0VmFsKXRyeXtyPW4uZGF0ZXBpY2tlci5wYXJzZURhdGUobi5kYXRlcGlja2VyLl9nZXQoaSwiZGF0ZUZvcm1hdCIpLGkuaW5wdXQ/aS5pbnB1dC52YWwoKTpudWxsLG4uZGF0ZXBpY2tlci5fZ2V0Rm9ybWF0Q29uZmlnKGkpKTtyJiYobi5kYXRlcGlja2VyLl9zZXREYXRlRnJvbUZpZWxkKGkpLG4uZGF0ZXBpY2tlci5fdXBkYXRlQWx0ZXJuYXRlKGkpLG4uZGF0ZXBpY2tlci5fdXBkYXRlRGF0ZXBpY2tlcihpKSl9Y2F0Y2godSl7fXJldHVybiEwfSxfc2hvd0RhdGVwaWNrZXI6ZnVuY3Rpb24odCl7aWYodD10LnRhcmdldHx8dCwiaW5wdXQiIT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYodD1uKCJpbnB1dCIsdC5wYXJlbnROb2RlKVswXSksIW4uZGF0ZXBpY2tlci5faXNEaXNhYmxlZERhdGVwaWNrZXIodCkmJm4uZGF0ZXBpY2tlci5fbGFzdElucHV0IT09dCl7dmFyIGksbyxzLHIsZixlLGg7aT1uLmRhdGVwaWNrZXIuX2dldEluc3QodCk7bi5kYXRlcGlja2VyLl9jdXJJbnN0JiZuLmRhdGVwaWNrZXIuX2N1ckluc3QhPT1pJiYobi5kYXRlcGlja2VyLl9jdXJJbnN0LmRwRGl2LnN0b3AoITAsITApLGkmJm4uZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcmJm4uZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIobi5kYXRlcGlja2VyLl9jdXJJbnN0LmlucHV0WzBdKSk7bz1uLmRhdGVwaWNrZXIuX2dldChpLCJiZWZvcmVTaG93Iik7cz1vP28uYXBwbHkodCxbdCxpXSk6e307cyE9PSExJiYodShpLnNldHRpbmdzLHMpLGkubGFzdFZhbD1udWxsLG4uZGF0ZXBpY2tlci5fbGFzdElucHV0PXQsbi5kYXRlcGlja2VyLl9zZXREYXRlRnJvbUZpZWxkKGkpLG4uZGF0ZXBpY2tlci5faW5EaWFsb2cmJih0LnZhbHVlPSIiKSxuLmRhdGVwaWNrZXIuX3Bvc3x8KG4uZGF0ZXBpY2tlci5fcG9zPW4uZGF0ZXBpY2tlci5fZmluZFBvcyh0KSxuLmRhdGVwaWNrZXIuX3Bvc1sxXSs9dC5vZmZzZXRIZWlnaHQpLHI9ITEsbih0KS5wYXJlbnRzKCkuZWFjaChmdW5jdGlvbigpe3JldHVybiByfD0iZml4ZWQiPT09bih0aGlzKS5jc3MoInBvc2l0aW9uIiksIXJ9KSxmPXtsZWZ0Om4uZGF0ZXBpY2tlci5fcG9zWzBdLHRvcDpuLmRhdGVwaWNrZXIuX3Bvc1sxXX0sbi5kYXRlcGlja2VyLl9wb3M9bnVsbCxpLmRwRGl2LmVtcHR5KCksaS5kcERpdi5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsZGlzcGxheToiYmxvY2siLHRvcDoiLTEwMDBweCJ9KSxuLmRhdGVwaWNrZXIuX3VwZGF0ZURhdGVwaWNrZXIoaSksZj1uLmRhdGVwaWNrZXIuX2NoZWNrT2Zmc2V0KGksZixyKSxpLmRwRGl2LmNzcyh7cG9zaXRpb246bi5kYXRlcGlja2VyLl9pbkRpYWxvZyYmbi5ibG9ja1VJPyJzdGF0aWMiOnI/ImZpeGVkIjoiYWJzb2x1dGUiLGRpc3BsYXk6Im5vbmUiLGxlZnQ6Zi5sZWZ0KyJweCIsdG9wOmYudG9wKyJweCJ9KSxpLmlubGluZXx8KGU9bi5kYXRlcGlja2VyLl9nZXQoaSwic2hvd0FuaW0iKSxoPW4uZGF0ZXBpY2tlci5fZ2V0KGksImR1cmF0aW9uIiksaS5kcERpdi5jc3MoInotaW5kZXgiLGsobih0KSkrMSksbi5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZz0hMCxuLmVmZmVjdHMmJm4uZWZmZWN0cy5lZmZlY3RbZV0/aS5kcERpdi5zaG93KGUsbi5kYXRlcGlja2VyLl9nZXQoaSwic2hvd09wdGlvbnMiKSxoKTppLmRwRGl2W2V8fCJzaG93Il0oZT9oOm51bGwpLG4uZGF0ZXBpY2tlci5fc2hvdWxkRm9jdXNJbnB1dChpKSYmaS5pbnB1dC50cmlnZ2VyKCJmb2N1cyIpLG4uZGF0ZXBpY2tlci5fY3VySW5zdD1pKSl9fSxfdXBkYXRlRGF0ZXBpY2tlcjpmdW5jdGlvbih0KXt0aGlzLm1heFJvd3M9NDtpPXQ7dC5kcERpdi5lbXB0eSgpLmFwcGVuZCh0aGlzLl9nZW5lcmF0ZUhUTUwodCkpO3RoaXMuX2F0dGFjaEhhbmRsZXJzKHQpO3ZhciByLHU9dGhpcy5fZ2V0TnVtYmVyT2ZNb250aHModCksZj11WzFdLGU9dC5kcERpdi5maW5kKCIuIit0aGlzLl9kYXlPdmVyQ2xhc3MrIiBhIik7ZS5sZW5ndGg+MCYmYS5hcHBseShlLmdldCgwKSk7dC5kcERpdi5yZW1vdmVDbGFzcygidWktZGF0ZXBpY2tlci1tdWx0aS0yIHVpLWRhdGVwaWNrZXItbXVsdGktMyB1aS1kYXRlcGlja2VyLW11bHRpLTQiKS53aWR0aCgiIik7Zj4xJiZ0LmRwRGl2LmFkZENsYXNzKCJ1aS1kYXRlcGlja2VyLW11bHRpLSIrZikuY3NzKCJ3aWR0aCIsMTcqZisiZW0iKTt0LmRwRGl2WygxIT09dVswXXx8MSE9PXVbMV0/ImFkZCI6InJlbW92ZSIpKyJDbGFzcyJdKCJ1aS1kYXRlcGlja2VyLW11bHRpIik7dC5kcERpdlsodGhpcy5fZ2V0KHQsImlzUlRMIik/ImFkZCI6InJlbW92ZSIpKyJDbGFzcyJdKCJ1aS1kYXRlcGlja2VyLXJ0bCIpO3Q9PT1uLmRhdGVwaWNrZXIuX2N1ckluc3QmJm4uZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcmJm4uZGF0ZXBpY2tlci5fc2hvdWxkRm9jdXNJbnB1dCh0KSYmdC5pbnB1dC50cmlnZ2VyKCJmb2N1cyIpO3QueWVhcnNodG1sJiYocj10LnllYXJzaHRtbCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cj09PXQueWVhcnNodG1sJiZ0LnllYXJzaHRtbCYmdC5kcERpdi5maW5kKCJzZWxlY3QudWktZGF0ZXBpY2tlci15ZWFyOmZpcnN0IikucmVwbGFjZVdpdGgodC55ZWFyc2h0bWwpO3I9dC55ZWFyc2h0bWw9bnVsbH0sMCkpfSxfc2hvdWxkRm9jdXNJbnB1dDpmdW5jdGlvbihuKXtyZXR1cm4gbi5pbnB1dCYmbi5pbnB1dC5pcygiOnZpc2libGUiKSYmIW4uaW5wdXQuaXMoIjpkaXNhYmxlZCIpJiYhbi5pbnB1dC5pcygiOmZvY3VzIil9LF9jaGVja09mZnNldDpmdW5jdGlvbih0LGkscil7dmFyIHU9dC5kcERpdi5vdXRlcldpZHRoKCksZj10LmRwRGl2Lm91dGVySGVpZ2h0KCksaD10LmlucHV0P3QuaW5wdXQub3V0ZXJXaWR0aCgpOjAsbz10LmlucHV0P3QuaW5wdXQub3V0ZXJIZWlnaHQoKTowLGU9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKyhyPzA6bihkb2N1bWVudCkuc2Nyb2xsTGVmdCgpKSxzPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQrKHI/MDpuKGRvY3VtZW50KS5zY3JvbGxUb3AoKSk7cmV0dXJuIGkubGVmdC09dGhpcy5fZ2V0KHQsImlzUlRMIik/dS1oOjAsaS5sZWZ0LT1yJiZpLmxlZnQ9PT10LmlucHV0Lm9mZnNldCgpLmxlZnQ/bihkb2N1bWVudCkuc2Nyb2xsTGVmdCgpOjAsaS50b3AtPXImJmkudG9wPT09dC5pbnB1dC5vZmZzZXQoKS50b3Arbz9uKGRvY3VtZW50KS5zY3JvbGxUb3AoKTowLGkubGVmdC09TWF0aC5taW4oaS5sZWZ0LGkubGVmdCt1PmUmJmU+dT9NYXRoLmFicyhpLmxlZnQrdS1lKTowKSxpLnRvcC09TWF0aC5taW4oaS50b3AsaS50b3ArZj5zJiZzPmY/TWF0aC5hYnMoZitvKTowKSxpfSxfZmluZFBvczpmdW5jdGlvbih0KXtmb3IodmFyIGkscj10aGlzLl9nZXRJbnN0KHQpLHU9dGhpcy5fZ2V0KHIsImlzUlRMIik7dCYmKCJoaWRkZW4iPT09dC50eXBlfHwxIT09dC5ub2RlVHlwZXx8bi5leHByLmZpbHRlcnMuaGlkZGVuKHQpKTspdD10W3U/InByZXZpb3VzU2libGluZyI6Im5leHRTaWJsaW5nIl07cmV0dXJuIGk9bih0KS5vZmZzZXQoKSxbaS5sZWZ0LGkudG9wXX0sX2hpZGVEYXRlcGlja2VyOmZ1bmN0aW9uKHQpe3ZhciByLGYsdSxlLGk9dGhpcy5fY3VySW5zdDshaXx8dCYmaSE9PW4uZGF0YSh0LCJkYXRlcGlja2VyIil8fHRoaXMuX2RhdGVwaWNrZXJTaG93aW5nJiYocj10aGlzLl9nZXQoaSwic2hvd0FuaW0iKSxmPXRoaXMuX2dldChpLCJkdXJhdGlvbiIpLHU9ZnVuY3Rpb24oKXtuLmRhdGVwaWNrZXIuX3RpZHlEaWFsb2coaSl9LG4uZWZmZWN0cyYmKG4uZWZmZWN0cy5lZmZlY3Rbcl18fG4uZWZmZWN0c1tyXSk/aS5kcERpdi5oaWRlKHIsbi5kYXRlcGlja2VyLl9nZXQoaSwic2hvd09wdGlvbnMiKSxmLHUpOmkuZHBEaXZbInNsaWRlRG93biI9PT1yPyJzbGlkZVVwIjoiZmFkZUluIj09PXI/ImZhZGVPdXQiOiJoaWRlIl0ocj9mOm51bGwsdSkscnx8dSgpLHRoaXMuX2RhdGVwaWNrZXJTaG93aW5nPSExLGU9dGhpcy5fZ2V0KGksIm9uQ2xvc2UiKSxlJiZlLmFwcGx5KGkuaW5wdXQ/aS5pbnB1dFswXTpudWxsLFtpLmlucHV0P2kuaW5wdXQudmFsKCk6IiIsaV0pLHRoaXMuX2xhc3RJbnB1dD1udWxsLHRoaXMuX2luRGlhbG9nJiYodGhpcy5fZGlhbG9nSW5wdXQuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLGxlZnQ6IjAiLHRvcDoiLTEwMHB4In0pLG4uYmxvY2tVSSYmKG4udW5ibG9ja1VJKCksbigiYm9keSIpLmFwcGVuZCh0aGlzLmRwRGl2KSkpLHRoaXMuX2luRGlhbG9nPSExKX0sX3RpZHlEaWFsb2c6ZnVuY3Rpb24obil7bi5kcERpdi5yZW1vdmVDbGFzcyh0aGlzLl9kaWFsb2dDbGFzcykub2ZmKCIudWktZGF0ZXBpY2tlci1jYWxlbmRhciIpfSxfY2hlY2tFeHRlcm5hbENsaWNrOmZ1bmN0aW9uKHQpe2lmKG4uZGF0ZXBpY2tlci5fY3VySW5zdCl7dmFyIGk9bih0LnRhcmdldCkscj1uLmRhdGVwaWNrZXIuX2dldEluc3QoaVswXSk7KGlbMF0uaWQ9PT1uLmRhdGVwaWNrZXIuX21haW5EaXZJZHx8MCE9PWkucGFyZW50cygiIyIrbi5kYXRlcGlja2VyLl9tYWluRGl2SWQpLmxlbmd0aHx8aS5oYXNDbGFzcyhuLmRhdGVwaWNrZXIubWFya2VyQ2xhc3NOYW1lKXx8aS5jbG9zZXN0KCIuIituLmRhdGVwaWNrZXIuX3RyaWdnZXJDbGFzcykubGVuZ3RofHwhbi5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZ3x8bi5kYXRlcGlja2VyLl9pbkRpYWxvZyYmbi5ibG9ja1VJKSYmKCFpLmhhc0NsYXNzKG4uZGF0ZXBpY2tlci5tYXJrZXJDbGFzc05hbWUpfHxuLmRhdGVwaWNrZXIuX2N1ckluc3Q9PT1yKXx8bi5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpfX0sX2FkanVzdERhdGU6ZnVuY3Rpb24odCxpLHIpe3ZhciBmPW4odCksdT10aGlzLl9nZXRJbnN0KGZbMF0pO3RoaXMuX2lzRGlzYWJsZWREYXRlcGlja2VyKGZbMF0pfHwodGhpcy5fYWRqdXN0SW5zdERhdGUodSxpKygiTSI9PT1yP3RoaXMuX2dldCh1LCJzaG93Q3VycmVudEF0UG9zIik6MCksciksdGhpcy5fdXBkYXRlRGF0ZXBpY2tlcih1KSl9LF9nb3RvVG9kYXk6ZnVuY3Rpb24odCl7dmFyIHIsdT1uKHQpLGk9dGhpcy5fZ2V0SW5zdCh1WzBdKTt0aGlzLl9nZXQoaSwiZ290b0N1cnJlbnQiKSYmaS5jdXJyZW50RGF5PyhpLnNlbGVjdGVkRGF5PWkuY3VycmVudERheSxpLmRyYXdNb250aD1pLnNlbGVjdGVkTW9udGg9aS5jdXJyZW50TW9udGgsaS5kcmF3WWVhcj1pLnNlbGVjdGVkWWVhcj1pLmN1cnJlbnRZZWFyKToocj1uZXcgRGF0ZSxpLnNlbGVjdGVkRGF5PXIuZ2V0RGF0ZSgpLGkuZHJhd01vbnRoPWkuc2VsZWN0ZWRNb250aD1yLmdldE1vbnRoKCksaS5kcmF3WWVhcj1pLnNlbGVjdGVkWWVhcj1yLmdldEZ1bGxZZWFyKCkpO3RoaXMuX25vdGlmeUNoYW5nZShpKTt0aGlzLl9hZGp1c3REYXRlKHUpfSxfc2VsZWN0TW9udGhZZWFyOmZ1bmN0aW9uKHQsaSxyKXt2YXIgZj1uKHQpLHU9dGhpcy5fZ2V0SW5zdChmWzBdKTt1WyJzZWxlY3RlZCIrKCJNIj09PXI/Ik1vbnRoIjoiWWVhciIpXT11WyJkcmF3IisoIk0iPT09cj8iTW9udGgiOiJZZWFyIildPXBhcnNlSW50KGkub3B0aW9uc1tpLnNlbGVjdGVkSW5kZXhdLnZhbHVlLDEwKTt0aGlzLl9ub3RpZnlDaGFuZ2UodSk7dGhpcy5fYWRqdXN0RGF0ZShmKX0sX3NlbGVjdERheTpmdW5jdGlvbih0LGkscix1KXt2YXIgZixlPW4odCk7bih1KS5oYXNDbGFzcyh0aGlzLl91bnNlbGVjdGFibGVDbGFzcyl8fHRoaXMuX2lzRGlzYWJsZWREYXRlcGlja2VyKGVbMF0pfHwoZj10aGlzLl9nZXRJbnN0KGVbMF0pLGYuc2VsZWN0ZWREYXk9Zi5jdXJyZW50RGF5PW4oImEiLHUpLmh0bWwoKSxmLnNlbGVjdGVkTW9udGg9Zi5jdXJyZW50TW9udGg9aSxmLnNlbGVjdGVkWWVhcj1mLmN1cnJlbnRZZWFyPXIsdGhpcy5fc2VsZWN0RGF0ZSh0LHRoaXMuX2Zvcm1hdERhdGUoZixmLmN1cnJlbnREYXksZi5jdXJyZW50TW9udGgsZi5jdXJyZW50WWVhcikpKX0sX2NsZWFyRGF0ZTpmdW5jdGlvbih0KXt2YXIgaT1uKHQpO3RoaXMuX3NlbGVjdERhdGUoaSwiIil9LF9zZWxlY3REYXRlOmZ1bmN0aW9uKHQsaSl7dmFyIHUsZj1uKHQpLHI9dGhpcy5fZ2V0SW5zdChmWzBdKTtpPW51bGwhPWk/aTp0aGlzLl9mb3JtYXREYXRlKHIpO3IuaW5wdXQmJnIuaW5wdXQudmFsKGkpO3RoaXMuX3VwZGF0ZUFsdGVybmF0ZShyKTt1PXRoaXMuX2dldChyLCJvblNlbGVjdCIpO3U/dS5hcHBseShyLmlucHV0P3IuaW5wdXRbMF06bnVsbCxbaSxyXSk6ci5pbnB1dCYmci5pbnB1dC50cmlnZ2VyKCJjaGFuZ2UiKTtyLmlubGluZT90aGlzLl91cGRhdGVEYXRlcGlja2VyKHIpOih0aGlzLl9oaWRlRGF0ZXBpY2tlcigpLHRoaXMuX2xhc3RJbnB1dD1yLmlucHV0WzBdLCJvYmplY3QiIT10eXBlb2Ygci5pbnB1dFswXSYmci5pbnB1dC50cmlnZ2VyKCJmb2N1cyIpLHRoaXMuX2xhc3RJbnB1dD1udWxsKX0sX3VwZGF0ZUFsdGVybmF0ZTpmdW5jdGlvbih0KXt2YXIgaSxyLHUsZj10aGlzLl9nZXQodCwiYWx0RmllbGQiKTtmJiYoaT10aGlzLl9nZXQodCwiYWx0Rm9ybWF0Iil8fHRoaXMuX2dldCh0LCJkYXRlRm9ybWF0Iikscj10aGlzLl9nZXREYXRlKHQpLHU9dGhpcy5mb3JtYXREYXRlKGkscix0aGlzLl9nZXRGb3JtYXRDb25maWcodCkpLG4oZikudmFsKHUpKX0sbm9XZWVrZW5kczpmdW5jdGlvbihuKXt2YXIgdD1uLmdldERheSgpO3JldHVyblt0PjAmJjY+dCwiIl19LGlzbzg2MDFXZWVrOmZ1bmN0aW9uKG4pe3ZhciBpLHQ9bmV3IERhdGUobi5nZXRUaW1lKCkpO3JldHVybiB0LnNldERhdGUodC5nZXREYXRlKCkrNC0odC5nZXREYXkoKXx8NykpLGk9dC5nZXRUaW1lKCksdC5zZXRNb250aCgwKSx0LnNldERhdGUoMSksTWF0aC5mbG9vcihNYXRoLnJvdW5kKChpLXQpLzg2NGU1KS83KSsxfSxwYXJzZURhdGU6ZnVuY3Rpb24odCxpLHIpe2lmKG51bGw9PXR8fG51bGw9PWkpdGhyb3ciSW52YWxpZCBhcmd1bWVudHMiO2lmKGk9Im9iamVjdCI9PXR5cGVvZiBpPyIiK2k6aSsiIiwiIj09PWkpcmV0dXJuIG51bGw7Zm9yKHZhciBhLHYsdSxmPTAseT0ocj9yLnNob3J0WWVhckN1dG9mZjpudWxsKXx8dGhpcy5fZGVmYXVsdHMuc2hvcnRZZWFyQ3V0b2ZmLGQ9InN0cmluZyIhPXR5cGVvZiB5P3k6KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpJTEwMCtwYXJzZUludCh5LDEwKSxnPShyP3IuZGF5TmFtZXNTaG9ydDpudWxsKXx8dGhpcy5fZGVmYXVsdHMuZGF5TmFtZXNTaG9ydCxudD0ocj9yLmRheU5hbWVzOm51bGwpfHx0aGlzLl9kZWZhdWx0cy5kYXlOYW1lcyx0dD0ocj9yLm1vbnRoTmFtZXNTaG9ydDpudWxsKXx8dGhpcy5fZGVmYXVsdHMubW9udGhOYW1lc1Nob3J0LGl0PShyP3IubW9udGhOYW1lczpudWxsKXx8dGhpcy5fZGVmYXVsdHMubW9udGhOYW1lcyxlPS0xLHM9LTEsaD0tMSxwPS0xLHc9ITEsbD1mdW5jdGlvbihuKXt2YXIgaT10Lmxlbmd0aD5vKzEmJnQuY2hhckF0KG8rMSk9PT1uO3JldHVybiBpJiZvKyssaX0sYz1mdW5jdGlvbihuKXt2YXIgdT1sKG4pLHI9IkAiPT09bj8xNDoiISI9PT1uPzIwOiJ5Ij09PW4mJnU/NDoibyI9PT1uPzM6MixlPSJ5Ij09PW4/cjoxLG89UmVnRXhwKCJeXFxkeyIrZSsiLCIrcisifSIpLHQ9aS5zdWJzdHJpbmcoZikubWF0Y2gobyk7aWYoIXQpdGhyb3ciTWlzc2luZyBudW1iZXIgYXQgcG9zaXRpb24gIitmO3JldHVybiBmKz10WzBdLmxlbmd0aCxwYXJzZUludCh0WzBdLDEwKX0saz1mdW5jdGlvbih0LHIsdSl7dmFyIGU9LTEsbz1uLm1hcChsKHQpP3U6cixmdW5jdGlvbihuLHQpe3JldHVybltbdCxuXV19KS5zb3J0KGZ1bmN0aW9uKG4sdCl7cmV0dXJuLShuWzFdLmxlbmd0aC10WzFdLmxlbmd0aCl9KTtpZihuLmVhY2gobyxmdW5jdGlvbihuLHQpe3ZhciByPXRbMV07aWYoaS5zdWJzdHIoZixyLmxlbmd0aCkudG9Mb3dlckNhc2UoKT09PXIudG9Mb3dlckNhc2UoKSlyZXR1cm4oZT10WzBdLGYrPXIubGVuZ3RoLCExKX0pLC0xIT09ZSlyZXR1cm4gZSsxO3Rocm93IlVua25vd24gbmFtZSBhdCBwb3NpdGlvbiAiK2Y7fSxiPWZ1bmN0aW9uKCl7aWYoaS5jaGFyQXQoZikhPT10LmNoYXJBdChvKSl0aHJvdyJVbmV4cGVjdGVkIGxpdGVyYWwgYXQgcG9zaXRpb24gIitmO2YrK30sbz0wO3QubGVuZ3RoPm87bysrKWlmKHcpIiciIT09dC5jaGFyQXQobyl8fGwoIiciKT9iKCk6dz0hMTtlbHNlIHN3aXRjaCh0LmNoYXJBdChvKSl7Y2FzZSJkIjpoPWMoImQiKTticmVhaztjYXNlIkQiOmsoIkQiLGcsbnQpO2JyZWFrO2Nhc2UibyI6cD1jKCJvIik7YnJlYWs7Y2FzZSJtIjpzPWMoIm0iKTticmVhaztjYXNlIk0iOnM9aygiTSIsdHQsaXQpO2JyZWFrO2Nhc2UieSI6ZT1jKCJ5Iik7YnJlYWs7Y2FzZSJAIjp1PW5ldyBEYXRlKGMoIkAiKSk7ZT11LmdldEZ1bGxZZWFyKCk7cz11LmdldE1vbnRoKCkrMTtoPXUuZ2V0RGF0ZSgpO2JyZWFrO2Nhc2UiISI6dT1uZXcgRGF0ZSgoYygiISIpLXRoaXMuX3RpY2tzVG8xOTcwKS8xZTQpO2U9dS5nZXRGdWxsWWVhcigpO3M9dS5nZXRNb250aCgpKzE7aD11LmdldERhdGUoKTticmVhaztjYXNlIiciOmwoIiciKT9iKCk6dz0hMDticmVhaztkZWZhdWx0OmIoKX1pZihpLmxlbmd0aD5mJiYodj1pLnN1YnN0cihmKSwhL15ccysvLnRlc3QodikpKXRocm93IkV4dHJhL3VucGFyc2VkIGNoYXJhY3RlcnMgZm91bmQgaW4gZGF0ZTogIit2O2lmKC0xPT09ZT9lPShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKToxMDA+ZSYmKGUrPShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKS0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCklMTAwKyhkPj1lPzA6LTEwMCkpLHA+LTEpZm9yKHM9MSxoPXA7Oyl7aWYoYT10aGlzLl9nZXREYXlzSW5Nb250aChlLHMtMSksYT49aClicmVhaztzKys7aC09YX1pZih1PXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGUscy0xLGgpKSx1LmdldEZ1bGxZZWFyKCkhPT1lfHx1LmdldE1vbnRoKCkrMSE9PXN8fHUuZ2V0RGF0ZSgpIT09aCl0aHJvdyJJbnZhbGlkIGRhdGUiO3JldHVybiB1fSxBVE9NOiJ5eS1tbS1kZCIsQ09PS0lFOiJELCBkZCBNIHl5IixJU09fODYwMToieXktbW0tZGQiLFJGQ184MjI6IkQsIGQgTSB5IixSRkNfODUwOiJERCwgZGQtTS15IixSRkNfMTAzNjoiRCwgZCBNIHkiLFJGQ18xMTIzOiJELCBkIE0geXkiLFJGQ18yODIyOiJELCBkIE0geXkiLFJTUzoiRCwgZCBNIHkiLFRJQ0tTOiIhIixUSU1FU1RBTVA6IkAiLFczQzoieXktbW0tZGQiLF90aWNrc1RvMTk3MDo4NjRlOSooNzE4Njg1K01hdGguZmxvb3IoNDkyLjUpLU1hdGguZmxvb3IoMTkuNykrTWF0aC5mbG9vcig0LjkyNSkpLGZvcm1hdERhdGU6ZnVuY3Rpb24obix0LGkpe2lmKCF0KXJldHVybiIiO3ZhciB1LGg9KGk/aS5kYXlOYW1lc1Nob3J0Om51bGwpfHx0aGlzLl9kZWZhdWx0cy5kYXlOYW1lc1Nob3J0LGM9KGk/aS5kYXlOYW1lczpudWxsKXx8dGhpcy5fZGVmYXVsdHMuZGF5TmFtZXMsbD0oaT9pLm1vbnRoTmFtZXNTaG9ydDpudWxsKXx8dGhpcy5fZGVmYXVsdHMubW9udGhOYW1lc1Nob3J0LGE9KGk/aS5tb250aE5hbWVzOm51bGwpfHx0aGlzLl9kZWZhdWx0cy5tb250aE5hbWVzLGY9ZnVuY3Rpb24odCl7dmFyIGk9bi5sZW5ndGg+dSsxJiZuLmNoYXJBdCh1KzEpPT09dDtyZXR1cm4gaSYmdSsrLGl9LGU9ZnVuY3Rpb24obix0LGkpe3ZhciByPSIiK3Q7aWYoZihuKSlmb3IoO2k+ci5sZW5ndGg7KXI9IjAiK3I7cmV0dXJuIHJ9LHM9ZnVuY3Rpb24obix0LGkscil7cmV0dXJuIGYobik/clt0XTppW3RdfSxyPSIiLG89ITE7aWYodClmb3IodT0wO24ubGVuZ3RoPnU7dSsrKWlmKG8pIiciIT09bi5jaGFyQXQodSl8fGYoIiciKT9yKz1uLmNoYXJBdCh1KTpvPSExO2Vsc2Ugc3dpdGNoKG4uY2hhckF0KHUpKXtjYXNlImQiOnIrPWUoImQiLHQuZ2V0RGF0ZSgpLDIpO2JyZWFrO2Nhc2UiRCI6cis9cygiRCIsdC5nZXREYXkoKSxoLGMpO2JyZWFrO2Nhc2UibyI6cis9ZSgibyIsTWF0aC5yb3VuZCgobmV3IERhdGUodC5nZXRGdWxsWWVhcigpLHQuZ2V0TW9udGgoKSx0LmdldERhdGUoKSkuZ2V0VGltZSgpLW5ldyBEYXRlKHQuZ2V0RnVsbFllYXIoKSwwLDApLmdldFRpbWUoKSkvODY0ZTUpLDMpO2JyZWFrO2Nhc2UibSI6cis9ZSgibSIsdC5nZXRNb250aCgpKzEsMik7YnJlYWs7Y2FzZSJNIjpyKz1zKCJNIix0LmdldE1vbnRoKCksbCxhKTticmVhaztjYXNlInkiOnIrPWYoInkiKT90LmdldEZ1bGxZZWFyKCk6KDEwPnQuZ2V0RnVsbFllYXIoKSUxMDA/IjAiOiIiKSt0LmdldEZ1bGxZZWFyKCklMTAwO2JyZWFrO2Nhc2UiQCI6cis9dC5nZXRUaW1lKCk7YnJlYWs7Y2FzZSIhIjpyKz0xZTQqdC5nZXRUaW1lKCkrdGhpcy5fdGlja3NUbzE5NzA7YnJlYWs7Y2FzZSInIjpmKCInIik/cis9IiciOm89ITA7YnJlYWs7ZGVmYXVsdDpyKz1uLmNoYXJBdCh1KX1yZXR1cm4gcn0sX3Bvc3NpYmxlQ2hhcnM6ZnVuY3Rpb24obil7Zm9yKHZhciBpPSIiLHI9ITEsdT1mdW5jdGlvbihpKXt2YXIgcj1uLmxlbmd0aD50KzEmJm4uY2hhckF0KHQrMSk9PT1pO3JldHVybiByJiZ0Kysscn0sdD0wO24ubGVuZ3RoPnQ7dCsrKWlmKHIpIiciIT09bi5jaGFyQXQodCl8fHUoIiciKT9pKz1uLmNoYXJBdCh0KTpyPSExO2Vsc2Ugc3dpdGNoKG4uY2hhckF0KHQpKXtjYXNlImQiOmNhc2UibSI6Y2FzZSJ5IjpjYXNlIkAiOmkrPSIwMTIzNDU2Nzg5IjticmVhaztjYXNlIkQiOmNhc2UiTSI6cmV0dXJuIG51bGw7Y2FzZSInIjp1KCInIik/aSs9IiciOnI9ITA7YnJlYWs7ZGVmYXVsdDppKz1uLmNoYXJBdCh0KX1yZXR1cm4gaX0sX2dldDpmdW5jdGlvbihuLHQpe3JldHVybiB2b2lkIDAhPT1uLnNldHRpbmdzW3RdP24uc2V0dGluZ3NbdF06dGhpcy5fZGVmYXVsdHNbdF19LF9zZXREYXRlRnJvbUZpZWxkOmZ1bmN0aW9uKG4sdCl7aWYobi5pbnB1dC52YWwoKSE9PW4ubGFzdFZhbCl7dmFyIGY9dGhpcy5fZ2V0KG4sImRhdGVGb3JtYXQiKSxyPW4ubGFzdFZhbD1uLmlucHV0P24uaW5wdXQudmFsKCk6bnVsbCx1PXRoaXMuX2dldERlZmF1bHREYXRlKG4pLGk9dSxlPXRoaXMuX2dldEZvcm1hdENvbmZpZyhuKTt0cnl7aT10aGlzLnBhcnNlRGF0ZShmLHIsZSl8fHV9Y2F0Y2gobyl7cj10PyIiOnJ9bi5zZWxlY3RlZERheT1pLmdldERhdGUoKTtuLmRyYXdNb250aD1uLnNlbGVjdGVkTW9udGg9aS5nZXRNb250aCgpO24uZHJhd1llYXI9bi5zZWxlY3RlZFllYXI9aS5nZXRGdWxsWWVhcigpO24uY3VycmVudERheT1yP2kuZ2V0RGF0ZSgpOjA7bi5jdXJyZW50TW9udGg9cj9pLmdldE1vbnRoKCk6MDtuLmN1cnJlbnRZZWFyPXI/aS5nZXRGdWxsWWVhcigpOjA7dGhpcy5fYWRqdXN0SW5zdERhdGUobil9fSxfZ2V0RGVmYXVsdERhdGU6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX3Jlc3RyaWN0TWluTWF4KG4sdGhpcy5fZGV0ZXJtaW5lRGF0ZShuLHRoaXMuX2dldChuLCJkZWZhdWx0RGF0ZSIpLG5ldyBEYXRlKSl9LF9kZXRlcm1pbmVEYXRlOmZ1bmN0aW9uKHQsaSxyKXt2YXIgZj1mdW5jdGlvbihuKXt2YXIgdD1uZXcgRGF0ZTtyZXR1cm4gdC5zZXREYXRlKHQuZ2V0RGF0ZSgpK24pLHR9LGU9ZnVuY3Rpb24oaSl7dHJ5e3JldHVybiBuLmRhdGVwaWNrZXIucGFyc2VEYXRlKG4uZGF0ZXBpY2tlci5fZ2V0KHQsImRhdGVGb3JtYXQiKSxpLG4uZGF0ZXBpY2tlci5fZ2V0Rm9ybWF0Q29uZmlnKHQpKX1jYXRjaChoKXt9Zm9yKHZhciBvPShpLnRvTG93ZXJDYXNlKCkubWF0Y2goL15jLyk/bi5kYXRlcGlja2VyLl9nZXREYXRlKHQpOm51bGwpfHxuZXcgRGF0ZSxmPW8uZ2V0RnVsbFllYXIoKSxlPW8uZ2V0TW9udGgoKSxyPW8uZ2V0RGF0ZSgpLHM9LyhbK1wtXT9bMC05XSspXHMqKGR8RHx3fFd8bXxNfHl8WSk/L2csdT1zLmV4ZWMoaSk7dTspe3N3aXRjaCh1WzJdfHwiZCIpe2Nhc2UiZCI6Y2FzZSJEIjpyKz1wYXJzZUludCh1WzFdLDEwKTticmVhaztjYXNlInciOmNhc2UiVyI6cis9NypwYXJzZUludCh1WzFdLDEwKTticmVhaztjYXNlIm0iOmNhc2UiTSI6ZSs9cGFyc2VJbnQodVsxXSwxMCk7cj1NYXRoLm1pbihyLG4uZGF0ZXBpY2tlci5fZ2V0RGF5c0luTW9udGgoZixlKSk7YnJlYWs7Y2FzZSJ5IjpjYXNlIlkiOmYrPXBhcnNlSW50KHVbMV0sMTApO3I9TWF0aC5taW4ocixuLmRhdGVwaWNrZXIuX2dldERheXNJbk1vbnRoKGYsZSkpfXU9cy5leGVjKGkpfXJldHVybiBuZXcgRGF0ZShmLGUscil9LHU9bnVsbD09aXx8IiI9PT1pP3I6InN0cmluZyI9PXR5cGVvZiBpP2UoaSk6Im51bWJlciI9PXR5cGVvZiBpP2lzTmFOKGkpP3I6ZihpKTpuZXcgRGF0ZShpLmdldFRpbWUoKSk7cmV0dXJuIHU9dSYmIkludmFsaWQgRGF0ZSI9PSIiK3U/cjp1LHUmJih1LnNldEhvdXJzKDApLHUuc2V0TWludXRlcygwKSx1LnNldFNlY29uZHMoMCksdS5zZXRNaWxsaXNlY29uZHMoMCkpLHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KHUpfSxfZGF5bGlnaHRTYXZpbmdBZGp1c3Q6ZnVuY3Rpb24obil7cmV0dXJuIG4/KG4uc2V0SG91cnMobi5nZXRIb3VycygpPjEyP24uZ2V0SG91cnMoKSsyOjApLG4pOm51bGx9LF9zZXREYXRlOmZ1bmN0aW9uKG4sdCxpKXt2YXIgdT0hdCxmPW4uc2VsZWN0ZWRNb250aCxlPW4uc2VsZWN0ZWRZZWFyLHI9dGhpcy5fcmVzdHJpY3RNaW5NYXgobix0aGlzLl9kZXRlcm1pbmVEYXRlKG4sdCxuZXcgRGF0ZSkpO24uc2VsZWN0ZWREYXk9bi5jdXJyZW50RGF5PXIuZ2V0RGF0ZSgpO24uZHJhd01vbnRoPW4uc2VsZWN0ZWRNb250aD1uLmN1cnJlbnRNb250aD1yLmdldE1vbnRoKCk7bi5kcmF3WWVhcj1uLnNlbGVjdGVkWWVhcj1uLmN1cnJlbnRZZWFyPXIuZ2V0RnVsbFllYXIoKTtmPT09bi5zZWxlY3RlZE1vbnRoJiZlPT09bi5zZWxlY3RlZFllYXJ8fGl8fHRoaXMuX25vdGlmeUNoYW5nZShuKTt0aGlzLl9hZGp1c3RJbnN0RGF0ZShuKTtuLmlucHV0JiZuLmlucHV0LnZhbCh1PyIiOnRoaXMuX2Zvcm1hdERhdGUobikpfSxfZ2V0RGF0ZTpmdW5jdGlvbihuKXtyZXR1cm4hbi5jdXJyZW50WWVhcnx8bi5pbnB1dCYmIiI9PT1uLmlucHV0LnZhbCgpP251bGw6dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUobi5jdXJyZW50WWVhcixuLmN1cnJlbnRNb250aCxuLmN1cnJlbnREYXkpKX0sX2F0dGFjaEhhbmRsZXJzOmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuX2dldCh0LCJzdGVwTW9udGhzIiksaT0iIyIrdC5pZC5yZXBsYWNlKC9cXFxcL2csIlxcIik7dC5kcERpdi5maW5kKCJbZGF0YS1oYW5kbGVyXSIpLm1hcChmdW5jdGlvbigpe3ZhciB0PXtwcmV2OmZ1bmN0aW9uKCl7bi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGksLXIsIk0iKX0sbmV4dDpmdW5jdGlvbigpe24uZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShpLCtyLCJNIil9LGhpZGU6ZnVuY3Rpb24oKXtuLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCl9LHRvZGF5OmZ1bmN0aW9uKCl7bi5kYXRlcGlja2VyLl9nb3RvVG9kYXkoaSl9LHNlbGVjdERheTpmdW5jdGlvbigpe3JldHVybiBuLmRhdGVwaWNrZXIuX3NlbGVjdERheShpLCt0aGlzLmdldEF0dHJpYnV0ZSgiZGF0YS1tb250aCIpLCt0aGlzLmdldEF0dHJpYnV0ZSgiZGF0YS15ZWFyIiksdGhpcyksITF9LHNlbGVjdE1vbnRoOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZGF0ZXBpY2tlci5fc2VsZWN0TW9udGhZZWFyKGksdGhpcywiTSIpLCExfSxzZWxlY3RZZWFyOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZGF0ZXBpY2tlci5fc2VsZWN0TW9udGhZZWFyKGksdGhpcywiWSIpLCExfX07bih0aGlzKS5vbih0aGlzLmdldEF0dHJpYnV0ZSgiZGF0YS1ldmVudCIpLHRbdGhpcy5nZXRBdHRyaWJ1dGUoImRhdGEtaGFuZGxlciIpXSl9KX0sX2dlbmVyYXRlSFRNTDpmdW5jdGlvbihuKXt2YXIgYixzLHJ0LGgsdXQsayxmdCxldCxyaSxjLG90LHVpLGZpLGVpLG9pLHN0LGcsc2ksaHQsbnQsbyx5LGN0LHAsbHQsbCx1LGF0LHZ0LHl0LHB0LHR0LHd0LGksYnQsa3QsZCxhLGl0LGR0PW5ldyBEYXRlLGd0PXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGR0LmdldEZ1bGxZZWFyKCksZHQuZ2V0TW9udGgoKSxkdC5nZXREYXRlKCkpKSxmPXRoaXMuX2dldChuLCJpc1JUTCIpLGxpPXRoaXMuX2dldChuLCJzaG93QnV0dG9uUGFuZWwiKSxoaT10aGlzLl9nZXQobiwiaGlkZUlmTm9QcmV2TmV4dCIpLG5pPXRoaXMuX2dldChuLCJuYXZpZ2F0aW9uQXNEYXRlRm9ybWF0IiksZT10aGlzLl9nZXROdW1iZXJPZk1vbnRocyhuKSxhaT10aGlzLl9nZXQobiwic2hvd0N1cnJlbnRBdFBvcyIpLGNpPXRoaXMuX2dldChuLCJzdGVwTW9udGhzIiksdGk9MSE9PWVbMF18fDEhPT1lWzFdLGlpPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG4uY3VycmVudERheT9uZXcgRGF0ZShuLmN1cnJlbnRZZWFyLG4uY3VycmVudE1vbnRoLG4uY3VycmVudERheSk6bmV3IERhdGUoOTk5OSw5LDkpKSx3PXRoaXMuX2dldE1pbk1heERhdGUobiwibWluIiksdj10aGlzLl9nZXRNaW5NYXhEYXRlKG4sIm1heCIpLHQ9bi5kcmF3TW9udGgtYWkscj1uLmRyYXdZZWFyO2lmKDA+dCYmKHQrPTEyLHItLSksdilmb3IoYj10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZSh2LmdldEZ1bGxZZWFyKCksdi5nZXRNb250aCgpLWVbMF0qZVsxXSsxLHYuZ2V0RGF0ZSgpKSksYj13JiZ3PmI/dzpiO3RoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHIsdCwxKSk+YjspdC0tLDA+dCYmKHQ9MTEsci0tKTtmb3Iobi5kcmF3TW9udGg9dCxuLmRyYXdZZWFyPXIscz10aGlzLl9nZXQobiwicHJldlRleHQiKSxzPW5pP3RoaXMuZm9ybWF0RGF0ZShzLHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHIsdC1jaSwxKSksdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKG4pKTpzLHJ0PXRoaXMuX2NhbkFkanVzdE1vbnRoKG4sLTEscix0KT8iPGEgY2xhc3M9J3VpLWRhdGVwaWNrZXItcHJldiB1aS1jb3JuZXItYWxsJyBkYXRhLWhhbmRsZXI9J3ByZXYnIGRhdGEtZXZlbnQ9J2NsaWNrJyB0aXRsZT0nIitzKyInPjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLSIrKGY/ImUiOiJ3IikrIic+IitzKyI8XC9zcGFuPjxcL2E+IjpoaT8iIjoiPGEgY2xhc3M9J3VpLWRhdGVwaWNrZXItcHJldiB1aS1jb3JuZXItYWxsIHVpLXN0YXRlLWRpc2FibGVkJyB0aXRsZT0nIitzKyInPjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLSIrKGY/ImUiOiJ3IikrIic+IitzKyI8XC9zcGFuPjxcL2E+IixoPXRoaXMuX2dldChuLCJuZXh0VGV4dCIpLGg9bmk/dGhpcy5mb3JtYXREYXRlKGgsdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUocix0K2NpLDEpKSx0aGlzLl9nZXRGb3JtYXRDb25maWcobikpOmgsdXQ9dGhpcy5fY2FuQWRqdXN0TW9udGgobiwxLHIsdCk/IjxhIGNsYXNzPSd1aS1kYXRlcGlja2VyLW5leHQgdWktY29ybmVyLWFsbCcgZGF0YS1oYW5kbGVyPSduZXh0JyBkYXRhLWV2ZW50PSdjbGljaycgdGl0bGU9JyIraCsiJz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS0iKyhmPyJ3IjoiZSIpKyInPiIraCsiPFwvc3Bhbj48XC9hPiI6aGk/IiI6IjxhIGNsYXNzPSd1aS1kYXRlcGlja2VyLW5leHQgdWktY29ybmVyLWFsbCB1aS1zdGF0ZS1kaXNhYmxlZCcgdGl0bGU9JyIraCsiJz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS0iKyhmPyJ3IjoiZSIpKyInPiIraCsiPFwvc3Bhbj48XC9hPiIsaz10aGlzLl9nZXQobiwiY3VycmVudFRleHQiKSxmdD10aGlzLl9nZXQobiwiZ290b0N1cnJlbnQiKSYmbi5jdXJyZW50RGF5P2lpOmd0LGs9bmk/dGhpcy5mb3JtYXREYXRlKGssZnQsdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKG4pKTprLGV0PW4uaW5saW5lPyIiOiI8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J3VpLWRhdGVwaWNrZXItY2xvc2UgdWktc3RhdGUtZGVmYXVsdCB1aS1wcmlvcml0eS1wcmltYXJ5IHVpLWNvcm5lci1hbGwnIGRhdGEtaGFuZGxlcj0naGlkZScgZGF0YS1ldmVudD0nY2xpY2snPiIrdGhpcy5fZ2V0KG4sImNsb3NlVGV4dCIpKyI8XC9idXR0b24+IixyaT1saT8iPGRpdiBjbGFzcz0ndWktZGF0ZXBpY2tlci1idXR0b25wYW5lIHVpLXdpZGdldC1jb250ZW50Jz4iKyhmP2V0OiIiKSsodGhpcy5faXNJblJhbmdlKG4sZnQpPyI8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J3VpLWRhdGVwaWNrZXItY3VycmVudCB1aS1zdGF0ZS1kZWZhdWx0IHVpLXByaW9yaXR5LXNlY29uZGFyeSB1aS1jb3JuZXItYWxsJyBkYXRhLWhhbmRsZXI9J3RvZGF5JyBkYXRhLWV2ZW50PSdjbGljayc+IitrKyI8XC9idXR0b24+IjoiIikrKGY/IiI6ZXQpKyI8XC9kaXY+IjoiIixjPXBhcnNlSW50KHRoaXMuX2dldChuLCJmaXJzdERheSIpLDEwKSxjPWlzTmFOKGMpPzA6YyxvdD10aGlzLl9nZXQobiwic2hvd1dlZWsiKSx1aT10aGlzLl9nZXQobiwiZGF5TmFtZXMiKSxmaT10aGlzLl9nZXQobiwiZGF5TmFtZXNNaW4iKSxlaT10aGlzLl9nZXQobiwibW9udGhOYW1lcyIpLG9pPXRoaXMuX2dldChuLCJtb250aE5hbWVzU2hvcnQiKSxzdD10aGlzLl9nZXQobiwiYmVmb3JlU2hvd0RheSIpLGc9dGhpcy5fZ2V0KG4sInNob3dPdGhlck1vbnRocyIpLHNpPXRoaXMuX2dldChuLCJzZWxlY3RPdGhlck1vbnRocyIpLGh0PXRoaXMuX2dldERlZmF1bHREYXRlKG4pLG50PSIiLHk9MDtlWzBdPnk7eSsrKXtmb3IoY3Q9IiIsdGhpcy5tYXhSb3dzPTQscD0wO2VbMV0+cDtwKyspe2lmKGx0PXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHIsdCxuLnNlbGVjdGVkRGF5KSksbD0iIHVpLWNvcm5lci1hbGwiLHU9IiIsdGkpe2lmKHUrPSI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLWdyb3VwIixlWzFdPjEpc3dpdGNoKHApe2Nhc2UgMDp1Kz0iIHVpLWRhdGVwaWNrZXItZ3JvdXAtZmlyc3QiO2w9IiB1aS1jb3JuZXItIisoZj8icmlnaHQiOiJsZWZ0Iik7YnJlYWs7Y2FzZSBlWzFdLTE6dSs9IiB1aS1kYXRlcGlja2VyLWdyb3VwLWxhc3QiO2w9IiB1aS1jb3JuZXItIisoZj8ibGVmdCI6InJpZ2h0Iik7YnJlYWs7ZGVmYXVsdDp1Kz0iIHVpLWRhdGVwaWNrZXItZ3JvdXAtbWlkZGxlIjtsPSIifXUrPSInPiJ9Zm9yKHUrPSI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLWhlYWRlciB1aS13aWRnZXQtaGVhZGVyIHVpLWhlbHBlci1jbGVhcmZpeCIrbCsiJz4iKygvYWxsfGxlZnQvLnRlc3QobCkmJjA9PT15P2Y/dXQ6cnQ6IiIpKygvYWxsfHJpZ2h0Ly50ZXN0KGwpJiYwPT09eT9mP3J0OnV0OiIiKSt0aGlzLl9nZW5lcmF0ZU1vbnRoWWVhckhlYWRlcihuLHQscix3LHYseT4wfHxwPjAsZWksb2kpKyI8XC9kaXY+PHRhYmxlIGNsYXNzPSd1aS1kYXRlcGlja2VyLWNhbGVuZGFyJz48dGhlYWQ+PHRyPiIsYXQ9b3Q/Ijx0aCBjbGFzcz0ndWktZGF0ZXBpY2tlci13ZWVrLWNvbCc+Iit0aGlzLl9nZXQobiwid2Vla0hlYWRlciIpKyI8XC90aD4iOiIiLG89MDs3Pm87bysrKXZ0PShvK2MpJTcsYXQrPSI8dGggc2NvcGU9J2NvbCciKygobytjKzYpJTc+PTU/IiBjbGFzcz0ndWktZGF0ZXBpY2tlci13ZWVrLWVuZCciOiIiKSsiPjxzcGFuIHRpdGxlPSciK3VpW3Z0XSsiJz4iK2ZpW3Z0XSsiPFwvc3Bhbj48XC90aD4iO2Zvcih1Kz1hdCsiPFwvdHI+PFwvdGhlYWQ+PHRib2R5PiIseXQ9dGhpcy5fZ2V0RGF5c0luTW9udGgocix0KSxyPT09bi5zZWxlY3RlZFllYXImJnQ9PT1uLnNlbGVjdGVkTW9udGgmJihuLnNlbGVjdGVkRGF5PU1hdGgubWluKG4uc2VsZWN0ZWREYXkseXQpKSxwdD0odGhpcy5fZ2V0Rmlyc3REYXlPZk1vbnRoKHIsdCktYys3KSU3LHR0PU1hdGguY2VpbCgocHQreXQpLzcpLHd0PXRpP3RoaXMubWF4Um93cz50dD90aGlzLm1heFJvd3M6dHQ6dHQsdGhpcy5tYXhSb3dzPXd0LGk9dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUocix0LDEtcHQpKSxidD0wO3d0PmJ0O2J0Kyspe2Zvcih1Kz0iPHRyPiIsa3Q9b3Q/Ijx0ZCBjbGFzcz0ndWktZGF0ZXBpY2tlci13ZWVrLWNvbCc+Iit0aGlzLl9nZXQobiwiY2FsY3VsYXRlV2VlayIpKGkpKyI8XC90ZD4iOiIiLG89MDs3Pm87bysrKWQ9c3Q/c3QuYXBwbHkobi5pbnB1dD9uLmlucHV0WzBdOm51bGwsW2ldKTpbITAsIiJdLGE9aS5nZXRNb250aCgpIT09dCxpdD1hJiYhc2l8fCFkWzBdfHx3JiZ3Pml8fHYmJmk+dixrdCs9Ijx0ZCBjbGFzcz0nIisoKG8rYys2KSU3Pj01PyIgdWktZGF0ZXBpY2tlci13ZWVrLWVuZCI6IiIpKyhhPyIgdWktZGF0ZXBpY2tlci1vdGhlci1tb250aCI6IiIpKyhpLmdldFRpbWUoKT09PWx0LmdldFRpbWUoKSYmdD09PW4uc2VsZWN0ZWRNb250aCYmbi5fa2V5RXZlbnR8fGh0LmdldFRpbWUoKT09PWkuZ2V0VGltZSgpJiZodC5nZXRUaW1lKCk9PT1sdC5nZXRUaW1lKCk/IiAiK3RoaXMuX2RheU92ZXJDbGFzczoiIikrKGl0PyIgIit0aGlzLl91bnNlbGVjdGFibGVDbGFzcysiIHVpLXN0YXRlLWRpc2FibGVkIjoiIikrKGEmJiFnPyIiOiIgIitkWzFdKyhpLmdldFRpbWUoKT09PWlpLmdldFRpbWUoKT8iICIrdGhpcy5fY3VycmVudENsYXNzOiIiKSsoaS5nZXRUaW1lKCk9PT1ndC5nZXRUaW1lKCk/IiB1aS1kYXRlcGlja2VyLXRvZGF5IjoiIikpKyInIisoYSYmIWd8fCFkWzJdPyIiOiIgdGl0bGU9JyIrZFsyXS5yZXBsYWNlKC8nL2csIiYjMzk7IikrIiciKSsoaXQ/IiI6IiBkYXRhLWhhbmRsZXI9J3NlbGVjdERheScgZGF0YS1ldmVudD0nY2xpY2snIGRhdGEtbW9udGg9JyIraS5nZXRNb250aCgpKyInIGRhdGEteWVhcj0nIitpLmdldEZ1bGxZZWFyKCkrIiciKSsiPiIrKGEmJiFnPyImI3hhMDsiOml0PyI8c3BhbiBjbGFzcz0ndWktc3RhdGUtZGVmYXVsdCc+IitpLmdldERhdGUoKSsiPFwvc3Bhbj4iOiI8YSBjbGFzcz0ndWktc3RhdGUtZGVmYXVsdCIrKGkuZ2V0VGltZSgpPT09Z3QuZ2V0VGltZSgpPyIgdWktc3RhdGUtaGlnaGxpZ2h0IjoiIikrKGkuZ2V0VGltZSgpPT09aWkuZ2V0VGltZSgpPyIgdWktc3RhdGUtYWN0aXZlIjoiIikrKGE/IiB1aS1wcmlvcml0eS1zZWNvbmRhcnkiOiIiKSsiJyBocmVmPScjJz4iK2kuZ2V0RGF0ZSgpKyI8XC9hPiIpKyI8XC90ZD4iLGkuc2V0RGF0ZShpLmdldERhdGUoKSsxKSxpPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KGkpO3UrPWt0KyI8XC90cj4ifXQrKzt0PjExJiYodD0wLHIrKyk7dSs9IjxcL3Rib2R5PjxcL3RhYmxlPiIrKHRpPyI8XC9kaXY+IisoZVswXT4wJiZwPT09ZVsxXS0xPyI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLXJvdy1icmVhayc+PFwvZGl2PiI6IiIpOiIiKTtjdCs9dX1udCs9Y3R9cmV0dXJuIG50Kz1yaSxuLl9rZXlFdmVudD0hMSxudH0sX2dlbmVyYXRlTW9udGhZZWFySGVhZGVyOmZ1bmN0aW9uKG4sdCxpLHIsdSxmLGUsbyl7dmFyIGssZCxoLHYseSxwLHMsYSx3PXRoaXMuX2dldChuLCJjaGFuZ2VNb250aCIpLGI9dGhpcy5fZ2V0KG4sImNoYW5nZVllYXIiKSxnPXRoaXMuX2dldChuLCJzaG93TW9udGhBZnRlclllYXIiKSxjPSI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLXRpdGxlJz4iLGw9IiI7aWYoZnx8IXcpbCs9IjxzcGFuIGNsYXNzPSd1aS1kYXRlcGlja2VyLW1vbnRoJz4iK2VbdF0rIjxcL3NwYW4+IjtlbHNle2ZvcihrPXImJnIuZ2V0RnVsbFllYXIoKT09PWksZD11JiZ1LmdldEZ1bGxZZWFyKCk9PT1pLGwrPSI8c2VsZWN0IGNsYXNzPSd1aS1kYXRlcGlja2VyLW1vbnRoJyBkYXRhLWhhbmRsZXI9J3NlbGVjdE1vbnRoJyBkYXRhLWV2ZW50PSdjaGFuZ2UnPiIsaD0wOzEyPmg7aCsrKSgha3x8aD49ci5nZXRNb250aCgpKSYmKCFkfHx1LmdldE1vbnRoKCk+PWgpJiYobCs9IjxvcHRpb24gdmFsdWU9JyIraCsiJyIrKGg9PT10PyIgc2VsZWN0ZWQ9J3NlbGVjdGVkJyI6IiIpKyI+IitvW2hdKyI8XC9vcHRpb24+Iik7bCs9IjxcL3NlbGVjdD4ifWlmKGd8fChjKz1sKyghZiYmdyYmYj8iIjoiJiN4YTA7IikpLCFuLnllYXJzaHRtbClpZihuLnllYXJzaHRtbD0iIixmfHwhYiljKz0iPHNwYW4gY2xhc3M9J3VpLWRhdGVwaWNrZXIteWVhcic+IitpKyI8XC9zcGFuPiI7ZWxzZXtmb3Iodj10aGlzLl9nZXQobiwieWVhclJhbmdlIikuc3BsaXQoIjoiKSx5PShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKSxwPWZ1bmN0aW9uKG4pe3ZhciB0PW4ubWF0Y2goL2NbK1wtXS4qLyk/aStwYXJzZUludChuLnN1YnN0cmluZygxKSwxMCk6bi5tYXRjaCgvWytcLV0uKi8pP3krcGFyc2VJbnQobiwxMCk6cGFyc2VJbnQobiwxMCk7cmV0dXJuIGlzTmFOKHQpP3k6dH0scz1wKHZbMF0pLGE9TWF0aC5tYXgocyxwKHZbMV18fCIiKSkscz1yP01hdGgubWF4KHMsci5nZXRGdWxsWWVhcigpKTpzLGE9dT9NYXRoLm1pbihhLHUuZ2V0RnVsbFllYXIoKSk6YSxuLnllYXJzaHRtbCs9IjxzZWxlY3QgY2xhc3M9J3VpLWRhdGVwaWNrZXIteWVhcicgZGF0YS1oYW5kbGVyPSdzZWxlY3RZZWFyJyBkYXRhLWV2ZW50PSdjaGFuZ2UnPiI7YT49cztzKyspbi55ZWFyc2h0bWwrPSI8b3B0aW9uIHZhbHVlPSciK3MrIiciKyhzPT09aT8iIHNlbGVjdGVkPSdzZWxlY3RlZCciOiIiKSsiPiIrcysiPFwvb3B0aW9uPiI7bi55ZWFyc2h0bWwrPSI8XC9zZWxlY3Q+IjtjKz1uLnllYXJzaHRtbDtuLnllYXJzaHRtbD1udWxsfXJldHVybiBjKz10aGlzLl9nZXQobiwieWVhclN1ZmZpeCIpLGcmJihjKz0oIWYmJncmJmI/IiI6IiYjeGEwOyIpK2wpLGMrIjxcL2Rpdj4ifSxfYWRqdXN0SW5zdERhdGU6ZnVuY3Rpb24obix0LGkpe3ZhciB1PW4uc2VsZWN0ZWRZZWFyKygiWSI9PT1pP3Q6MCksZj1uLnNlbGVjdGVkTW9udGgrKCJNIj09PWk/dDowKSxlPU1hdGgubWluKG4uc2VsZWN0ZWREYXksdGhpcy5fZ2V0RGF5c0luTW9udGgodSxmKSkrKCJEIj09PWk/dDowKSxyPXRoaXMuX3Jlc3RyaWN0TWluTWF4KG4sdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUodSxmLGUpKSk7bi5zZWxlY3RlZERheT1yLmdldERhdGUoKTtuLmRyYXdNb250aD1uLnNlbGVjdGVkTW9udGg9ci5nZXRNb250aCgpO24uZHJhd1llYXI9bi5zZWxlY3RlZFllYXI9ci5nZXRGdWxsWWVhcigpOygiTSI9PT1pfHwiWSI9PT1pKSYmdGhpcy5fbm90aWZ5Q2hhbmdlKG4pfSxfcmVzdHJpY3RNaW5NYXg6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLl9nZXRNaW5NYXhEYXRlKG4sIm1pbiIpLHI9dGhpcy5fZ2V0TWluTWF4RGF0ZShuLCJtYXgiKSx1PWkmJmk+dD9pOnQ7cmV0dXJuIHImJnU+cj9yOnV9LF9ub3RpZnlDaGFuZ2U6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fZ2V0KG4sIm9uQ2hhbmdlTW9udGhZZWFyIik7dCYmdC5hcHBseShuLmlucHV0P24uaW5wdXRbMF06bnVsbCxbbi5zZWxlY3RlZFllYXIsbi5zZWxlY3RlZE1vbnRoKzEsbl0pfSxfZ2V0TnVtYmVyT2ZNb250aHM6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fZ2V0KG4sIm51bWJlck9mTW9udGhzIik7cmV0dXJuIG51bGw9PXQ/WzEsMV06Im51bWJlciI9PXR5cGVvZiB0P1sxLHRdOnR9LF9nZXRNaW5NYXhEYXRlOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMuX2RldGVybWluZURhdGUobix0aGlzLl9nZXQobix0KyJEYXRlIiksbnVsbCl9LF9nZXREYXlzSW5Nb250aDpmdW5jdGlvbihuLHQpe3JldHVybiAzMi10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShuLHQsMzIpKS5nZXREYXRlKCl9LF9nZXRGaXJzdERheU9mTW9udGg6ZnVuY3Rpb24obix0KXtyZXR1cm4gbmV3IERhdGUobix0LDEpLmdldERheSgpfSxfY2FuQWRqdXN0TW9udGg6ZnVuY3Rpb24obix0LGkscil7dmFyIGY9dGhpcy5fZ2V0TnVtYmVyT2ZNb250aHMobiksdT10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShpLHIrKDA+dD90OmZbMF0qZlsxXSksMSkpO3JldHVybiAwPnQmJnUuc2V0RGF0ZSh0aGlzLl9nZXREYXlzSW5Nb250aCh1LmdldEZ1bGxZZWFyKCksdS5nZXRNb250aCgpKSksdGhpcy5faXNJblJhbmdlKG4sdSl9LF9pc0luUmFuZ2U6ZnVuY3Rpb24obix0KXt2YXIgaSxmLGU9dGhpcy5fZ2V0TWluTWF4RGF0ZShuLCJtaW4iKSxvPXRoaXMuX2dldE1pbk1heERhdGUobiwibWF4Iikscj1udWxsLHU9bnVsbCxzPXRoaXMuX2dldChuLCJ5ZWFyUmFuZ2UiKTtyZXR1cm4gcyYmKGk9cy5zcGxpdCgiOiIpLGY9KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpLHI9cGFyc2VJbnQoaVswXSwxMCksdT1wYXJzZUludChpWzFdLDEwKSxpWzBdLm1hdGNoKC9bK1wtXS4qLykmJihyKz1mKSxpWzFdLm1hdGNoKC9bK1wtXS4qLykmJih1Kz1mKSksKCFlfHx0LmdldFRpbWUoKT49ZS5nZXRUaW1lKCkpJiYoIW98fHQuZ2V0VGltZSgpPD1vLmdldFRpbWUoKSkmJighcnx8dC5nZXRGdWxsWWVhcigpPj1yKSYmKCF1fHx1Pj10LmdldEZ1bGxZZWFyKCkpfSxfZ2V0Rm9ybWF0Q29uZmlnOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuX2dldChuLCJzaG9ydFllYXJDdXRvZmYiKTtyZXR1cm4gdD0ic3RyaW5nIiE9dHlwZW9mIHQ/dDoobmV3IERhdGUpLmdldEZ1bGxZZWFyKCklMTAwK3BhcnNlSW50KHQsMTApLHtzaG9ydFllYXJDdXRvZmY6dCxkYXlOYW1lc1Nob3J0OnRoaXMuX2dldChuLCJkYXlOYW1lc1Nob3J0IiksZGF5TmFtZXM6dGhpcy5fZ2V0KG4sImRheU5hbWVzIiksbW9udGhOYW1lc1Nob3J0OnRoaXMuX2dldChuLCJtb250aE5hbWVzU2hvcnQiKSxtb250aE5hbWVzOnRoaXMuX2dldChuLCJtb250aE5hbWVzIil9fSxfZm9ybWF0RGF0ZTpmdW5jdGlvbihuLHQsaSxyKXt0fHwobi5jdXJyZW50RGF5PW4uc2VsZWN0ZWREYXksbi5jdXJyZW50TW9udGg9bi5zZWxlY3RlZE1vbnRoLG4uY3VycmVudFllYXI9bi5zZWxlY3RlZFllYXIpO3ZhciB1PXQ/Im9iamVjdCI9PXR5cGVvZiB0P3Q6dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUocixpLHQpKTp0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShuLmN1cnJlbnRZZWFyLG4uY3VycmVudE1vbnRoLG4uY3VycmVudERheSkpO3JldHVybiB0aGlzLmZvcm1hdERhdGUodGhpcy5fZ2V0KG4sImRhdGVGb3JtYXQiKSx1LHRoaXMuX2dldEZvcm1hdENvbmZpZyhuKSl9fSk7bi5mbi5kYXRlcGlja2VyPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmxlbmd0aClyZXR1cm4gdGhpcztuLmRhdGVwaWNrZXIuaW5pdGlhbGl6ZWR8fChuKGRvY3VtZW50KS5vbigibW91c2Vkb3duIixuLmRhdGVwaWNrZXIuX2NoZWNrRXh0ZXJuYWxDbGljayksbi5kYXRlcGlja2VyLmluaXRpYWxpemVkPSEwKTswPT09bigiIyIrbi5kYXRlcGlja2VyLl9tYWluRGl2SWQpLmxlbmd0aCYmbigiYm9keSIpLmFwcGVuZChuLmRhdGVwaWNrZXIuZHBEaXYpO3ZhciBpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHR8fCJpc0Rpc2FibGVkIiE9PXQmJiJnZXREYXRlIiE9PXQmJiJ3aWRnZXQiIT09dD8ib3B0aW9uIj09PXQmJjI9PT1hcmd1bWVudHMubGVuZ3RoJiYic3RyaW5nIj09dHlwZW9mIGFyZ3VtZW50c1sxXT9uLmRhdGVwaWNrZXJbIl8iK3QrIkRhdGVwaWNrZXIiXS5hcHBseShuLmRhdGVwaWNrZXIsW3RoaXNbMF1dLmNvbmNhdChpKSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7InN0cmluZyI9PXR5cGVvZiB0P24uZGF0ZXBpY2tlclsiXyIrdCsiRGF0ZXBpY2tlciJdLmFwcGx5KG4uZGF0ZXBpY2tlcixbdGhpc10uY29uY2F0KGkpKTpuLmRhdGVwaWNrZXIuX2F0dGFjaERhdGVwaWNrZXIodGhpcyx0KX0pOm4uZGF0ZXBpY2tlclsiXyIrdCsiRGF0ZXBpY2tlciJdLmFwcGx5KG4uZGF0ZXBpY2tlcixbdGhpc1swXV0uY29uY2F0KGkpKX07bi5kYXRlcGlja2VyPW5ldyBjO24uZGF0ZXBpY2tlci5pbml0aWFsaXplZD0hMTtuLmRhdGVwaWNrZXIudXVpZD0obmV3IERhdGUpLmdldFRpbWUoKTtuLmRhdGVwaWNrZXIudmVyc2lvbj0iMS4xMi4xIjtuLmRhdGVwaWNrZXI7bi51aS5pZT0hIS9tc2llIFtcdy5dKy8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO3I9ITE7bihkb2N1bWVudCkub24oIm1vdXNldXAiLGZ1bmN0aW9uKCl7cj0hMX0pO24ud2lkZ2V0KCJ1aS5tb3VzZSIse3ZlcnNpb246IjEuMTIuMSIsb3B0aW9uczp7Y2FuY2VsOiJpbnB1dCwgdGV4dGFyZWEsIGJ1dHRvbiwgc2VsZWN0LCBvcHRpb24iLGRpc3RhbmNlOjEsZGVsYXk6MH0sX21vdXNlSW5pdDpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5lbGVtZW50Lm9uKCJtb3VzZWRvd24uIit0aGlzLndpZGdldE5hbWUsZnVuY3Rpb24obil7cmV0dXJuIHQuX21vdXNlRG93bihuKX0pLm9uKCJjbGljay4iK3RoaXMud2lkZ2V0TmFtZSxmdW5jdGlvbihpKXtpZighMD09PW4uZGF0YShpLnRhcmdldCx0LndpZGdldE5hbWUrIi5wcmV2ZW50Q2xpY2tFdmVudCIpKXJldHVybihuLnJlbW92ZURhdGEoaS50YXJnZXQsdC53aWRnZXROYW1lKyIucHJldmVudENsaWNrRXZlbnQiKSxpLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLCExKX0pO3RoaXMuc3RhcnRlZD0hMX0sX21vdXNlRGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5vZmYoIi4iK3RoaXMud2lkZ2V0TmFtZSk7dGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUmJnRoaXMuZG9jdW1lbnQub2ZmKCJtb3VzZW1vdmUuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUpLm9mZigibW91c2V1cC4iK3RoaXMud2lkZ2V0TmFtZSx0aGlzLl9tb3VzZVVwRGVsZWdhdGUpfSxfbW91c2VEb3duOmZ1bmN0aW9uKHQpe2lmKCFyKXt0aGlzLl9tb3VzZU1vdmVkPSExO3RoaXMuX21vdXNlU3RhcnRlZCYmdGhpcy5fbW91c2VVcCh0KTt0aGlzLl9tb3VzZURvd25FdmVudD10O3ZhciBpPXRoaXMsdT0xPT09dC53aGljaCxmPSJzdHJpbmciPT10eXBlb2YgdGhpcy5vcHRpb25zLmNhbmNlbCYmdC50YXJnZXQubm9kZU5hbWU/bih0LnRhcmdldCkuY2xvc2VzdCh0aGlzLm9wdGlvbnMuY2FuY2VsKS5sZW5ndGg6ITE7cmV0dXJuIHUmJiFmJiZ0aGlzLl9tb3VzZUNhcHR1cmUodCk/KHRoaXMubW91c2VEZWxheU1ldD0hdGhpcy5vcHRpb25zLmRlbGF5LHRoaXMubW91c2VEZWxheU1ldHx8KHRoaXMuX21vdXNlRGVsYXlUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS5tb3VzZURlbGF5TWV0PSEwfSx0aGlzLm9wdGlvbnMuZGVsYXkpKSx0aGlzLl9tb3VzZURpc3RhbmNlTWV0KHQpJiZ0aGlzLl9tb3VzZURlbGF5TWV0KHQpJiYodGhpcy5fbW91c2VTdGFydGVkPXRoaXMuX21vdXNlU3RhcnQodCkhPT0hMSwhdGhpcy5fbW91c2VTdGFydGVkKT8odC5wcmV2ZW50RGVmYXVsdCgpLCEwKTooITA9PT1uLmRhdGEodC50YXJnZXQsdGhpcy53aWRnZXROYW1lKyIucHJldmVudENsaWNrRXZlbnQiKSYmbi5yZW1vdmVEYXRhKHQudGFyZ2V0LHRoaXMud2lkZ2V0TmFtZSsiLnByZXZlbnRDbGlja0V2ZW50IiksdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGU9ZnVuY3Rpb24obil7cmV0dXJuIGkuX21vdXNlTW92ZShuKX0sdGhpcy5fbW91c2VVcERlbGVnYXRlPWZ1bmN0aW9uKG4pe3JldHVybiBpLl9tb3VzZVVwKG4pfSx0aGlzLmRvY3VtZW50Lm9uKCJtb3VzZW1vdmUuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUpLm9uKCJtb3VzZXVwLiIrdGhpcy53aWRnZXROYW1lLHRoaXMuX21vdXNlVXBEZWxlZ2F0ZSksdC5wcmV2ZW50RGVmYXVsdCgpLHI9ITAsITApKTohMH19LF9tb3VzZU1vdmU6ZnVuY3Rpb24odCl7aWYodGhpcy5fbW91c2VNb3ZlZCl7aWYobi51aS5pZSYmKCFkb2N1bWVudC5kb2N1bWVudE1vZGV8fDk+ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSYmIXQuYnV0dG9uKXJldHVybiB0aGlzLl9tb3VzZVVwKHQpO2lmKCF0LndoaWNoKWlmKHQub3JpZ2luYWxFdmVudC5hbHRLZXl8fHQub3JpZ2luYWxFdmVudC5jdHJsS2V5fHx0Lm9yaWdpbmFsRXZlbnQubWV0YUtleXx8dC5vcmlnaW5hbEV2ZW50LnNoaWZ0S2V5KXRoaXMuaWdub3JlTWlzc2luZ1doaWNoPSEwO2Vsc2UgaWYoIXRoaXMuaWdub3JlTWlzc2luZ1doaWNoKXJldHVybiB0aGlzLl9tb3VzZVVwKHQpfXJldHVybih0LndoaWNofHx0LmJ1dHRvbikmJih0aGlzLl9tb3VzZU1vdmVkPSEwKSx0aGlzLl9tb3VzZVN0YXJ0ZWQ/KHRoaXMuX21vdXNlRHJhZyh0KSx0LnByZXZlbnREZWZhdWx0KCkpOih0aGlzLl9tb3VzZURpc3RhbmNlTWV0KHQpJiZ0aGlzLl9tb3VzZURlbGF5TWV0KHQpJiYodGhpcy5fbW91c2VTdGFydGVkPXRoaXMuX21vdXNlU3RhcnQodGhpcy5fbW91c2VEb3duRXZlbnQsdCkhPT0hMSx0aGlzLl9tb3VzZVN0YXJ0ZWQ/dGhpcy5fbW91c2VEcmFnKHQpOnRoaXMuX21vdXNlVXAodCkpLCF0aGlzLl9tb3VzZVN0YXJ0ZWQpfSxfbW91c2VVcDpmdW5jdGlvbih0KXt0aGlzLmRvY3VtZW50Lm9mZigibW91c2Vtb3ZlLiIrdGhpcy53aWRnZXROYW1lLHRoaXMuX21vdXNlTW92ZURlbGVnYXRlKS5vZmYoIm1vdXNldXAuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VVcERlbGVnYXRlKTt0aGlzLl9tb3VzZVN0YXJ0ZWQmJih0aGlzLl9tb3VzZVN0YXJ0ZWQ9ITEsdC50YXJnZXQ9PT10aGlzLl9tb3VzZURvd25FdmVudC50YXJnZXQmJm4uZGF0YSh0LnRhcmdldCx0aGlzLndpZGdldE5hbWUrIi5wcmV2ZW50Q2xpY2tFdmVudCIsITApLHRoaXMuX21vdXNlU3RvcCh0KSk7dGhpcy5fbW91c2VEZWxheVRpbWVyJiYoY2xlYXJUaW1lb3V0KHRoaXMuX21vdXNlRGVsYXlUaW1lciksZGVsZXRlIHRoaXMuX21vdXNlRGVsYXlUaW1lcik7dGhpcy5pZ25vcmVNaXNzaW5nV2hpY2g9ITE7cj0hMTt0LnByZXZlbnREZWZhdWx0KCl9LF9tb3VzZURpc3RhbmNlTWV0OmZ1bmN0aW9uKG4pe3JldHVybiBNYXRoLm1heChNYXRoLmFicyh0aGlzLl9tb3VzZURvd25FdmVudC5wYWdlWC1uLnBhZ2VYKSxNYXRoLmFicyh0aGlzLl9tb3VzZURvd25FdmVudC5wYWdlWS1uLnBhZ2VZKSk+PXRoaXMub3B0aW9ucy5kaXN0YW5jZX0sX21vdXNlRGVsYXlNZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb3VzZURlbGF5TWV0fSxfbW91c2VTdGFydDpmdW5jdGlvbigpe30sX21vdXNlRHJhZzpmdW5jdGlvbigpe30sX21vdXNlU3RvcDpmdW5jdGlvbigpe30sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbigpe3JldHVybiEwfX0pO24udWkucGx1Z2luPXthZGQ6ZnVuY3Rpb24odCxpLHIpe3ZhciB1LGY9bi51aVt0XS5wcm90b3R5cGU7Zm9yKHUgaW4gcilmLnBsdWdpbnNbdV09Zi5wbHVnaW5zW3VdfHxbXSxmLnBsdWdpbnNbdV0ucHVzaChbaSxyW3VdXSl9LGNhbGw6ZnVuY3Rpb24obix0LGkscil7dmFyIHUsZj1uLnBsdWdpbnNbdF07aWYoZiYmKHJ8fG4uZWxlbWVudFswXS5wYXJlbnROb2RlJiYxMSE9PW4uZWxlbWVudFswXS5wYXJlbnROb2RlLm5vZGVUeXBlKSlmb3IodT0wO2YubGVuZ3RoPnU7dSsrKW4ub3B0aW9uc1tmW3VdWzBdXSYmZlt1XVsxXS5hcHBseShuLmVsZW1lbnQsaSl9fTtuLnVpLnNhZmVCbHVyPWZ1bmN0aW9uKHQpe3QmJiJib2R5IiE9PXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmbih0KS50cmlnZ2VyKCJibHVyIil9O24ud2lkZ2V0KCJ1aS5kcmFnZ2FibGUiLG4udWkubW91c2Use3ZlcnNpb246IjEuMTIuMSIsd2lkZ2V0RXZlbnRQcmVmaXg6ImRyYWciLG9wdGlvbnM6e2FkZENsYXNzZXM6ITAsYXBwZW5kVG86InBhcmVudCIsYXhpczohMSxjb25uZWN0VG9Tb3J0YWJsZTohMSxjb250YWlubWVudDohMSxjdXJzb3I6ImF1dG8iLGN1cnNvckF0OiExLGdyaWQ6ITEsaGFuZGxlOiExLGhlbHBlcjoib3JpZ2luYWwiLGlmcmFtZUZpeDohMSxvcGFjaXR5OiExLHJlZnJlc2hQb3NpdGlvbnM6ITEscmV2ZXJ0OiExLHJldmVydER1cmF0aW9uOjUwMCxzY29wZToiZGVmYXVsdCIsc2Nyb2xsOiEwLHNjcm9sbFNlbnNpdGl2aXR5OjIwLHNjcm9sbFNwZWVkOjIwLHNuYXA6ITEsc25hcE1vZGU6ImJvdGgiLHNuYXBUb2xlcmFuY2U6MjAsc3RhY2s6ITEsekluZGV4OiExLGRyYWc6bnVsbCxzdGFydDpudWxsLHN0b3A6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpeyJvcmlnaW5hbCI9PT10aGlzLm9wdGlvbnMuaGVscGVyJiZ0aGlzLl9zZXRQb3NpdGlvblJlbGF0aXZlKCk7dGhpcy5vcHRpb25zLmFkZENsYXNzZXMmJnRoaXMuX2FkZENsYXNzKCJ1aS1kcmFnZ2FibGUiKTt0aGlzLl9zZXRIYW5kbGVDbGFzc05hbWUoKTt0aGlzLl9tb3VzZUluaXQoKX0sX3NldE9wdGlvbjpmdW5jdGlvbihuLHQpe3RoaXMuX3N1cGVyKG4sdCk7ImhhbmRsZSI9PT1uJiYodGhpcy5fcmVtb3ZlSGFuZGxlQ2xhc3NOYW1lKCksdGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCkpfSxfZGVzdHJveTpmdW5jdGlvbigpe3JldHVybih0aGlzLmhlbHBlcnx8dGhpcy5lbGVtZW50KS5pcygiLnVpLWRyYWdnYWJsZS1kcmFnZ2luZyIpPyh0aGlzLmRlc3Ryb3lPbkNsZWFyPSEwLHZvaWQgMCk6KHRoaXMuX3JlbW92ZUhhbmRsZUNsYXNzTmFtZSgpLHRoaXMuX21vdXNlRGVzdHJveSgpLHZvaWQgMCl9LF9tb3VzZUNhcHR1cmU6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5vcHRpb25zO3JldHVybiB0aGlzLmhlbHBlcnx8aS5kaXNhYmxlZHx8bih0LnRhcmdldCkuY2xvc2VzdCgiLnVpLXJlc2l6YWJsZS1oYW5kbGUiKS5sZW5ndGg+MD8hMToodGhpcy5oYW5kbGU9dGhpcy5fZ2V0SGFuZGxlKHQpLHRoaXMuaGFuZGxlPyh0aGlzLl9ibHVyQWN0aXZlRWxlbWVudCh0KSx0aGlzLl9ibG9ja0ZyYW1lcyhpLmlmcmFtZUZpeD09PSEwPyJpZnJhbWUiOmkuaWZyYW1lRml4KSwhMCk6ITEpfSxfYmxvY2tGcmFtZXM6ZnVuY3Rpb24odCl7dGhpcy5pZnJhbWVCbG9ja3M9dGhpcy5kb2N1bWVudC5maW5kKHQpLm1hcChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyk7cmV0dXJuIG4oIjxkaXY+IikuY3NzKCJwb3NpdGlvbiIsImFic29sdXRlIikuYXBwZW5kVG8odC5wYXJlbnQoKSkub3V0ZXJXaWR0aCh0Lm91dGVyV2lkdGgoKSkub3V0ZXJIZWlnaHQodC5vdXRlckhlaWdodCgpKS5vZmZzZXQodC5vZmZzZXQoKSlbMF19KX0sX3VuYmxvY2tGcmFtZXM6ZnVuY3Rpb24oKXt0aGlzLmlmcmFtZUJsb2NrcyYmKHRoaXMuaWZyYW1lQmxvY2tzLnJlbW92ZSgpLGRlbGV0ZSB0aGlzLmlmcmFtZUJsb2Nrcyl9LF9ibHVyQWN0aXZlRWxlbWVudDpmdW5jdGlvbih0KXt2YXIgaT1uLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pLHI9bih0LnRhcmdldCk7ci5jbG9zZXN0KGkpLmxlbmd0aHx8bi51aS5zYWZlQmx1cihpKX0sX21vdXNlU3RhcnQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5vcHRpb25zO3JldHVybiB0aGlzLmhlbHBlcj10aGlzLl9jcmVhdGVIZWxwZXIodCksdGhpcy5fYWRkQ2xhc3ModGhpcy5oZWxwZXIsInVpLWRyYWdnYWJsZS1kcmFnZ2luZyIpLHRoaXMuX2NhY2hlSGVscGVyUHJvcG9ydGlvbnMoKSxuLnVpLmRkbWFuYWdlciYmKG4udWkuZGRtYW5hZ2VyLmN1cnJlbnQ9dGhpcyksdGhpcy5fY2FjaGVNYXJnaW5zKCksdGhpcy5jc3NQb3NpdGlvbj10aGlzLmhlbHBlci5jc3MoInBvc2l0aW9uIiksdGhpcy5zY3JvbGxQYXJlbnQ9dGhpcy5oZWxwZXIuc2Nyb2xsUGFyZW50KCEwKSx0aGlzLm9mZnNldFBhcmVudD10aGlzLmhlbHBlci5vZmZzZXRQYXJlbnQoKSx0aGlzLmhhc0ZpeGVkQW5jZXN0b3I9dGhpcy5oZWxwZXIucGFyZW50cygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiJmaXhlZCI9PT1uKHRoaXMpLmNzcygicG9zaXRpb24iKX0pLmxlbmd0aD4wLHRoaXMucG9zaXRpb25BYnM9dGhpcy5lbGVtZW50Lm9mZnNldCgpLHRoaXMuX3JlZnJlc2hPZmZzZXRzKHQpLHRoaXMub3JpZ2luYWxQb3NpdGlvbj10aGlzLnBvc2l0aW9uPXRoaXMuX2dlbmVyYXRlUG9zaXRpb24odCwhMSksdGhpcy5vcmlnaW5hbFBhZ2VYPXQucGFnZVgsdGhpcy5vcmlnaW5hbFBhZ2VZPXQucGFnZVksaS5jdXJzb3JBdCYmdGhpcy5fYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcihpLmN1cnNvckF0KSx0aGlzLl9zZXRDb250YWlubWVudCgpLHRoaXMuX3RyaWdnZXIoInN0YXJ0Iix0KT09PSExPyh0aGlzLl9jbGVhcigpLCExKToodGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpLG4udWkuZGRtYW5hZ2VyJiYhaS5kcm9wQmVoYXZpb3VyJiZuLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0aGlzLHQpLHRoaXMuX21vdXNlRHJhZyh0LCEwKSxuLnVpLmRkbWFuYWdlciYmbi51aS5kZG1hbmFnZXIuZHJhZ1N0YXJ0KHRoaXMsdCksITApfSxfcmVmcmVzaE9mZnNldHM6ZnVuY3Rpb24obil7dGhpcy5vZmZzZXQ9e3RvcDp0aGlzLnBvc2l0aW9uQWJzLnRvcC10aGlzLm1hcmdpbnMudG9wLGxlZnQ6dGhpcy5wb3NpdGlvbkFicy5sZWZ0LXRoaXMubWFyZ2lucy5sZWZ0LHNjcm9sbDohMSxwYXJlbnQ6dGhpcy5fZ2V0UGFyZW50T2Zmc2V0KCkscmVsYXRpdmU6dGhpcy5fZ2V0UmVsYXRpdmVPZmZzZXQoKX07dGhpcy5vZmZzZXQuY2xpY2s9e2xlZnQ6bi5wYWdlWC10aGlzLm9mZnNldC5sZWZ0LHRvcDpuLnBhZ2VZLXRoaXMub2Zmc2V0LnRvcH19LF9tb3VzZURyYWc6ZnVuY3Rpb24odCxpKXtpZih0aGlzLmhhc0ZpeGVkQW5jZXN0b3ImJih0aGlzLm9mZnNldC5wYXJlbnQ9dGhpcy5fZ2V0UGFyZW50T2Zmc2V0KCkpLHRoaXMucG9zaXRpb249dGhpcy5fZ2VuZXJhdGVQb3NpdGlvbih0LCEwKSx0aGlzLnBvc2l0aW9uQWJzPXRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpLCFpKXt2YXIgcj10aGlzLl91aUhhc2goKTtpZih0aGlzLl90cmlnZ2VyKCJkcmFnIix0LHIpPT09ITEpcmV0dXJuIHRoaXMuX21vdXNlVXAobmV3IG4uRXZlbnQoIm1vdXNldXAiLHQpKSwhMTt0aGlzLnBvc2l0aW9uPXIucG9zaXRpb259cmV0dXJuIHRoaXMuaGVscGVyWzBdLnN0eWxlLmxlZnQ9dGhpcy5wb3NpdGlvbi5sZWZ0KyJweCIsdGhpcy5oZWxwZXJbMF0uc3R5bGUudG9wPXRoaXMucG9zaXRpb24udG9wKyJweCIsbi51aS5kZG1hbmFnZXImJm4udWkuZGRtYW5hZ2VyLmRyYWcodGhpcyx0KSwhMX0sX21vdXNlU3RvcDpmdW5jdGlvbih0KXt2YXIgcj10aGlzLGk9ITE7cmV0dXJuIG4udWkuZGRtYW5hZ2VyJiYhdGhpcy5vcHRpb25zLmRyb3BCZWhhdmlvdXImJihpPW4udWkuZGRtYW5hZ2VyLmRyb3AodGhpcyx0KSksdGhpcy5kcm9wcGVkJiYoaT10aGlzLmRyb3BwZWQsdGhpcy5kcm9wcGVkPSExKSwiaW52YWxpZCI9PT10aGlzLm9wdGlvbnMucmV2ZXJ0JiYhaXx8InZhbGlkIj09PXRoaXMub3B0aW9ucy5yZXZlcnQmJml8fHRoaXMub3B0aW9ucy5yZXZlcnQ9PT0hMHx8bi5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy5yZXZlcnQpJiZ0aGlzLm9wdGlvbnMucmV2ZXJ0LmNhbGwodGhpcy5lbGVtZW50LGkpP24odGhpcy5oZWxwZXIpLmFuaW1hdGUodGhpcy5vcmlnaW5hbFBvc2l0aW9uLHBhcnNlSW50KHRoaXMub3B0aW9ucy5yZXZlcnREdXJhdGlvbiwxMCksZnVuY3Rpb24oKXtyLl90cmlnZ2VyKCJzdG9wIix0KSE9PSExJiZyLl9jbGVhcigpfSk6dGhpcy5fdHJpZ2dlcigic3RvcCIsdCkhPT0hMSYmdGhpcy5fY2xlYXIoKSwhMX0sX21vdXNlVXA6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3VuYmxvY2tGcmFtZXMoKSxuLnVpLmRkbWFuYWdlciYmbi51aS5kZG1hbmFnZXIuZHJhZ1N0b3AodGhpcyx0KSx0aGlzLmhhbmRsZUVsZW1lbnQuaXModC50YXJnZXQpJiZ0aGlzLmVsZW1lbnQudHJpZ2dlcigiZm9jdXMiKSxuLnVpLm1vdXNlLnByb3RvdHlwZS5fbW91c2VVcC5jYWxsKHRoaXMsdCl9LGNhbmNlbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhlbHBlci5pcygiLnVpLWRyYWdnYWJsZS1kcmFnZ2luZyIpP3RoaXMuX21vdXNlVXAobmV3IG4uRXZlbnQoIm1vdXNldXAiLHt0YXJnZXQ6dGhpcy5lbGVtZW50WzBdfSkpOnRoaXMuX2NsZWFyKCksdGhpc30sX2dldEhhbmRsZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vcHRpb25zLmhhbmRsZT8hIW4odC50YXJnZXQpLmNsb3Nlc3QodGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLmhhbmRsZSkpLmxlbmd0aDohMH0sX3NldEhhbmRsZUNsYXNzTmFtZTpmdW5jdGlvbigpe3RoaXMuaGFuZGxlRWxlbWVudD10aGlzLm9wdGlvbnMuaGFuZGxlP3RoaXMuZWxlbWVudC5maW5kKHRoaXMub3B0aW9ucy5oYW5kbGUpOnRoaXMuZWxlbWVudDt0aGlzLl9hZGRDbGFzcyh0aGlzLmhhbmRsZUVsZW1lbnQsInVpLWRyYWdnYWJsZS1oYW5kbGUiKX0sX3JlbW92ZUhhbmRsZUNsYXNzTmFtZTpmdW5jdGlvbigpe3RoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaGFuZGxlRWxlbWVudCwidWktZHJhZ2dhYmxlLWhhbmRsZSIpfSxfY3JlYXRlSGVscGVyOmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMub3B0aW9ucyx1PW4uaXNGdW5jdGlvbihyLmhlbHBlciksaT11P24oci5oZWxwZXIuYXBwbHkodGhpcy5lbGVtZW50WzBdLFt0XSkpOiJjbG9uZSI9PT1yLmhlbHBlcj90aGlzLmVsZW1lbnQuY2xvbmUoKS5yZW1vdmVBdHRyKCJpZCIpOnRoaXMuZWxlbWVudDtyZXR1cm4gaS5wYXJlbnRzKCJib2R5IikubGVuZ3RofHxpLmFwcGVuZFRvKCJwYXJlbnQiPT09ci5hcHBlbmRUbz90aGlzLmVsZW1lbnRbMF0ucGFyZW50Tm9kZTpyLmFwcGVuZFRvKSx1JiZpWzBdPT09dGhpcy5lbGVtZW50WzBdJiZ0aGlzLl9zZXRQb3NpdGlvblJlbGF0aXZlKCksaVswXT09PXRoaXMuZWxlbWVudFswXXx8LyhmaXhlZHxhYnNvbHV0ZSkvLnRlc3QoaS5jc3MoInBvc2l0aW9uIikpfHxpLmNzcygicG9zaXRpb24iLCJhYnNvbHV0ZSIpLGl9LF9zZXRQb3NpdGlvblJlbGF0aXZlOmZ1bmN0aW9uKCl7L14oPzpyfGF8ZikvLnRlc3QodGhpcy5lbGVtZW50LmNzcygicG9zaXRpb24iKSl8fCh0aGlzLmVsZW1lbnRbMF0uc3R5bGUucG9zaXRpb249InJlbGF0aXZlIil9LF9hZGp1c3RPZmZzZXRGcm9tSGVscGVyOmZ1bmN0aW9uKHQpeyJzdHJpbmciPT10eXBlb2YgdCYmKHQ9dC5zcGxpdCgiICIpKTtuLmlzQXJyYXkodCkmJih0PXtsZWZ0Oit0WzBdLHRvcDordFsxXXx8MH0pOyJsZWZ0ImluIHQmJih0aGlzLm9mZnNldC5jbGljay5sZWZ0PXQubGVmdCt0aGlzLm1hcmdpbnMubGVmdCk7InJpZ2h0ImluIHQmJih0aGlzLm9mZnNldC5jbGljay5sZWZ0PXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtdC5yaWdodCt0aGlzLm1hcmdpbnMubGVmdCk7InRvcCJpbiB0JiYodGhpcy5vZmZzZXQuY2xpY2sudG9wPXQudG9wK3RoaXMubWFyZ2lucy50b3ApOyJib3R0b20iaW4gdCYmKHRoaXMub2Zmc2V0LmNsaWNrLnRvcD10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC10LmJvdHRvbSt0aGlzLm1hcmdpbnMudG9wKX0sX2lzUm9vdE5vZGU6ZnVuY3Rpb24obil7cmV0dXJuLyhodG1sfGJvZHkpL2kudGVzdChuLnRhZ05hbWUpfHxuPT09dGhpcy5kb2N1bWVudFswXX0sX2dldFBhcmVudE9mZnNldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMub2Zmc2V0UGFyZW50Lm9mZnNldCgpLGk9dGhpcy5kb2N1bWVudFswXTtyZXR1cm4iYWJzb2x1dGUiPT09dGhpcy5jc3NQb3NpdGlvbiYmdGhpcy5zY3JvbGxQYXJlbnRbMF0hPT1pJiZuLmNvbnRhaW5zKHRoaXMuc2Nyb2xsUGFyZW50WzBdLHRoaXMub2Zmc2V0UGFyZW50WzBdKSYmKHQubGVmdCs9dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpLHQudG9wKz10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSksdGhpcy5faXNSb290Tm9kZSh0aGlzLm9mZnNldFBhcmVudFswXSkmJih0PXt0b3A6MCxsZWZ0OjB9KSx7dG9wOnQudG9wKyhwYXJzZUludCh0aGlzLm9mZnNldFBhcmVudC5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKSxsZWZ0OnQubGVmdCsocGFyc2VJbnQodGhpcy5vZmZzZXRQYXJlbnQuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKSwxMCl8fDApfX0sX2dldFJlbGF0aXZlT2Zmc2V0OmZ1bmN0aW9uKCl7aWYoInJlbGF0aXZlIiE9PXRoaXMuY3NzUG9zaXRpb24pcmV0dXJue3RvcDowLGxlZnQ6MH07dmFyIG49dGhpcy5lbGVtZW50LnBvc2l0aW9uKCksdD10aGlzLl9pc1Jvb3ROb2RlKHRoaXMuc2Nyb2xsUGFyZW50WzBdKTtyZXR1cm57dG9wOm4udG9wLShwYXJzZUludCh0aGlzLmhlbHBlci5jc3MoInRvcCIpLDEwKXx8MCkrKHQ/MDp0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSksbGVmdDpuLmxlZnQtKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcygibGVmdCIpLDEwKXx8MCkrKHQ/MDp0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCkpfX0sX2NhY2hlTWFyZ2luczpmdW5jdGlvbigpe3RoaXMubWFyZ2lucz17bGVmdDpwYXJzZUludCh0aGlzLmVsZW1lbnQuY3NzKCJtYXJnaW5MZWZ0IiksMTApfHwwLHRvcDpwYXJzZUludCh0aGlzLmVsZW1lbnQuY3NzKCJtYXJnaW5Ub3AiKSwxMCl8fDAscmlnaHQ6cGFyc2VJbnQodGhpcy5lbGVtZW50LmNzcygibWFyZ2luUmlnaHQiKSwxMCl8fDAsYm90dG9tOnBhcnNlSW50KHRoaXMuZWxlbWVudC5jc3MoIm1hcmdpbkJvdHRvbSIpLDEwKXx8MH19LF9jYWNoZUhlbHBlclByb3BvcnRpb25zOmZ1bmN0aW9uKCl7dGhpcy5oZWxwZXJQcm9wb3J0aW9ucz17d2lkdGg6dGhpcy5oZWxwZXIub3V0ZXJXaWR0aCgpLGhlaWdodDp0aGlzLmhlbHBlci5vdXRlckhlaWdodCgpfX0sX3NldENvbnRhaW5tZW50OmZ1bmN0aW9uKCl7dmFyIGYsdCxpLHI9dGhpcy5vcHRpb25zLHU9dGhpcy5kb2N1bWVudFswXTtyZXR1cm4gdGhpcy5yZWxhdGl2ZUNvbnRhaW5lcj1udWxsLHIuY29udGFpbm1lbnQ/IndpbmRvdyI9PT1yLmNvbnRhaW5tZW50Pyh0aGlzLmNvbnRhaW5tZW50PVtuKHdpbmRvdykuc2Nyb2xsTGVmdCgpLXRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQtdGhpcy5vZmZzZXQucGFyZW50LmxlZnQsbih3aW5kb3cpLnNjcm9sbFRvcCgpLXRoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcC10aGlzLm9mZnNldC5wYXJlbnQudG9wLG4od2luZG93KS5zY3JvbGxMZWZ0KCkrbih3aW5kb3cpLndpZHRoKCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10aGlzLm1hcmdpbnMubGVmdCxuKHdpbmRvdykuc2Nyb2xsVG9wKCkrKG4od2luZG93KS5oZWlnaHQoKXx8dS5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0KS10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC10aGlzLm1hcmdpbnMudG9wXSx2b2lkIDApOiJkb2N1bWVudCI9PT1yLmNvbnRhaW5tZW50Pyh0aGlzLmNvbnRhaW5tZW50PVswLDAsbih1KS53aWR0aCgpLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtdGhpcy5tYXJnaW5zLmxlZnQsKG4odSkuaGVpZ2h0KCl8fHUuYm9keS5wYXJlbnROb2RlLnNjcm9sbEhlaWdodCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQtdGhpcy5tYXJnaW5zLnRvcF0sdm9pZCAwKTpyLmNvbnRhaW5tZW50LmNvbnN0cnVjdG9yPT09QXJyYXk/KHRoaXMuY29udGFpbm1lbnQ9ci5jb250YWlubWVudCx2b2lkIDApOigicGFyZW50Ij09PXIuY29udGFpbm1lbnQmJihyLmNvbnRhaW5tZW50PXRoaXMuaGVscGVyWzBdLnBhcmVudE5vZGUpLHQ9bihyLmNvbnRhaW5tZW50KSxpPXRbMF0saSYmKGY9LyhzY3JvbGx8YXV0bykvLnRlc3QodC5jc3MoIm92ZXJmbG93IikpLHRoaXMuY29udGFpbm1lbnQ9WyhwYXJzZUludCh0LmNzcygiYm9yZGVyTGVmdFdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQodC5jc3MoInBhZGRpbmdMZWZ0IiksMTApfHwwKSwocGFyc2VJbnQodC5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQodC5jc3MoInBhZGRpbmdUb3AiKSwxMCl8fDApLChmP01hdGgubWF4KGkuc2Nyb2xsV2lkdGgsaS5vZmZzZXRXaWR0aCk6aS5vZmZzZXRXaWR0aCktKHBhcnNlSW50KHQuY3NzKCJib3JkZXJSaWdodFdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQodC5jc3MoInBhZGRpbmdSaWdodCIpLDEwKXx8MCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10aGlzLm1hcmdpbnMubGVmdC10aGlzLm1hcmdpbnMucmlnaHQsKGY/TWF0aC5tYXgoaS5zY3JvbGxIZWlnaHQsaS5vZmZzZXRIZWlnaHQpOmkub2Zmc2V0SGVpZ2h0KS0ocGFyc2VJbnQodC5jc3MoImJvcmRlckJvdHRvbVdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQodC5jc3MoInBhZGRpbmdCb3R0b20iKSwxMCl8fDApLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3AtdGhpcy5tYXJnaW5zLmJvdHRvbV0sdGhpcy5yZWxhdGl2ZUNvbnRhaW5lcj10KSx2b2lkIDApOih0aGlzLmNvbnRhaW5tZW50PW51bGwsdm9pZCAwKX0sX2NvbnZlcnRQb3NpdGlvblRvOmZ1bmN0aW9uKG4sdCl7dHx8KHQ9dGhpcy5wb3NpdGlvbik7dmFyIGk9ImFic29sdXRlIj09PW4/MTotMSxyPXRoaXMuX2lzUm9vdE5vZGUodGhpcy5zY3JvbGxQYXJlbnRbMF0pO3JldHVybnt0b3A6dC50b3ArdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wKmkrdGhpcy5vZmZzZXQucGFyZW50LnRvcCppLSgiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5vZmZzZXQuc2Nyb2xsLnRvcDpyPzA6dGhpcy5vZmZzZXQuc2Nyb2xsLnRvcCkqaSxsZWZ0OnQubGVmdCt0aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0KmkrdGhpcy5vZmZzZXQucGFyZW50LmxlZnQqaS0oImZpeGVkIj09PXRoaXMuY3NzUG9zaXRpb24/LXRoaXMub2Zmc2V0LnNjcm9sbC5sZWZ0OnI/MDp0aGlzLm9mZnNldC5zY3JvbGwubGVmdCkqaX19LF9nZW5lcmF0ZVBvc2l0aW9uOmZ1bmN0aW9uKG4sdCl7dmFyIGkscyx1LGYscj10aGlzLm9wdGlvbnMsaD10aGlzLl9pc1Jvb3ROb2RlKHRoaXMuc2Nyb2xsUGFyZW50WzBdKSxlPW4ucGFnZVgsbz1uLnBhZ2VZO3JldHVybiBoJiZ0aGlzLm9mZnNldC5zY3JvbGx8fCh0aGlzLm9mZnNldC5zY3JvbGw9e3RvcDp0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSxsZWZ0OnRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKX0pLHQmJih0aGlzLmNvbnRhaW5tZW50JiYodGhpcy5yZWxhdGl2ZUNvbnRhaW5lcj8ocz10aGlzLnJlbGF0aXZlQ29udGFpbmVyLm9mZnNldCgpLGk9W3RoaXMuY29udGFpbm1lbnRbMF0rcy5sZWZ0LHRoaXMuY29udGFpbm1lbnRbMV0rcy50b3AsdGhpcy5jb250YWlubWVudFsyXStzLmxlZnQsdGhpcy5jb250YWlubWVudFszXStzLnRvcF0pOmk9dGhpcy5jb250YWlubWVudCxuLnBhZ2VYLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ8aVswXSYmKGU9aVswXSt0aGlzLm9mZnNldC5jbGljay5sZWZ0KSxuLnBhZ2VZLXRoaXMub2Zmc2V0LmNsaWNrLnRvcDxpWzFdJiYobz1pWzFdK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCksbi5wYWdlWC10aGlzLm9mZnNldC5jbGljay5sZWZ0PmlbMl0mJihlPWlbMl0rdGhpcy5vZmZzZXQuY2xpY2subGVmdCksbi5wYWdlWS10aGlzLm9mZnNldC5jbGljay50b3A+aVszXSYmKG89aVszXSt0aGlzLm9mZnNldC5jbGljay50b3ApKSxyLmdyaWQmJih1PXIuZ3JpZFsxXT90aGlzLm9yaWdpbmFsUGFnZVkrTWF0aC5yb3VuZCgoby10aGlzLm9yaWdpbmFsUGFnZVkpL3IuZ3JpZFsxXSkqci5ncmlkWzFdOnRoaXMub3JpZ2luYWxQYWdlWSxvPWk/dS10aGlzLm9mZnNldC5jbGljay50b3A+PWlbMV18fHUtdGhpcy5vZmZzZXQuY2xpY2sudG9wPmlbM10/dTp1LXRoaXMub2Zmc2V0LmNsaWNrLnRvcD49aVsxXT91LXIuZ3JpZFsxXTp1K3IuZ3JpZFsxXTp1LGY9ci5ncmlkWzBdP3RoaXMub3JpZ2luYWxQYWdlWCtNYXRoLnJvdW5kKChlLXRoaXMub3JpZ2luYWxQYWdlWCkvci5ncmlkWzBdKSpyLmdyaWRbMF06dGhpcy5vcmlnaW5hbFBhZ2VYLGU9aT9mLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ+PWlbMF18fGYtdGhpcy5vZmZzZXQuY2xpY2subGVmdD5pWzJdP2Y6Zi10aGlzLm9mZnNldC5jbGljay5sZWZ0Pj1pWzBdP2Ytci5ncmlkWzBdOmYrci5ncmlkWzBdOmYpLCJ5Ij09PXIuYXhpcyYmKGU9dGhpcy5vcmlnaW5hbFBhZ2VYKSwieCI9PT1yLmF4aXMmJihvPXRoaXMub3JpZ2luYWxQYWdlWSkpLHt0b3A6by10aGlzLm9mZnNldC5jbGljay50b3AtdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wLXRoaXMub2Zmc2V0LnBhcmVudC50b3ArKCJmaXhlZCI9PT10aGlzLmNzc1Bvc2l0aW9uPy10aGlzLm9mZnNldC5zY3JvbGwudG9wOmg/MDp0aGlzLm9mZnNldC5zY3JvbGwudG9wKSxsZWZ0OmUtdGhpcy5vZmZzZXQuY2xpY2subGVmdC10aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0KygiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5vZmZzZXQuc2Nyb2xsLmxlZnQ6aD8wOnRoaXMub2Zmc2V0LnNjcm9sbC5sZWZ0KX19LF9jbGVhcjpmdW5jdGlvbigpe3RoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaGVscGVyLCJ1aS1kcmFnZ2FibGUtZHJhZ2dpbmciKTt0aGlzLmhlbHBlclswXT09PXRoaXMuZWxlbWVudFswXXx8dGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsfHx0aGlzLmhlbHBlci5yZW1vdmUoKTt0aGlzLmhlbHBlcj1udWxsO3RoaXMuY2FuY2VsSGVscGVyUmVtb3ZhbD0hMTt0aGlzLmRlc3Ryb3lPbkNsZWFyJiZ0aGlzLmRlc3Ryb3koKX0sX3RyaWdnZXI6ZnVuY3Rpb24odCxpLHIpe3JldHVybiByPXJ8fHRoaXMuX3VpSGFzaCgpLG4udWkucGx1Z2luLmNhbGwodGhpcyx0LFtpLHIsdGhpc10sITApLC9eKGRyYWd8c3RhcnR8c3RvcCkvLnRlc3QodCkmJih0aGlzLnBvc2l0aW9uQWJzPXRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpLHIub2Zmc2V0PXRoaXMucG9zaXRpb25BYnMpLG4uV2lkZ2V0LnByb3RvdHlwZS5fdHJpZ2dlci5jYWxsKHRoaXMsdCxpLHIpfSxwbHVnaW5zOnt9LF91aUhhc2g6ZnVuY3Rpb24oKXtyZXR1cm57aGVscGVyOnRoaXMuaGVscGVyLHBvc2l0aW9uOnRoaXMucG9zaXRpb24sb3JpZ2luYWxQb3NpdGlvbjp0aGlzLm9yaWdpbmFsUG9zaXRpb24sb2Zmc2V0OnRoaXMucG9zaXRpb25BYnN9fX0pO24udWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwiY29ubmVjdFRvU29ydGFibGUiLHtzdGFydDpmdW5jdGlvbih0LGkscil7dmFyIHU9bi5leHRlbmQoe30saSx7aXRlbTpyLmVsZW1lbnR9KTtyLnNvcnRhYmxlcz1bXTtuKHIub3B0aW9ucy5jb25uZWN0VG9Tb3J0YWJsZSkuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcykuc29ydGFibGUoImluc3RhbmNlIik7aSYmIWkub3B0aW9ucy5kaXNhYmxlZCYmKHIuc29ydGFibGVzLnB1c2goaSksaS5yZWZyZXNoUG9zaXRpb25zKCksaS5fdHJpZ2dlcigiYWN0aXZhdGUiLHQsdSkpfSl9LHN0b3A6ZnVuY3Rpb24odCxpLHIpe3ZhciB1PW4uZXh0ZW5kKHt9LGkse2l0ZW06ci5lbGVtZW50fSk7ci5jYW5jZWxIZWxwZXJSZW1vdmFsPSExO24uZWFjaChyLnNvcnRhYmxlcyxmdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5pc092ZXI/KG4uaXNPdmVyPTAsci5jYW5jZWxIZWxwZXJSZW1vdmFsPSEwLG4uY2FuY2VsSGVscGVyUmVtb3ZhbD0hMSxuLl9zdG9yZWRDU1M9e3Bvc2l0aW9uOm4ucGxhY2Vob2xkZXIuY3NzKCJwb3NpdGlvbiIpLHRvcDpuLnBsYWNlaG9sZGVyLmNzcygidG9wIiksbGVmdDpuLnBsYWNlaG9sZGVyLmNzcygibGVmdCIpfSxuLl9tb3VzZVN0b3AodCksbi5vcHRpb25zLmhlbHBlcj1uLm9wdGlvbnMuX2hlbHBlcik6KG4uY2FuY2VsSGVscGVyUmVtb3ZhbD0hMCxuLl90cmlnZ2VyKCJkZWFjdGl2YXRlIix0LHUpKX0pfSxkcmFnOmZ1bmN0aW9uKHQsaSxyKXtuLmVhY2goci5zb3J0YWJsZXMsZnVuY3Rpb24oKXt2YXIgZj0hMSx1PXRoaXM7dS5wb3NpdGlvbkFicz1yLnBvc2l0aW9uQWJzO3UuaGVscGVyUHJvcG9ydGlvbnM9ci5oZWxwZXJQcm9wb3J0aW9uczt1Lm9mZnNldC5jbGljaz1yLm9mZnNldC5jbGljazt1Ll9pbnRlcnNlY3RzV2l0aCh1LmNvbnRhaW5lckNhY2hlKSYmKGY9ITAsbi5lYWNoKHIuc29ydGFibGVzLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zaXRpb25BYnM9ci5wb3NpdGlvbkFicyx0aGlzLmhlbHBlclByb3BvcnRpb25zPXIuaGVscGVyUHJvcG9ydGlvbnMsdGhpcy5vZmZzZXQuY2xpY2s9ci5vZmZzZXQuY2xpY2ssdGhpcyE9PXUmJnRoaXMuX2ludGVyc2VjdHNXaXRoKHRoaXMuY29udGFpbmVyQ2FjaGUpJiZuLmNvbnRhaW5zKHUuZWxlbWVudFswXSx0aGlzLmVsZW1lbnRbMF0pJiYoZj0hMSksZn0pKTtmPyh1LmlzT3Zlcnx8KHUuaXNPdmVyPTEsci5fcGFyZW50PWkuaGVscGVyLnBhcmVudCgpLHUuY3VycmVudEl0ZW09aS5oZWxwZXIuYXBwZW5kVG8odS5lbGVtZW50KS5kYXRhKCJ1aS1zb3J0YWJsZS1pdGVtIiwhMCksdS5vcHRpb25zLl9oZWxwZXI9dS5vcHRpb25zLmhlbHBlcix1Lm9wdGlvbnMuaGVscGVyPWZ1bmN0aW9uKCl7cmV0dXJuIGkuaGVscGVyWzBdfSx0LnRhcmdldD11LmN1cnJlbnRJdGVtWzBdLHUuX21vdXNlQ2FwdHVyZSh0LCEwKSx1Ll9tb3VzZVN0YXJ0KHQsITAsITApLHUub2Zmc2V0LmNsaWNrLnRvcD1yLm9mZnNldC5jbGljay50b3AsdS5vZmZzZXQuY2xpY2subGVmdD1yLm9mZnNldC5jbGljay5sZWZ0LHUub2Zmc2V0LnBhcmVudC5sZWZ0LT1yLm9mZnNldC5wYXJlbnQubGVmdC11Lm9mZnNldC5wYXJlbnQubGVmdCx1Lm9mZnNldC5wYXJlbnQudG9wLT1yLm9mZnNldC5wYXJlbnQudG9wLXUub2Zmc2V0LnBhcmVudC50b3Asci5fdHJpZ2dlcigidG9Tb3J0YWJsZSIsdCksci5kcm9wcGVkPXUuZWxlbWVudCxuLmVhY2goci5zb3J0YWJsZXMsZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2hQb3NpdGlvbnMoKX0pLHIuY3VycmVudEl0ZW09ci5lbGVtZW50LHUuZnJvbU91dHNpZGU9ciksdS5jdXJyZW50SXRlbSYmKHUuX21vdXNlRHJhZyh0KSxpLnBvc2l0aW9uPXUucG9zaXRpb24pKTp1LmlzT3ZlciYmKHUuaXNPdmVyPTAsdS5jYW5jZWxIZWxwZXJSZW1vdmFsPSEwLHUub3B0aW9ucy5fcmV2ZXJ0PXUub3B0aW9ucy5yZXZlcnQsdS5vcHRpb25zLnJldmVydD0hMSx1Ll90cmlnZ2VyKCJvdXQiLHQsdS5fdWlIYXNoKHUpKSx1Ll9tb3VzZVN0b3AodCwhMCksdS5vcHRpb25zLnJldmVydD11Lm9wdGlvbnMuX3JldmVydCx1Lm9wdGlvbnMuaGVscGVyPXUub3B0aW9ucy5faGVscGVyLHUucGxhY2Vob2xkZXImJnUucGxhY2Vob2xkZXIucmVtb3ZlKCksaS5oZWxwZXIuYXBwZW5kVG8oci5fcGFyZW50KSxyLl9yZWZyZXNoT2Zmc2V0cyh0KSxpLnBvc2l0aW9uPXIuX2dlbmVyYXRlUG9zaXRpb24odCwhMCksci5fdHJpZ2dlcigiZnJvbVNvcnRhYmxlIix0KSxyLmRyb3BwZWQ9ITEsbi5lYWNoKHIuc29ydGFibGVzLGZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoUG9zaXRpb25zKCl9KSl9KX19KTtuLnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsImN1cnNvciIse3N0YXJ0OmZ1bmN0aW9uKHQsaSxyKXt2YXIgdT1uKCJib2R5IiksZj1yLm9wdGlvbnM7dS5jc3MoImN1cnNvciIpJiYoZi5fY3Vyc29yPXUuY3NzKCJjdXJzb3IiKSk7dS5jc3MoImN1cnNvciIsZi5jdXJzb3IpfSxzdG9wOmZ1bmN0aW9uKHQsaSxyKXt2YXIgdT1yLm9wdGlvbnM7dS5fY3Vyc29yJiZuKCJib2R5IikuY3NzKCJjdXJzb3IiLHUuX2N1cnNvcil9fSk7bi51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJvcGFjaXR5Iix7c3RhcnQ6ZnVuY3Rpb24odCxpLHIpe3ZhciB1PW4oaS5oZWxwZXIpLGY9ci5vcHRpb25zO3UuY3NzKCJvcGFjaXR5IikmJihmLl9vcGFjaXR5PXUuY3NzKCJvcGFjaXR5IikpO3UuY3NzKCJvcGFjaXR5IixmLm9wYWNpdHkpfSxzdG9wOmZ1bmN0aW9uKHQsaSxyKXt2YXIgdT1yLm9wdGlvbnM7dS5fb3BhY2l0eSYmbihpLmhlbHBlcikuY3NzKCJvcGFjaXR5Iix1Ll9vcGFjaXR5KX19KTtuLnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsInNjcm9sbCIse3N0YXJ0OmZ1bmN0aW9uKG4sdCxpKXtpLnNjcm9sbFBhcmVudE5vdEhpZGRlbnx8KGkuc2Nyb2xsUGFyZW50Tm90SGlkZGVuPWkuaGVscGVyLnNjcm9sbFBhcmVudCghMSkpO2kuc2Nyb2xsUGFyZW50Tm90SGlkZGVuWzBdIT09aS5kb2N1bWVudFswXSYmIkhUTUwiIT09aS5zY3JvbGxQYXJlbnROb3RIaWRkZW5bMF0udGFnTmFtZSYmKGkub3ZlcmZsb3dPZmZzZXQ9aS5zY3JvbGxQYXJlbnROb3RIaWRkZW4ub2Zmc2V0KCkpfSxkcmFnOmZ1bmN0aW9uKHQsaSxyKXt2YXIgdT1yLm9wdGlvbnMsbz0hMSxlPXIuc2Nyb2xsUGFyZW50Tm90SGlkZGVuWzBdLGY9ci5kb2N1bWVudFswXTtlIT09ZiYmIkhUTUwiIT09ZS50YWdOYW1lPyh1LmF4aXMmJiJ4Ij09PXUuYXhpc3x8KHIub3ZlcmZsb3dPZmZzZXQudG9wK2Uub2Zmc2V0SGVpZ2h0LXQucGFnZVk8dS5zY3JvbGxTZW5zaXRpdml0eT9lLnNjcm9sbFRvcD1vPWUuc2Nyb2xsVG9wK3Uuc2Nyb2xsU3BlZWQ6dC5wYWdlWS1yLm92ZXJmbG93T2Zmc2V0LnRvcDx1LnNjcm9sbFNlbnNpdGl2aXR5JiYoZS5zY3JvbGxUb3A9bz1lLnNjcm9sbFRvcC11LnNjcm9sbFNwZWVkKSksdS5heGlzJiYieSI9PT11LmF4aXN8fChyLm92ZXJmbG93T2Zmc2V0LmxlZnQrZS5vZmZzZXRXaWR0aC10LnBhZ2VYPHUuc2Nyb2xsU2Vuc2l0aXZpdHk/ZS5zY3JvbGxMZWZ0PW89ZS5zY3JvbGxMZWZ0K3Uuc2Nyb2xsU3BlZWQ6dC5wYWdlWC1yLm92ZXJmbG93T2Zmc2V0LmxlZnQ8dS5zY3JvbGxTZW5zaXRpdml0eSYmKGUuc2Nyb2xsTGVmdD1vPWUuc2Nyb2xsTGVmdC11LnNjcm9sbFNwZWVkKSkpOih1LmF4aXMmJiJ4Ij09PXUuYXhpc3x8KHQucGFnZVktbihmKS5zY3JvbGxUb3AoKTx1LnNjcm9sbFNlbnNpdGl2aXR5P289bihmKS5zY3JvbGxUb3AobihmKS5zY3JvbGxUb3AoKS11LnNjcm9sbFNwZWVkKTpuKHdpbmRvdykuaGVpZ2h0KCktKHQucGFnZVktbihmKS5zY3JvbGxUb3AoKSk8dS5zY3JvbGxTZW5zaXRpdml0eSYmKG89bihmKS5zY3JvbGxUb3AobihmKS5zY3JvbGxUb3AoKSt1LnNjcm9sbFNwZWVkKSkpLHUuYXhpcyYmInkiPT09dS5heGlzfHwodC5wYWdlWC1uKGYpLnNjcm9sbExlZnQoKTx1LnNjcm9sbFNlbnNpdGl2aXR5P289bihmKS5zY3JvbGxMZWZ0KG4oZikuc2Nyb2xsTGVmdCgpLXUuc2Nyb2xsU3BlZWQpOm4od2luZG93KS53aWR0aCgpLSh0LnBhZ2VYLW4oZikuc2Nyb2xsTGVmdCgpKTx1LnNjcm9sbFNlbnNpdGl2aXR5JiYobz1uKGYpLnNjcm9sbExlZnQobihmKS5zY3JvbGxMZWZ0KCkrdS5zY3JvbGxTcGVlZCkpKSk7byE9PSExJiZuLnVpLmRkbWFuYWdlciYmIXUuZHJvcEJlaGF2aW91ciYmbi51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHMocix0KX19KTtuLnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsInNuYXAiLHtzdGFydDpmdW5jdGlvbih0LGkscil7dmFyIHU9ci5vcHRpb25zO3Iuc25hcEVsZW1lbnRzPVtdO24odS5zbmFwLmNvbnN0cnVjdG9yIT09U3RyaW5nP3Uuc25hcC5pdGVtc3x8IjpkYXRhKHVpLWRyYWdnYWJsZSkiOnUuc25hcCkuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyksaT10Lm9mZnNldCgpO3RoaXMhPT1yLmVsZW1lbnRbMF0mJnIuc25hcEVsZW1lbnRzLnB1c2goe2l0ZW06dGhpcyx3aWR0aDp0Lm91dGVyV2lkdGgoKSxoZWlnaHQ6dC5vdXRlckhlaWdodCgpLHRvcDppLnRvcCxsZWZ0OmkubGVmdH0pfSl9LGRyYWc6ZnVuY3Rpb24odCxpLHIpe2Zvcih2YXIgZSxvLHMsaCxjLGEsbCx2LHcsYj1yLm9wdGlvbnMsZj1iLnNuYXBUb2xlcmFuY2UseT1pLm9mZnNldC5sZWZ0LGs9eStyLmhlbHBlclByb3BvcnRpb25zLndpZHRoLHA9aS5vZmZzZXQudG9wLGQ9cCtyLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCx1PXIuc25hcEVsZW1lbnRzLmxlbmd0aC0xO3U+PTA7dS0tKWM9ci5zbmFwRWxlbWVudHNbdV0ubGVmdC1yLm1hcmdpbnMubGVmdCxhPWMrci5zbmFwRWxlbWVudHNbdV0ud2lkdGgsbD1yLnNuYXBFbGVtZW50c1t1XS50b3Atci5tYXJnaW5zLnRvcCx2PWwrci5zbmFwRWxlbWVudHNbdV0uaGVpZ2h0LGMtZj5rfHx5PmErZnx8bC1mPmR8fHA+ditmfHwhbi5jb250YWlucyhyLnNuYXBFbGVtZW50c1t1XS5pdGVtLm93bmVyRG9jdW1lbnQsci5zbmFwRWxlbWVudHNbdV0uaXRlbSk/KHIuc25hcEVsZW1lbnRzW3VdLnNuYXBwaW5nJiZyLm9wdGlvbnMuc25hcC5yZWxlYXNlJiZyLm9wdGlvbnMuc25hcC5yZWxlYXNlLmNhbGwoci5lbGVtZW50LHQsbi5leHRlbmQoci5fdWlIYXNoKCkse3NuYXBJdGVtOnIuc25hcEVsZW1lbnRzW3VdLml0ZW19KSksci5zbmFwRWxlbWVudHNbdV0uc25hcHBpbmc9ITEpOigiaW5uZXIiIT09Yi5zbmFwTW9kZSYmKGU9Zj49TWF0aC5hYnMobC1kKSxvPWY+PU1hdGguYWJzKHYtcCkscz1mPj1NYXRoLmFicyhjLWspLGg9Zj49TWF0aC5hYnMoYS15KSxlJiYoaS5wb3NpdGlvbi50b3A9ci5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOmwtci5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQsbGVmdDowfSkudG9wKSxvJiYoaS5wb3NpdGlvbi50b3A9ci5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOnYsbGVmdDowfSkudG9wKSxzJiYoaS5wb3NpdGlvbi5sZWZ0PXIuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDowLGxlZnQ6Yy1yLmhlbHBlclByb3BvcnRpb25zLndpZHRofSkubGVmdCksaCYmKGkucG9zaXRpb24ubGVmdD1yLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6MCxsZWZ0OmF9KS5sZWZ0KSksdz1lfHxvfHxzfHxoLCJvdXRlciIhPT1iLnNuYXBNb2RlJiYoZT1mPj1NYXRoLmFicyhsLXApLG89Zj49TWF0aC5hYnModi1kKSxzPWY+PU1hdGguYWJzKGMteSksaD1mPj1NYXRoLmFicyhhLWspLGUmJihpLnBvc2l0aW9uLnRvcD1yLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6bCxsZWZ0OjB9KS50b3ApLG8mJihpLnBvc2l0aW9uLnRvcD1yLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6di1yLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCxsZWZ0OjB9KS50b3ApLHMmJihpLnBvc2l0aW9uLmxlZnQ9ci5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOjAsbGVmdDpjfSkubGVmdCksaCYmKGkucG9zaXRpb24ubGVmdD1yLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6MCxsZWZ0OmEtci5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aH0pLmxlZnQpKSwhci5zbmFwRWxlbWVudHNbdV0uc25hcHBpbmcmJihlfHxvfHxzfHxofHx3KSYmci5vcHRpb25zLnNuYXAuc25hcCYmci5vcHRpb25zLnNuYXAuc25hcC5jYWxsKHIuZWxlbWVudCx0LG4uZXh0ZW5kKHIuX3VpSGFzaCgpLHtzbmFwSXRlbTpyLnNuYXBFbGVtZW50c1t1XS5pdGVtfSkpLHIuc25hcEVsZW1lbnRzW3VdLnNuYXBwaW5nPWV8fG98fHN8fGh8fHcpfX0pO24udWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwic3RhY2siLHtzdGFydDpmdW5jdGlvbih0LGkscil7dmFyIGYsZT1yLm9wdGlvbnMsdT1uLm1ha2VBcnJheShuKGUuc3RhY2spKS5zb3J0KGZ1bmN0aW9uKHQsaSl7cmV0dXJuKHBhcnNlSW50KG4odCkuY3NzKCJ6SW5kZXgiKSwxMCl8fDApLShwYXJzZUludChuKGkpLmNzcygiekluZGV4IiksMTApfHwwKX0pO3UubGVuZ3RoJiYoZj1wYXJzZUludChuKHVbMF0pLmNzcygiekluZGV4IiksMTApfHwwLG4odSkuZWFjaChmdW5jdGlvbih0KXtuKHRoaXMpLmNzcygiekluZGV4IixmK3QpfSksdGhpcy5jc3MoInpJbmRleCIsZit1Lmxlbmd0aCkpfX0pO24udWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwiekluZGV4Iix7c3RhcnQ6ZnVuY3Rpb24odCxpLHIpe3ZhciB1PW4oaS5oZWxwZXIpLGY9ci5vcHRpb25zO3UuY3NzKCJ6SW5kZXgiKSYmKGYuX3pJbmRleD11LmNzcygiekluZGV4IikpO3UuY3NzKCJ6SW5kZXgiLGYuekluZGV4KX0sc3RvcDpmdW5jdGlvbih0LGkscil7dmFyIHU9ci5vcHRpb25zO3UuX3pJbmRleCYmbihpLmhlbHBlcikuY3NzKCJ6SW5kZXgiLHUuX3pJbmRleCl9fSk7bi51aS5kcmFnZ2FibGU7bi53aWRnZXQoInVpLnJlc2l6YWJsZSIsbi51aS5tb3VzZSx7dmVyc2lvbjoiMS4xMi4xIix3aWRnZXRFdmVudFByZWZpeDoicmVzaXplIixvcHRpb25zOnthbHNvUmVzaXplOiExLGFuaW1hdGU6ITEsYW5pbWF0ZUR1cmF0aW9uOiJzbG93IixhbmltYXRlRWFzaW5nOiJzd2luZyIsYXNwZWN0UmF0aW86ITEsYXV0b0hpZGU6ITEsY2xhc3Nlczp7InVpLXJlc2l6YWJsZS1zZSI6InVpLWljb24gdWktaWNvbi1ncmlwc21hbGwtZGlhZ29uYWwtc2UifSxjb250YWlubWVudDohMSxnaG9zdDohMSxncmlkOiExLGhhbmRsZXM6ImUscyxzZSIsaGVscGVyOiExLG1heEhlaWdodDpudWxsLG1heFdpZHRoOm51bGwsbWluSGVpZ2h0OjEwLG1pbldpZHRoOjEwLHpJbmRleDo5MCxyZXNpemU6bnVsbCxzdGFydDpudWxsLHN0b3A6bnVsbH0sX251bTpmdW5jdGlvbihuKXtyZXR1cm4gcGFyc2VGbG9hdChuKXx8MH0sX2lzTnVtYmVyOmZ1bmN0aW9uKG4pe3JldHVybiFpc05hTihwYXJzZUZsb2F0KG4pKX0sX2hhc1Njcm9sbDpmdW5jdGlvbih0LGkpe2lmKCJoaWRkZW4iPT09bih0KS5jc3MoIm92ZXJmbG93IikpcmV0dXJuITE7dmFyIHI9aSYmImxlZnQiPT09aT8ic2Nyb2xsTGVmdCI6InNjcm9sbFRvcCIsdT0hMTtyZXR1cm4gdFtyXT4wPyEwOih0W3JdPTEsdT10W3JdPjAsdFtyXT0wLHUpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHIsdD10aGlzLm9wdGlvbnMsaT10aGlzO3RoaXMuX2FkZENsYXNzKCJ1aS1yZXNpemFibGUiKTtuLmV4dGVuZCh0aGlzLHtfYXNwZWN0UmF0aW86ISF0LmFzcGVjdFJhdGlvLGFzcGVjdFJhdGlvOnQuYXNwZWN0UmF0aW8sb3JpZ2luYWxFbGVtZW50OnRoaXMuZWxlbWVudCxfcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50czpbXSxfaGVscGVyOnQuaGVscGVyfHx0Lmdob3N0fHx0LmFuaW1hdGU/dC5oZWxwZXJ8fCJ1aS1yZXNpemFibGUtaGVscGVyIjpudWxsfSk7dGhpcy5lbGVtZW50WzBdLm5vZGVOYW1lLm1hdGNoKC9eKGNhbnZhc3x0ZXh0YXJlYXxpbnB1dHxzZWxlY3R8YnV0dG9ufGltZykkL2kpJiYodGhpcy5lbGVtZW50LndyYXAobigiPGRpdiBjbGFzcz0ndWktd3JhcHBlcicgc3R5bGU9J292ZXJmbG93OiBoaWRkZW47Jz48XC9kaXY+IikuY3NzKHtwb3NpdGlvbjp0aGlzLmVsZW1lbnQuY3NzKCJwb3NpdGlvbiIpLHdpZHRoOnRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCksaGVpZ2h0OnRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpLHRvcDp0aGlzLmVsZW1lbnQuY3NzKCJ0b3AiKSxsZWZ0OnRoaXMuZWxlbWVudC5jc3MoImxlZnQiKX0pKSx0aGlzLmVsZW1lbnQ9dGhpcy5lbGVtZW50LnBhcmVudCgpLmRhdGEoInVpLXJlc2l6YWJsZSIsdGhpcy5lbGVtZW50LnJlc2l6YWJsZSgiaW5zdGFuY2UiKSksdGhpcy5lbGVtZW50SXNXcmFwcGVyPSEwLHI9e21hcmdpblRvcDp0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoIm1hcmdpblRvcCIpLG1hcmdpblJpZ2h0OnRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygibWFyZ2luUmlnaHQiKSxtYXJnaW5Cb3R0b206dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJtYXJnaW5Cb3R0b20iKSxtYXJnaW5MZWZ0OnRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygibWFyZ2luTGVmdCIpfSx0aGlzLmVsZW1lbnQuY3NzKHIpLHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygibWFyZ2luIiwwKSx0aGlzLm9yaWdpbmFsUmVzaXplU3R5bGU9dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJyZXNpemUiKSx0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoInJlc2l6ZSIsIm5vbmUiKSx0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLnB1c2godGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKHtwb3NpdGlvbjoic3RhdGljIix6b29tOjEsZGlzcGxheToiYmxvY2sifSkpLHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyhyKSx0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZSgpKTt0aGlzLl9zZXR1cEhhbmRsZXMoKTt0LmF1dG9IaWRlJiZuKHRoaXMuZWxlbWVudCkub24oIm1vdXNlZW50ZXIiLGZ1bmN0aW9uKCl7dC5kaXNhYmxlZHx8KGkuX3JlbW92ZUNsYXNzKCJ1aS1yZXNpemFibGUtYXV0b2hpZGUiKSxpLl9oYW5kbGVzLnNob3coKSl9KS5vbigibW91c2VsZWF2ZSIsZnVuY3Rpb24oKXt0LmRpc2FibGVkfHxpLnJlc2l6aW5nfHwoaS5fYWRkQ2xhc3MoInVpLXJlc2l6YWJsZS1hdXRvaGlkZSIpLGkuX2hhbmRsZXMuaGlkZSgpKX0pO3RoaXMuX21vdXNlSW5pdCgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX21vdXNlRGVzdHJveSgpO3ZhciB0LGk9ZnVuY3Rpb24odCl7bih0KS5yZW1vdmVEYXRhKCJyZXNpemFibGUiKS5yZW1vdmVEYXRhKCJ1aS1yZXNpemFibGUiKS5vZmYoIi5yZXNpemFibGUiKS5maW5kKCIudWktcmVzaXphYmxlLWhhbmRsZSIpLnJlbW92ZSgpfTtyZXR1cm4gdGhpcy5lbGVtZW50SXNXcmFwcGVyJiYoaSh0aGlzLmVsZW1lbnQpLHQ9dGhpcy5lbGVtZW50LHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyh7cG9zaXRpb246dC5jc3MoInBvc2l0aW9uIiksd2lkdGg6dC5vdXRlcldpZHRoKCksaGVpZ2h0OnQub3V0ZXJIZWlnaHQoKSx0b3A6dC5jc3MoInRvcCIpLGxlZnQ6dC5jc3MoImxlZnQiKX0pLmluc2VydEFmdGVyKHQpLHQucmVtb3ZlKCkpLHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygicmVzaXplIix0aGlzLm9yaWdpbmFsUmVzaXplU3R5bGUpLGkodGhpcy5vcmlnaW5hbEVsZW1lbnQpLHRoaXN9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXtzd2l0Y2godGhpcy5fc3VwZXIobix0KSxuKXtjYXNlImhhbmRsZXMiOnRoaXMuX3JlbW92ZUhhbmRsZXMoKTt0aGlzLl9zZXR1cEhhbmRsZXMoKX19LF9zZXR1cEhhbmRsZXM6ZnVuY3Rpb24oKXt2YXIgaSxyLHUsbyx0LGY9dGhpcy5vcHRpb25zLGU9dGhpcztpZih0aGlzLmhhbmRsZXM9Zi5oYW5kbGVzfHwobigiLnVpLXJlc2l6YWJsZS1oYW5kbGUiLHRoaXMuZWxlbWVudCkubGVuZ3RoP3tuOiIudWktcmVzaXphYmxlLW4iLGU6Ii51aS1yZXNpemFibGUtZSIsczoiLnVpLXJlc2l6YWJsZS1zIix3OiIudWktcmVzaXphYmxlLXciLHNlOiIudWktcmVzaXphYmxlLXNlIixzdzoiLnVpLXJlc2l6YWJsZS1zdyIsbmU6Ii51aS1yZXNpemFibGUtbmUiLG53OiIudWktcmVzaXphYmxlLW53In06ImUscyxzZSIpLHRoaXMuX2hhbmRsZXM9bigpLHRoaXMuaGFuZGxlcy5jb25zdHJ1Y3Rvcj09PVN0cmluZylmb3IoImFsbCI9PT10aGlzLmhhbmRsZXMmJih0aGlzLmhhbmRsZXM9Im4sZSxzLHcsc2Usc3csbmUsbnciKSx1PXRoaXMuaGFuZGxlcy5zcGxpdCgiLCIpLHRoaXMuaGFuZGxlcz17fSxyPTA7dS5sZW5ndGg+cjtyKyspaT1uLnRyaW0odVtyXSksbz0idWktcmVzaXphYmxlLSIraSx0PW4oIjxkaXY+IiksdGhpcy5fYWRkQ2xhc3ModCwidWktcmVzaXphYmxlLWhhbmRsZSAiK28pLHQuY3NzKHt6SW5kZXg6Zi56SW5kZXh9KSx0aGlzLmhhbmRsZXNbaV09Ii51aS1yZXNpemFibGUtIitpLHRoaXMuZWxlbWVudC5hcHBlbmQodCk7dGhpcy5fcmVuZGVyQXhpcz1mdW5jdGlvbih0KXt2YXIgaSxyLHUsZjt0PXR8fHRoaXMuZWxlbWVudDtmb3IoaSBpbiB0aGlzLmhhbmRsZXMpdGhpcy5oYW5kbGVzW2ldLmNvbnN0cnVjdG9yPT09U3RyaW5nP3RoaXMuaGFuZGxlc1tpXT10aGlzLmVsZW1lbnQuY2hpbGRyZW4odGhpcy5oYW5kbGVzW2ldKS5maXJzdCgpLnNob3coKToodGhpcy5oYW5kbGVzW2ldLmpxdWVyeXx8dGhpcy5oYW5kbGVzW2ldLm5vZGVUeXBlKSYmKHRoaXMuaGFuZGxlc1tpXT1uKHRoaXMuaGFuZGxlc1tpXSksdGhpcy5fb24odGhpcy5oYW5kbGVzW2ldLHttb3VzZWRvd246ZS5fbW91c2VEb3dufSkpLHRoaXMuZWxlbWVudElzV3JhcHBlciYmdGhpcy5vcmlnaW5hbEVsZW1lbnRbMF0ubm9kZU5hbWUubWF0Y2goL14odGV4dGFyZWF8aW5wdXR8c2VsZWN0fGJ1dHRvbikkL2kpJiYocj1uKHRoaXMuaGFuZGxlc1tpXSx0aGlzLmVsZW1lbnQpLGY9L3N3fG5lfG53fHNlfG58cy8udGVzdChpKT9yLm91dGVySGVpZ2h0KCk6ci5vdXRlcldpZHRoKCksdT1bInBhZGRpbmciLC9uZXxud3xuLy50ZXN0KGkpPyJUb3AiOi9zZXxzd3xzLy50ZXN0KGkpPyJCb3R0b20iOi9eZSQvLnRlc3QoaSk/IlJpZ2h0IjoiTGVmdCJdLmpvaW4oIiIpLHQuY3NzKHUsZiksdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemUoKSksdGhpcy5faGFuZGxlcz10aGlzLl9oYW5kbGVzLmFkZCh0aGlzLmhhbmRsZXNbaV0pfTt0aGlzLl9yZW5kZXJBeGlzKHRoaXMuZWxlbWVudCk7dGhpcy5faGFuZGxlcz10aGlzLl9oYW5kbGVzLmFkZCh0aGlzLmVsZW1lbnQuZmluZCgiLnVpLXJlc2l6YWJsZS1oYW5kbGUiKSk7dGhpcy5faGFuZGxlcy5kaXNhYmxlU2VsZWN0aW9uKCk7dGhpcy5faGFuZGxlcy5vbigibW91c2VvdmVyIixmdW5jdGlvbigpe2UucmVzaXppbmd8fCh0aGlzLmNsYXNzTmFtZSYmKHQ9dGhpcy5jbGFzc05hbWUubWF0Y2goL3VpLXJlc2l6YWJsZS0oc2V8c3d8bmV8bnd8bnxlfHN8dykvaSkpLGUuYXhpcz10JiZ0WzFdP3RbMV06InNlIil9KTtmLmF1dG9IaWRlJiYodGhpcy5faGFuZGxlcy5oaWRlKCksdGhpcy5fYWRkQ2xhc3MoInVpLXJlc2l6YWJsZS1hdXRvaGlkZSIpKX0sX3JlbW92ZUhhbmRsZXM6ZnVuY3Rpb24oKXt0aGlzLl9oYW5kbGVzLnJlbW92ZSgpfSxfbW91c2VDYXB0dXJlOmZ1bmN0aW9uKHQpe3ZhciByLGksdT0hMTtmb3IociBpbiB0aGlzLmhhbmRsZXMpaT1uKHRoaXMuaGFuZGxlc1tyXSlbMF0sKGk9PT10LnRhcmdldHx8bi5jb250YWlucyhpLHQudGFyZ2V0KSkmJih1PSEwKTtyZXR1cm4hdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ1fSxfbW91c2VTdGFydDpmdW5jdGlvbih0KXt2YXIgdSxmLGUscj10aGlzLm9wdGlvbnMsaT10aGlzLmVsZW1lbnQ7cmV0dXJuIHRoaXMucmVzaXppbmc9ITAsdGhpcy5fcmVuZGVyUHJveHkoKSx1PXRoaXMuX251bSh0aGlzLmhlbHBlci5jc3MoImxlZnQiKSksZj10aGlzLl9udW0odGhpcy5oZWxwZXIuY3NzKCJ0b3AiKSksci5jb250YWlubWVudCYmKHUrPW4oci5jb250YWlubWVudCkuc2Nyb2xsTGVmdCgpfHwwLGYrPW4oci5jb250YWlubWVudCkuc2Nyb2xsVG9wKCl8fDApLHRoaXMub2Zmc2V0PXRoaXMuaGVscGVyLm9mZnNldCgpLHRoaXMucG9zaXRpb249e2xlZnQ6dSx0b3A6Zn0sdGhpcy5zaXplPXRoaXMuX2hlbHBlcj97d2lkdGg6dGhpcy5oZWxwZXIud2lkdGgoKSxoZWlnaHQ6dGhpcy5oZWxwZXIuaGVpZ2h0KCl9Ont3aWR0aDppLndpZHRoKCksaGVpZ2h0OmkuaGVpZ2h0KCl9LHRoaXMub3JpZ2luYWxTaXplPXRoaXMuX2hlbHBlcj97d2lkdGg6aS5vdXRlcldpZHRoKCksaGVpZ2h0Omkub3V0ZXJIZWlnaHQoKX06e3dpZHRoOmkud2lkdGgoKSxoZWlnaHQ6aS5oZWlnaHQoKX0sdGhpcy5zaXplRGlmZj17d2lkdGg6aS5vdXRlcldpZHRoKCktaS53aWR0aCgpLGhlaWdodDppLm91dGVySGVpZ2h0KCktaS5oZWlnaHQoKX0sdGhpcy5vcmlnaW5hbFBvc2l0aW9uPXtsZWZ0OnUsdG9wOmZ9LHRoaXMub3JpZ2luYWxNb3VzZVBvc2l0aW9uPXtsZWZ0OnQucGFnZVgsdG9wOnQucGFnZVl9LHRoaXMuYXNwZWN0UmF0aW89Im51bWJlciI9PXR5cGVvZiByLmFzcGVjdFJhdGlvP3IuYXNwZWN0UmF0aW86dGhpcy5vcmlnaW5hbFNpemUud2lkdGgvdGhpcy5vcmlnaW5hbFNpemUuaGVpZ2h0fHwxLGU9bigiLnVpLXJlc2l6YWJsZS0iK3RoaXMuYXhpcykuY3NzKCJjdXJzb3IiKSxuKCJib2R5IikuY3NzKCJjdXJzb3IiLCJhdXRvIj09PWU/dGhpcy5heGlzKyItcmVzaXplIjplKSx0aGlzLl9hZGRDbGFzcygidWktcmVzaXphYmxlLXJlc2l6aW5nIiksdGhpcy5fcHJvcGFnYXRlKCJzdGFydCIsdCksITB9LF9tb3VzZURyYWc6ZnVuY3Rpb24odCl7dmFyIGkscix1PXRoaXMub3JpZ2luYWxNb3VzZVBvc2l0aW9uLGU9dGhpcy5heGlzLG89dC5wYWdlWC11LmxlZnR8fDAscz10LnBhZ2VZLXUudG9wfHwwLGY9dGhpcy5fY2hhbmdlW2VdO3JldHVybiB0aGlzLl91cGRhdGVQcmV2UHJvcGVydGllcygpLGY/KGk9Zi5hcHBseSh0aGlzLFt0LG8sc10pLHRoaXMuX3VwZGF0ZVZpcnR1YWxCb3VuZGFyaWVzKHQuc2hpZnRLZXkpLCh0aGlzLl9hc3BlY3RSYXRpb3x8dC5zaGlmdEtleSkmJihpPXRoaXMuX3VwZGF0ZVJhdGlvKGksdCkpLGk9dGhpcy5fcmVzcGVjdFNpemUoaSx0KSx0aGlzLl91cGRhdGVDYWNoZShpKSx0aGlzLl9wcm9wYWdhdGUoInJlc2l6ZSIsdCkscj10aGlzLl9hcHBseUNoYW5nZXMoKSwhdGhpcy5faGVscGVyJiZ0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLmxlbmd0aCYmdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemUoKSxuLmlzRW1wdHlPYmplY3Qocil8fCh0aGlzLl91cGRhdGVQcmV2UHJvcGVydGllcygpLHRoaXMuX3RyaWdnZXIoInJlc2l6ZSIsdCx0aGlzLnVpKCkpLHRoaXMuX2FwcGx5Q2hhbmdlcygpKSwhMSk6ITF9LF9tb3VzZVN0b3A6ZnVuY3Rpb24odCl7dGhpcy5yZXNpemluZz0hMTt2YXIgcix1LGYsZSxvLHMsaCxjPXRoaXMub3B0aW9ucyxpPXRoaXM7cmV0dXJuIHRoaXMuX2hlbHBlciYmKHI9dGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cyx1PXIubGVuZ3RoJiYvdGV4dGFyZWEvaS50ZXN0KHJbMF0ubm9kZU5hbWUpLGY9dSYmdGhpcy5faGFzU2Nyb2xsKHJbMF0sImxlZnQiKT8wOmkuc2l6ZURpZmYuaGVpZ2h0LGU9dT8wOmkuc2l6ZURpZmYud2lkdGgsbz17d2lkdGg6aS5oZWxwZXIud2lkdGgoKS1lLGhlaWdodDppLmhlbHBlci5oZWlnaHQoKS1mfSxzPXBhcnNlRmxvYXQoaS5lbGVtZW50LmNzcygibGVmdCIpKSsoaS5wb3NpdGlvbi5sZWZ0LWkub3JpZ2luYWxQb3NpdGlvbi5sZWZ0KXx8bnVsbCxoPXBhcnNlRmxvYXQoaS5lbGVtZW50LmNzcygidG9wIikpKyhpLnBvc2l0aW9uLnRvcC1pLm9yaWdpbmFsUG9zaXRpb24udG9wKXx8bnVsbCxjLmFuaW1hdGV8fHRoaXMuZWxlbWVudC5jc3Mobi5leHRlbmQobyx7dG9wOmgsbGVmdDpzfSkpLGkuaGVscGVyLmhlaWdodChpLnNpemUuaGVpZ2h0KSxpLmhlbHBlci53aWR0aChpLnNpemUud2lkdGgpLHRoaXMuX2hlbHBlciYmIWMuYW5pbWF0ZSYmdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemUoKSksbigiYm9keSIpLmNzcygiY3Vyc29yIiwiYXV0byIpLHRoaXMuX3JlbW92ZUNsYXNzKCJ1aS1yZXNpemFibGUtcmVzaXppbmciKSx0aGlzLl9wcm9wYWdhdGUoInN0b3AiLHQpLHRoaXMuX2hlbHBlciYmdGhpcy5oZWxwZXIucmVtb3ZlKCksITF9LF91cGRhdGVQcmV2UHJvcGVydGllczpmdW5jdGlvbigpe3RoaXMucHJldlBvc2l0aW9uPXt0b3A6dGhpcy5wb3NpdGlvbi50b3AsbGVmdDp0aGlzLnBvc2l0aW9uLmxlZnR9O3RoaXMucHJldlNpemU9e3dpZHRoOnRoaXMuc2l6ZS53aWR0aCxoZWlnaHQ6dGhpcy5zaXplLmhlaWdodH19LF9hcHBseUNoYW5nZXM6ZnVuY3Rpb24oKXt2YXIgbj17fTtyZXR1cm4gdGhpcy5wb3NpdGlvbi50b3AhPT10aGlzLnByZXZQb3NpdGlvbi50b3AmJihuLnRvcD10aGlzLnBvc2l0aW9uLnRvcCsicHgiKSx0aGlzLnBvc2l0aW9uLmxlZnQhPT10aGlzLnByZXZQb3NpdGlvbi5sZWZ0JiYobi5sZWZ0PXRoaXMucG9zaXRpb24ubGVmdCsicHgiKSx0aGlzLnNpemUud2lkdGghPT10aGlzLnByZXZTaXplLndpZHRoJiYobi53aWR0aD10aGlzLnNpemUud2lkdGgrInB4IiksdGhpcy5zaXplLmhlaWdodCE9PXRoaXMucHJldlNpemUuaGVpZ2h0JiYobi5oZWlnaHQ9dGhpcy5zaXplLmhlaWdodCsicHgiKSx0aGlzLmhlbHBlci5jc3Mobiksbn0sX3VwZGF0ZVZpcnR1YWxCb3VuZGFyaWVzOmZ1bmN0aW9uKG4pe3ZhciByLHUsZixlLHQsaT10aGlzLm9wdGlvbnM7dD17bWluV2lkdGg6dGhpcy5faXNOdW1iZXIoaS5taW5XaWR0aCk/aS5taW5XaWR0aDowLG1heFdpZHRoOnRoaXMuX2lzTnVtYmVyKGkubWF4V2lkdGgpP2kubWF4V2lkdGg6MS8wLG1pbkhlaWdodDp0aGlzLl9pc051bWJlcihpLm1pbkhlaWdodCk/aS5taW5IZWlnaHQ6MCxtYXhIZWlnaHQ6dGhpcy5faXNOdW1iZXIoaS5tYXhIZWlnaHQpP2kubWF4SGVpZ2h0OjEvMH07KHRoaXMuX2FzcGVjdFJhdGlvfHxuKSYmKHI9dC5taW5IZWlnaHQqdGhpcy5hc3BlY3RSYXRpbyxmPXQubWluV2lkdGgvdGhpcy5hc3BlY3RSYXRpbyx1PXQubWF4SGVpZ2h0KnRoaXMuYXNwZWN0UmF0aW8sZT10Lm1heFdpZHRoL3RoaXMuYXNwZWN0UmF0aW8scj50Lm1pbldpZHRoJiYodC5taW5XaWR0aD1yKSxmPnQubWluSGVpZ2h0JiYodC5taW5IZWlnaHQ9ZiksdC5tYXhXaWR0aD51JiYodC5tYXhXaWR0aD11KSx0Lm1heEhlaWdodD5lJiYodC5tYXhIZWlnaHQ9ZSkpO3RoaXMuX3ZCb3VuZGFyaWVzPXR9LF91cGRhdGVDYWNoZTpmdW5jdGlvbihuKXt0aGlzLm9mZnNldD10aGlzLmhlbHBlci5vZmZzZXQoKTt0aGlzLl9pc051bWJlcihuLmxlZnQpJiYodGhpcy5wb3NpdGlvbi5sZWZ0PW4ubGVmdCk7dGhpcy5faXNOdW1iZXIobi50b3ApJiYodGhpcy5wb3NpdGlvbi50b3A9bi50b3ApO3RoaXMuX2lzTnVtYmVyKG4uaGVpZ2h0KSYmKHRoaXMuc2l6ZS5oZWlnaHQ9bi5oZWlnaHQpO3RoaXMuX2lzTnVtYmVyKG4ud2lkdGgpJiYodGhpcy5zaXplLndpZHRoPW4ud2lkdGgpfSxfdXBkYXRlUmF0aW86ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5wb3NpdGlvbixpPXRoaXMuc2l6ZSxyPXRoaXMuYXhpcztyZXR1cm4gdGhpcy5faXNOdW1iZXIobi5oZWlnaHQpP24ud2lkdGg9bi5oZWlnaHQqdGhpcy5hc3BlY3RSYXRpbzp0aGlzLl9pc051bWJlcihuLndpZHRoKSYmKG4uaGVpZ2h0PW4ud2lkdGgvdGhpcy5hc3BlY3RSYXRpbyksInN3Ij09PXImJihuLmxlZnQ9dC5sZWZ0KyhpLndpZHRoLW4ud2lkdGgpLG4udG9wPW51bGwpLCJudyI9PT1yJiYobi50b3A9dC50b3ArKGkuaGVpZ2h0LW4uaGVpZ2h0KSxuLmxlZnQ9dC5sZWZ0KyhpLndpZHRoLW4ud2lkdGgpKSxufSxfcmVzcGVjdFNpemU6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fdkJvdW5kYXJpZXMsaT10aGlzLmF4aXMscj10aGlzLl9pc051bWJlcihuLndpZHRoKSYmdC5tYXhXaWR0aCYmdC5tYXhXaWR0aDxuLndpZHRoLHU9dGhpcy5faXNOdW1iZXIobi5oZWlnaHQpJiZ0Lm1heEhlaWdodCYmdC5tYXhIZWlnaHQ8bi5oZWlnaHQsZj10aGlzLl9pc051bWJlcihuLndpZHRoKSYmdC5taW5XaWR0aCYmdC5taW5XaWR0aD5uLndpZHRoLGU9dGhpcy5faXNOdW1iZXIobi5oZWlnaHQpJiZ0Lm1pbkhlaWdodCYmdC5taW5IZWlnaHQ+bi5oZWlnaHQsbz10aGlzLm9yaWdpbmFsUG9zaXRpb24ubGVmdCt0aGlzLm9yaWdpbmFsU2l6ZS53aWR0aCxzPXRoaXMub3JpZ2luYWxQb3NpdGlvbi50b3ArdGhpcy5vcmlnaW5hbFNpemUuaGVpZ2h0LGg9L3N3fG53fHcvLnRlc3QoaSksYz0vbnd8bmV8bi8udGVzdChpKTtyZXR1cm4gZiYmKG4ud2lkdGg9dC5taW5XaWR0aCksZSYmKG4uaGVpZ2h0PXQubWluSGVpZ2h0KSxyJiYobi53aWR0aD10Lm1heFdpZHRoKSx1JiYobi5oZWlnaHQ9dC5tYXhIZWlnaHQpLGYmJmgmJihuLmxlZnQ9by10Lm1pbldpZHRoKSxyJiZoJiYobi5sZWZ0PW8tdC5tYXhXaWR0aCksZSYmYyYmKG4udG9wPXMtdC5taW5IZWlnaHQpLHUmJmMmJihuLnRvcD1zLXQubWF4SGVpZ2h0KSxuLndpZHRofHxuLmhlaWdodHx8bi5sZWZ0fHwhbi50b3A/bi53aWR0aHx8bi5oZWlnaHR8fG4udG9wfHwhbi5sZWZ0fHwobi5sZWZ0PW51bGwpOm4udG9wPW51bGwsbn0sX2dldFBhZGRpbmdQbHVzQm9yZGVyRGltZW5zaW9uczpmdW5jdGlvbihuKXtmb3IodmFyIHQ9MCxpPVtdLHI9W24uY3NzKCJib3JkZXJUb3BXaWR0aCIpLG4uY3NzKCJib3JkZXJSaWdodFdpZHRoIiksbi5jc3MoImJvcmRlckJvdHRvbVdpZHRoIiksbi5jc3MoImJvcmRlckxlZnRXaWR0aCIpXSx1PVtuLmNzcygicGFkZGluZ1RvcCIpLG4uY3NzKCJwYWRkaW5nUmlnaHQiKSxuLmNzcygicGFkZGluZ0JvdHRvbSIpLG4uY3NzKCJwYWRkaW5nTGVmdCIpXTs0PnQ7dCsrKWlbdF09cGFyc2VGbG9hdChyW3RdKXx8MCxpW3RdKz1wYXJzZUZsb2F0KHVbdF0pfHwwO3JldHVybntoZWlnaHQ6aVswXStpWzJdLHdpZHRoOmlbMV0raVszXX19LF9wcm9wb3J0aW9uYWxseVJlc2l6ZTpmdW5jdGlvbigpe2lmKHRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMubGVuZ3RoKWZvcih2YXIgbix0PTAsaT10aGlzLmhlbHBlcnx8dGhpcy5lbGVtZW50O3RoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMubGVuZ3RoPnQ7dCsrKW49dGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50c1t0XSx0aGlzLm91dGVyRGltZW5zaW9uc3x8KHRoaXMub3V0ZXJEaW1lbnNpb25zPXRoaXMuX2dldFBhZGRpbmdQbHVzQm9yZGVyRGltZW5zaW9ucyhuKSksbi5jc3Moe2hlaWdodDppLmhlaWdodCgpLXRoaXMub3V0ZXJEaW1lbnNpb25zLmhlaWdodHx8MCx3aWR0aDppLndpZHRoKCktdGhpcy5vdXRlckRpbWVuc2lvbnMud2lkdGh8fDB9KX0sX3JlbmRlclByb3h5OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50LGk9dGhpcy5vcHRpb25zO3RoaXMuZWxlbWVudE9mZnNldD10Lm9mZnNldCgpO3RoaXMuX2hlbHBlcj8odGhpcy5oZWxwZXI9dGhpcy5oZWxwZXJ8fG4oIjxkaXYgc3R5bGU9J292ZXJmbG93OmhpZGRlbjsnPjxcL2Rpdj4iKSx0aGlzLl9hZGRDbGFzcyh0aGlzLmhlbHBlcix0aGlzLl9oZWxwZXIpLHRoaXMuaGVscGVyLmNzcyh7d2lkdGg6dGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKSxoZWlnaHQ6dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCkscG9zaXRpb246ImFic29sdXRlIixsZWZ0OnRoaXMuZWxlbWVudE9mZnNldC5sZWZ0KyJweCIsdG9wOnRoaXMuZWxlbWVudE9mZnNldC50b3ArInB4Iix6SW5kZXg6KytpLnpJbmRleH0pLHRoaXMuaGVscGVyLmFwcGVuZFRvKCJib2R5IikuZGlzYWJsZVNlbGVjdGlvbigpKTp0aGlzLmhlbHBlcj10aGlzLmVsZW1lbnR9LF9jaGFuZ2U6e2U6ZnVuY3Rpb24obix0KXtyZXR1cm57d2lkdGg6dGhpcy5vcmlnaW5hbFNpemUud2lkdGgrdH19LHc6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLm9yaWdpbmFsU2l6ZSxyPXRoaXMub3JpZ2luYWxQb3NpdGlvbjtyZXR1cm57bGVmdDpyLmxlZnQrdCx3aWR0aDppLndpZHRoLXR9fSxuOmZ1bmN0aW9uKG4sdCxpKXt2YXIgcj10aGlzLm9yaWdpbmFsU2l6ZSx1PXRoaXMub3JpZ2luYWxQb3NpdGlvbjtyZXR1cm57dG9wOnUudG9wK2ksaGVpZ2h0OnIuaGVpZ2h0LWl9fSxzOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm57aGVpZ2h0OnRoaXMub3JpZ2luYWxTaXplLmhlaWdodCtpfX0sc2U6ZnVuY3Rpb24odCxpLHIpe3JldHVybiBuLmV4dGVuZCh0aGlzLl9jaGFuZ2Uucy5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fY2hhbmdlLmUuYXBwbHkodGhpcyxbdCxpLHJdKSl9LHN3OmZ1bmN0aW9uKHQsaSxyKXtyZXR1cm4gbi5leHRlbmQodGhpcy5fY2hhbmdlLnMuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX2NoYW5nZS53LmFwcGx5KHRoaXMsW3QsaSxyXSkpfSxuZTpmdW5jdGlvbih0LGkscil7cmV0dXJuIG4uZXh0ZW5kKHRoaXMuX2NoYW5nZS5uLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9jaGFuZ2UuZS5hcHBseSh0aGlzLFt0LGkscl0pKX0sbnc6ZnVuY3Rpb24odCxpLHIpe3JldHVybiBuLmV4dGVuZCh0aGlzLl9jaGFuZ2Uubi5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fY2hhbmdlLncuYXBwbHkodGhpcyxbdCxpLHJdKSl9fSxfcHJvcGFnYXRlOmZ1bmN0aW9uKHQsaSl7bi51aS5wbHVnaW4uY2FsbCh0aGlzLHQsW2ksdGhpcy51aSgpXSk7InJlc2l6ZSIhPT10JiZ0aGlzLl90cmlnZ2VyKHQsaSx0aGlzLnVpKCkpfSxwbHVnaW5zOnt9LHVpOmZ1bmN0aW9uKCl7cmV0dXJue29yaWdpbmFsRWxlbWVudDp0aGlzLm9yaWdpbmFsRWxlbWVudCxlbGVtZW50OnRoaXMuZWxlbWVudCxoZWxwZXI6dGhpcy5oZWxwZXIscG9zaXRpb246dGhpcy5wb3NpdGlvbixzaXplOnRoaXMuc2l6ZSxvcmlnaW5hbFNpemU6dGhpcy5vcmlnaW5hbFNpemUsb3JpZ2luYWxQb3NpdGlvbjp0aGlzLm9yaWdpbmFsUG9zaXRpb259fX0pO24udWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiYW5pbWF0ZSIse3N0b3A6ZnVuY3Rpb24odCl7dmFyIGk9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksdT1pLm9wdGlvbnMscj1pLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLGY9ci5sZW5ndGgmJi90ZXh0YXJlYS9pLnRlc3QoclswXS5ub2RlTmFtZSkscz1mJiZpLl9oYXNTY3JvbGwoclswXSwibGVmdCIpPzA6aS5zaXplRGlmZi5oZWlnaHQsaD1mPzA6aS5zaXplRGlmZi53aWR0aCxjPXt3aWR0aDppLnNpemUud2lkdGgtaCxoZWlnaHQ6aS5zaXplLmhlaWdodC1zfSxlPXBhcnNlRmxvYXQoaS5lbGVtZW50LmNzcygibGVmdCIpKSsoaS5wb3NpdGlvbi5sZWZ0LWkub3JpZ2luYWxQb3NpdGlvbi5sZWZ0KXx8bnVsbCxvPXBhcnNlRmxvYXQoaS5lbGVtZW50LmNzcygidG9wIikpKyhpLnBvc2l0aW9uLnRvcC1pLm9yaWdpbmFsUG9zaXRpb24udG9wKXx8bnVsbDtpLmVsZW1lbnQuYW5pbWF0ZShuLmV4dGVuZChjLG8mJmU/e3RvcDpvLGxlZnQ6ZX06e30pLHtkdXJhdGlvbjp1LmFuaW1hdGVEdXJhdGlvbixlYXNpbmc6dS5hbmltYXRlRWFzaW5nLHN0ZXA6ZnVuY3Rpb24oKXt2YXIgdT17d2lkdGg6cGFyc2VGbG9hdChpLmVsZW1lbnQuY3NzKCJ3aWR0aCIpKSxoZWlnaHQ6cGFyc2VGbG9hdChpLmVsZW1lbnQuY3NzKCJoZWlnaHQiKSksdG9wOnBhcnNlRmxvYXQoaS5lbGVtZW50LmNzcygidG9wIikpLGxlZnQ6cGFyc2VGbG9hdChpLmVsZW1lbnQuY3NzKCJsZWZ0IikpfTtyJiZyLmxlbmd0aCYmbihyWzBdKS5jc3Moe3dpZHRoOnUud2lkdGgsaGVpZ2h0OnUuaGVpZ2h0fSk7aS5fdXBkYXRlQ2FjaGUodSk7aS5fcHJvcGFnYXRlKCJyZXNpemUiLHQpfX0pfX0pO24udWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiY29udGFpbm1lbnQiLHtzdGFydDpmdW5jdGlvbigpe3ZhciByLGYsZSxvLHMsaCxjLHQ9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksbD10Lm9wdGlvbnMsYT10LmVsZW1lbnQsdT1sLmNvbnRhaW5tZW50LGk9dSBpbnN0YW5jZW9mIG4/dS5nZXQoMCk6L3BhcmVudC8udGVzdCh1KT9hLnBhcmVudCgpLmdldCgwKTp1O2kmJih0LmNvbnRhaW5lckVsZW1lbnQ9bihpKSwvZG9jdW1lbnQvLnRlc3QodSl8fHU9PT1kb2N1bWVudD8odC5jb250YWluZXJPZmZzZXQ9e2xlZnQ6MCx0b3A6MH0sdC5jb250YWluZXJQb3NpdGlvbj17bGVmdDowLHRvcDowfSx0LnBhcmVudERhdGE9e2VsZW1lbnQ6bihkb2N1bWVudCksbGVmdDowLHRvcDowLHdpZHRoOm4oZG9jdW1lbnQpLndpZHRoKCksaGVpZ2h0Om4oZG9jdW1lbnQpLmhlaWdodCgpfHxkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0fSk6KHI9bihpKSxmPVtdLG4oWyJUb3AiLCJSaWdodCIsIkxlZnQiLCJCb3R0b20iXSkuZWFjaChmdW5jdGlvbihuLGkpe2Zbbl09dC5fbnVtKHIuY3NzKCJwYWRkaW5nIitpKSl9KSx0LmNvbnRhaW5lck9mZnNldD1yLm9mZnNldCgpLHQuY29udGFpbmVyUG9zaXRpb249ci5wb3NpdGlvbigpLHQuY29udGFpbmVyU2l6ZT17aGVpZ2h0OnIuaW5uZXJIZWlnaHQoKS1mWzNdLHdpZHRoOnIuaW5uZXJXaWR0aCgpLWZbMV19LGU9dC5jb250YWluZXJPZmZzZXQsbz10LmNvbnRhaW5lclNpemUuaGVpZ2h0LHM9dC5jb250YWluZXJTaXplLndpZHRoLGg9dC5faGFzU2Nyb2xsKGksImxlZnQiKT9pLnNjcm9sbFdpZHRoOnMsYz10Ll9oYXNTY3JvbGwoaSk/aS5zY3JvbGxIZWlnaHQ6byx0LnBhcmVudERhdGE9e2VsZW1lbnQ6aSxsZWZ0OmUubGVmdCx0b3A6ZS50b3Asd2lkdGg6aCxoZWlnaHQ6Y30pKX0scmVzaXplOmZ1bmN0aW9uKHQpe3ZhciBvLHMsaCxjLGk9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksdj1pLm9wdGlvbnMscj1pLmNvbnRhaW5lck9mZnNldCxsPWkucG9zaXRpb24sZj1pLl9hc3BlY3RSYXRpb3x8dC5zaGlmdEtleSxlPXt0b3A6MCxsZWZ0OjB9LGE9aS5jb250YWluZXJFbGVtZW50LHU9ITA7YVswXSE9PWRvY3VtZW50JiYvc3RhdGljLy50ZXN0KGEuY3NzKCJwb3NpdGlvbiIpKSYmKGU9cik7bC5sZWZ0PChpLl9oZWxwZXI/ci5sZWZ0OjApJiYoaS5zaXplLndpZHRoPWkuc2l6ZS53aWR0aCsoaS5faGVscGVyP2kucG9zaXRpb24ubGVmdC1yLmxlZnQ6aS5wb3NpdGlvbi5sZWZ0LWUubGVmdCksZiYmKGkuc2l6ZS5oZWlnaHQ9aS5zaXplLndpZHRoL2kuYXNwZWN0UmF0aW8sdT0hMSksaS5wb3NpdGlvbi5sZWZ0PXYuaGVscGVyP3IubGVmdDowKTtsLnRvcDwoaS5faGVscGVyP3IudG9wOjApJiYoaS5zaXplLmhlaWdodD1pLnNpemUuaGVpZ2h0KyhpLl9oZWxwZXI/aS5wb3NpdGlvbi50b3Atci50b3A6aS5wb3NpdGlvbi50b3ApLGYmJihpLnNpemUud2lkdGg9aS5zaXplLmhlaWdodCppLmFzcGVjdFJhdGlvLHU9ITEpLGkucG9zaXRpb24udG9wPWkuX2hlbHBlcj9yLnRvcDowKTtoPWkuY29udGFpbmVyRWxlbWVudC5nZXQoMCk9PT1pLmVsZW1lbnQucGFyZW50KCkuZ2V0KDApO2M9L3JlbGF0aXZlfGFic29sdXRlLy50ZXN0KGkuY29udGFpbmVyRWxlbWVudC5jc3MoInBvc2l0aW9uIikpO2gmJmM/KGkub2Zmc2V0LmxlZnQ9aS5wYXJlbnREYXRhLmxlZnQraS5wb3NpdGlvbi5sZWZ0LGkub2Zmc2V0LnRvcD1pLnBhcmVudERhdGEudG9wK2kucG9zaXRpb24udG9wKTooaS5vZmZzZXQubGVmdD1pLmVsZW1lbnQub2Zmc2V0KCkubGVmdCxpLm9mZnNldC50b3A9aS5lbGVtZW50Lm9mZnNldCgpLnRvcCk7bz1NYXRoLmFicyhpLnNpemVEaWZmLndpZHRoKyhpLl9oZWxwZXI/aS5vZmZzZXQubGVmdC1lLmxlZnQ6aS5vZmZzZXQubGVmdC1yLmxlZnQpKTtzPU1hdGguYWJzKGkuc2l6ZURpZmYuaGVpZ2h0KyhpLl9oZWxwZXI/aS5vZmZzZXQudG9wLWUudG9wOmkub2Zmc2V0LnRvcC1yLnRvcCkpO28raS5zaXplLndpZHRoPj1pLnBhcmVudERhdGEud2lkdGgmJihpLnNpemUud2lkdGg9aS5wYXJlbnREYXRhLndpZHRoLW8sZiYmKGkuc2l6ZS5oZWlnaHQ9aS5zaXplLndpZHRoL2kuYXNwZWN0UmF0aW8sdT0hMSkpO3MraS5zaXplLmhlaWdodD49aS5wYXJlbnREYXRhLmhlaWdodCYmKGkuc2l6ZS5oZWlnaHQ9aS5wYXJlbnREYXRhLmhlaWdodC1zLGYmJihpLnNpemUud2lkdGg9aS5zaXplLmhlaWdodCppLmFzcGVjdFJhdGlvLHU9ITEpKTt1fHwoaS5wb3NpdGlvbi5sZWZ0PWkucHJldlBvc2l0aW9uLmxlZnQsaS5wb3NpdGlvbi50b3A9aS5wcmV2UG9zaXRpb24udG9wLGkuc2l6ZS53aWR0aD1pLnByZXZTaXplLndpZHRoLGkuc2l6ZS5oZWlnaHQ9aS5wcmV2U2l6ZS5oZWlnaHQpfSxzdG9wOmZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIikscj10Lm9wdGlvbnMsdT10LmNvbnRhaW5lck9mZnNldCxmPXQuY29udGFpbmVyUG9zaXRpb24sZT10LmNvbnRhaW5lckVsZW1lbnQsaT1uKHQuaGVscGVyKSxvPWkub2Zmc2V0KCkscz1pLm91dGVyV2lkdGgoKS10LnNpemVEaWZmLndpZHRoLGg9aS5vdXRlckhlaWdodCgpLXQuc2l6ZURpZmYuaGVpZ2h0O3QuX2hlbHBlciYmIXIuYW5pbWF0ZSYmL3JlbGF0aXZlLy50ZXN0KGUuY3NzKCJwb3NpdGlvbiIpKSYmbih0aGlzKS5jc3Moe2xlZnQ6by5sZWZ0LWYubGVmdC11LmxlZnQsd2lkdGg6cyxoZWlnaHQ6aH0pO3QuX2hlbHBlciYmIXIuYW5pbWF0ZSYmL3N0YXRpYy8udGVzdChlLmNzcygicG9zaXRpb24iKSkmJm4odGhpcykuY3NzKHtsZWZ0Om8ubGVmdC1mLmxlZnQtdS5sZWZ0LHdpZHRoOnMsaGVpZ2h0Omh9KX19KTtuLnVpLnBsdWdpbi5hZGQoInJlc2l6YWJsZSIsImFsc29SZXNpemUiLHtzdGFydDpmdW5jdGlvbigpe3ZhciB0PW4odGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpLGk9dC5vcHRpb25zO24oaS5hbHNvUmVzaXplKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTt0LmRhdGEoInVpLXJlc2l6YWJsZS1hbHNvcmVzaXplIix7d2lkdGg6cGFyc2VGbG9hdCh0LndpZHRoKCkpLGhlaWdodDpwYXJzZUZsb2F0KHQuaGVpZ2h0KCkpLGxlZnQ6cGFyc2VGbG9hdCh0LmNzcygibGVmdCIpKSx0b3A6cGFyc2VGbG9hdCh0LmNzcygidG9wIikpfSl9KX0scmVzaXplOmZ1bmN0aW9uKHQsaSl7dmFyIHI9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksZT1yLm9wdGlvbnMsdT1yLm9yaWdpbmFsU2l6ZSxmPXIub3JpZ2luYWxQb3NpdGlvbixvPXtoZWlnaHQ6ci5zaXplLmhlaWdodC11LmhlaWdodHx8MCx3aWR0aDpyLnNpemUud2lkdGgtdS53aWR0aHx8MCx0b3A6ci5wb3NpdGlvbi50b3AtZi50b3B8fDAsbGVmdDpyLnBvc2l0aW9uLmxlZnQtZi5sZWZ0fHwwfTtuKGUuYWxzb1Jlc2l6ZSkuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyksdT1uKHRoaXMpLmRhdGEoInVpLXJlc2l6YWJsZS1hbHNvcmVzaXplIikscj17fSxmPXQucGFyZW50cyhpLm9yaWdpbmFsRWxlbWVudFswXSkubGVuZ3RoP1sid2lkdGgiLCJoZWlnaHQiXTpbIndpZHRoIiwiaGVpZ2h0IiwidG9wIiwibGVmdCJdO24uZWFjaChmLGZ1bmN0aW9uKG4sdCl7dmFyIGk9KHVbdF18fDApKyhvW3RdfHwwKTtpJiZpPj0wJiYoclt0XT1pfHxudWxsKX0pO3QuY3NzKHIpfSl9LHN0b3A6ZnVuY3Rpb24oKXtuKHRoaXMpLnJlbW92ZURhdGEoInVpLXJlc2l6YWJsZS1hbHNvcmVzaXplIil9fSk7bi51aS5wbHVnaW4uYWRkKCJyZXNpemFibGUiLCJnaG9zdCIse3N0YXJ0OmZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksaT10LnNpemU7dC5naG9zdD10Lm9yaWdpbmFsRWxlbWVudC5jbG9uZSgpO3QuZ2hvc3QuY3NzKHtvcGFjaXR5Oi4yNSxkaXNwbGF5OiJibG9jayIscG9zaXRpb246InJlbGF0aXZlIixoZWlnaHQ6aS5oZWlnaHQsd2lkdGg6aS53aWR0aCxtYXJnaW46MCxsZWZ0OjAsdG9wOjB9KTt0Ll9hZGRDbGFzcyh0Lmdob3N0LCJ1aS1yZXNpemFibGUtZ2hvc3QiKTtuLnVpQmFja0NvbXBhdCE9PSExJiYic3RyaW5nIj09dHlwZW9mIHQub3B0aW9ucy5naG9zdCYmdC5naG9zdC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuZ2hvc3QpO3QuZ2hvc3QuYXBwZW5kVG8odC5oZWxwZXIpfSxyZXNpemU6ZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKTt0Lmdob3N0JiZ0Lmdob3N0LmNzcyh7cG9zaXRpb246InJlbGF0aXZlIixoZWlnaHQ6dC5zaXplLmhlaWdodCx3aWR0aDp0LnNpemUud2lkdGh9KX0sc3RvcDpmdW5jdGlvbigpe3ZhciB0PW4odGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpO3QuZ2hvc3QmJnQuaGVscGVyJiZ0LmhlbHBlci5nZXQoMCkucmVtb3ZlQ2hpbGQodC5naG9zdC5nZXQoMCkpfX0pO24udWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiZ3JpZCIse3Jlc2l6ZTpmdW5jdGlvbigpe3ZhciBoLHQ9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksaT10Lm9wdGlvbnMseT10LnNpemUsbz10Lm9yaWdpbmFsU2l6ZSxzPXQub3JpZ2luYWxQb3NpdGlvbixjPXQuYXhpcyxsPSJudW1iZXIiPT10eXBlb2YgaS5ncmlkP1tpLmdyaWQsaS5ncmlkXTppLmdyaWQsZj1sWzBdfHwxLGU9bFsxXXx8MSxhPU1hdGgucm91bmQoKHkud2lkdGgtby53aWR0aCkvZikqZix2PU1hdGgucm91bmQoKHkuaGVpZ2h0LW8uaGVpZ2h0KS9lKSplLHI9by53aWR0aCthLHU9by5oZWlnaHQrdixwPWkubWF4V2lkdGgmJnI+aS5tYXhXaWR0aCx3PWkubWF4SGVpZ2h0JiZ1PmkubWF4SGVpZ2h0LGI9aS5taW5XaWR0aCYmaS5taW5XaWR0aD5yLGs9aS5taW5IZWlnaHQmJmkubWluSGVpZ2h0PnU7aS5ncmlkPWw7YiYmKHIrPWYpO2smJih1Kz1lKTtwJiYoci09Zik7dyYmKHUtPWUpOy9eKHNlfHN8ZSkkLy50ZXN0KGMpPyh0LnNpemUud2lkdGg9cix0LnNpemUuaGVpZ2h0PXUpOi9eKG5lKSQvLnRlc3QoYyk/KHQuc2l6ZS53aWR0aD1yLHQuc2l6ZS5oZWlnaHQ9dSx0LnBvc2l0aW9uLnRvcD1zLnRvcC12KTovXihzdykkLy50ZXN0KGMpPyh0LnNpemUud2lkdGg9cix0LnNpemUuaGVpZ2h0PXUsdC5wb3NpdGlvbi5sZWZ0PXMubGVmdC1hKTooKDA+PXUtZXx8MD49ci1mKSYmKGg9dC5fZ2V0UGFkZGluZ1BsdXNCb3JkZXJEaW1lbnNpb25zKHRoaXMpKSx1LWU+MD8odC5zaXplLmhlaWdodD11LHQucG9zaXRpb24udG9wPXMudG9wLXYpOih1PWUtaC5oZWlnaHQsdC5zaXplLmhlaWdodD11LHQucG9zaXRpb24udG9wPXMudG9wK28uaGVpZ2h0LXUpLHItZj4wPyh0LnNpemUud2lkdGg9cix0LnBvc2l0aW9uLmxlZnQ9cy5sZWZ0LWEpOihyPWYtaC53aWR0aCx0LnNpemUud2lkdGg9cix0LnBvc2l0aW9uLmxlZnQ9cy5sZWZ0K28ud2lkdGgtcikpfX0pO24udWkucmVzaXphYmxlO24ud2lkZ2V0KCJ1aS5kaWFsb2ciLHt2ZXJzaW9uOiIxLjEyLjEiLG9wdGlvbnM6e2FwcGVuZFRvOiJib2R5IixhdXRvT3BlbjohMCxidXR0b25zOltdLGNsYXNzZXM6eyJ1aS1kaWFsb2ciOiJ1aS1jb3JuZXItYWxsIiwidWktZGlhbG9nLXRpdGxlYmFyIjoidWktY29ybmVyLWFsbCJ9LGNsb3NlT25Fc2NhcGU6ITAsY2xvc2VUZXh0OiJDbG9zZSIsZHJhZ2dhYmxlOiEwLGhpZGU6bnVsbCxoZWlnaHQ6ImF1dG8iLG1heEhlaWdodDpudWxsLG1heFdpZHRoOm51bGwsbWluSGVpZ2h0OjE1MCxtaW5XaWR0aDoxNTAsbW9kYWw6ITEscG9zaXRpb246e215OiJjZW50ZXIiLGF0OiJjZW50ZXIiLCJvZiI6d2luZG93LGNvbGxpc2lvbjoiZml0Iix1c2luZzpmdW5jdGlvbih0KXt2YXIgaT1uKHRoaXMpLmNzcyh0KS5vZmZzZXQoKS50b3A7MD5pJiZuKHRoaXMpLmNzcygidG9wIix0LnRvcC1pKX19LHJlc2l6YWJsZTohMCxzaG93Om51bGwsdGl0bGU6bnVsbCx3aWR0aDozMDAsYmVmb3JlQ2xvc2U6bnVsbCxjbG9zZTpudWxsLGRyYWc6bnVsbCxkcmFnU3RhcnQ6bnVsbCxkcmFnU3RvcDpudWxsLGZvY3VzOm51bGwsb3BlbjpudWxsLHJlc2l6ZTpudWxsLHJlc2l6ZVN0YXJ0Om51bGwscmVzaXplU3RvcDpudWxsfSxzaXplUmVsYXRlZE9wdGlvbnM6e2J1dHRvbnM6ITAsaGVpZ2h0OiEwLG1heEhlaWdodDohMCxtYXhXaWR0aDohMCxtaW5IZWlnaHQ6ITAsbWluV2lkdGg6ITAsd2lkdGg6ITB9LHJlc2l6YWJsZVJlbGF0ZWRPcHRpb25zOnttYXhIZWlnaHQ6ITAsbWF4V2lkdGg6ITAsbWluSGVpZ2h0OiEwLG1pbldpZHRoOiEwfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5vcmlnaW5hbENzcz17ZGlzcGxheTp0aGlzLmVsZW1lbnRbMF0uc3R5bGUuZGlzcGxheSx3aWR0aDp0aGlzLmVsZW1lbnRbMF0uc3R5bGUud2lkdGgsbWluSGVpZ2h0OnRoaXMuZWxlbWVudFswXS5zdHlsZS5taW5IZWlnaHQsbWF4SGVpZ2h0OnRoaXMuZWxlbWVudFswXS5zdHlsZS5tYXhIZWlnaHQsaGVpZ2h0OnRoaXMuZWxlbWVudFswXS5zdHlsZS5oZWlnaHR9O3RoaXMub3JpZ2luYWxQb3NpdGlvbj17cGFyZW50OnRoaXMuZWxlbWVudC5wYXJlbnQoKSxpbmRleDp0aGlzLmVsZW1lbnQucGFyZW50KCkuY2hpbGRyZW4oKS5pbmRleCh0aGlzLmVsZW1lbnQpfTt0aGlzLm9yaWdpbmFsVGl0bGU9dGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIik7bnVsbD09dGhpcy5vcHRpb25zLnRpdGxlJiZudWxsIT10aGlzLm9yaWdpbmFsVGl0bGUmJih0aGlzLm9wdGlvbnMudGl0bGU9dGhpcy5vcmlnaW5hbFRpdGxlKTt0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJih0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9ITEpO3RoaXMuX2NyZWF0ZVdyYXBwZXIoKTt0aGlzLmVsZW1lbnQuc2hvdygpLnJlbW92ZUF0dHIoInRpdGxlIikuYXBwZW5kVG8odGhpcy51aURpYWxvZyk7dGhpcy5fYWRkQ2xhc3MoInVpLWRpYWxvZy1jb250ZW50IiwidWktd2lkZ2V0LWNvbnRlbnQiKTt0aGlzLl9jcmVhdGVUaXRsZWJhcigpO3RoaXMuX2NyZWF0ZUJ1dHRvblBhbmUoKTt0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlJiZuLmZuLmRyYWdnYWJsZSYmdGhpcy5fbWFrZURyYWdnYWJsZSgpO3RoaXMub3B0aW9ucy5yZXNpemFibGUmJm4uZm4ucmVzaXphYmxlJiZ0aGlzLl9tYWtlUmVzaXphYmxlKCk7dGhpcy5faXNPcGVuPSExO3RoaXMuX3RyYWNrRm9jdXMoKX0sX2luaXQ6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuYXV0b09wZW4mJnRoaXMub3BlbigpfSxfYXBwZW5kVG86ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMuYXBwZW5kVG87cmV0dXJuIHQmJih0LmpxdWVyeXx8dC5ub2RlVHlwZSk/bih0KTp0aGlzLmRvY3VtZW50LmZpbmQodHx8ImJvZHkiKS5lcSgwKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgbix0PXRoaXMub3JpZ2luYWxQb3NpdGlvbjt0aGlzLl91bnRyYWNrSW5zdGFuY2UoKTt0aGlzLl9kZXN0cm95T3ZlcmxheSgpO3RoaXMuZWxlbWVudC5yZW1vdmVVbmlxdWVJZCgpLmNzcyh0aGlzLm9yaWdpbmFsQ3NzKS5kZXRhY2goKTt0aGlzLnVpRGlhbG9nLnJlbW92ZSgpO3RoaXMub3JpZ2luYWxUaXRsZSYmdGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIix0aGlzLm9yaWdpbmFsVGl0bGUpO249dC5wYXJlbnQuY2hpbGRyZW4oKS5lcSh0LmluZGV4KTtuLmxlbmd0aCYmblswXSE9PXRoaXMuZWxlbWVudFswXT9uLmJlZm9yZSh0aGlzLmVsZW1lbnQpOnQucGFyZW50LmFwcGVuZCh0aGlzLmVsZW1lbnQpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51aURpYWxvZ30sZGlzYWJsZTpuLm5vb3AsZW5hYmxlOm4ubm9vcCxjbG9zZTpmdW5jdGlvbih0KXt2YXIgaT10aGlzO3RoaXMuX2lzT3BlbiYmdGhpcy5fdHJpZ2dlcigiYmVmb3JlQ2xvc2UiLHQpIT09ITEmJih0aGlzLl9pc09wZW49ITEsdGhpcy5fZm9jdXNlZEVsZW1lbnQ9bnVsbCx0aGlzLl9kZXN0cm95T3ZlcmxheSgpLHRoaXMuX3VudHJhY2tJbnN0YW5jZSgpLHRoaXMub3BlbmVyLmZpbHRlcigiOmZvY3VzYWJsZSIpLnRyaWdnZXIoImZvY3VzIikubGVuZ3RofHxuLnVpLnNhZmVCbHVyKG4udWkuc2FmZUFjdGl2ZUVsZW1lbnQodGhpcy5kb2N1bWVudFswXSkpLHRoaXMuX2hpZGUodGhpcy51aURpYWxvZyx0aGlzLm9wdGlvbnMuaGlkZSxmdW5jdGlvbigpe2kuX3RyaWdnZXIoImNsb3NlIix0KX0pKX0saXNPcGVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzT3Blbn0sbW92ZVRvVG9wOmZ1bmN0aW9uKCl7dGhpcy5fbW92ZVRvVG9wKCl9LF9tb3ZlVG9Ub3A6ZnVuY3Rpb24odCxpKXt2YXIgcj0hMSxmPXRoaXMudWlEaWFsb2cuc2libGluZ3MoIi51aS1mcm9udDp2aXNpYmxlIikubWFwKGZ1bmN0aW9uKCl7cmV0dXJuK24odGhpcykuY3NzKCJ6LWluZGV4Iil9KS5nZXQoKSx1PU1hdGgubWF4LmFwcGx5KG51bGwsZik7cmV0dXJuIHU+PSt0aGlzLnVpRGlhbG9nLmNzcygiei1pbmRleCIpJiYodGhpcy51aURpYWxvZy5jc3MoInotaW5kZXgiLHUrMSkscj0hMCksciYmIWkmJnRoaXMuX3RyaWdnZXIoImZvY3VzIix0KSxyfSxvcGVuOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5faXNPcGVuPyh0aGlzLl9tb3ZlVG9Ub3AoKSYmdGhpcy5fZm9jdXNUYWJiYWJsZSgpLHZvaWQgMCk6KHRoaXMuX2lzT3Blbj0hMCx0aGlzLm9wZW5lcj1uKG4udWkuc2FmZUFjdGl2ZUVsZW1lbnQodGhpcy5kb2N1bWVudFswXSkpLHRoaXMuX3NpemUoKSx0aGlzLl9wb3NpdGlvbigpLHRoaXMuX2NyZWF0ZU92ZXJsYXkoKSx0aGlzLl9tb3ZlVG9Ub3AobnVsbCwhMCksdGhpcy5vdmVybGF5JiZ0aGlzLm92ZXJsYXkuY3NzKCJ6LWluZGV4Iix0aGlzLnVpRGlhbG9nLmNzcygiei1pbmRleCIpLTEpLHRoaXMuX3Nob3codGhpcy51aURpYWxvZyx0aGlzLm9wdGlvbnMuc2hvdyxmdW5jdGlvbigpe3QuX2ZvY3VzVGFiYmFibGUoKTt0Ll90cmlnZ2VyKCJmb2N1cyIpfSksdGhpcy5fbWFrZUZvY3VzVGFyZ2V0KCksdGhpcy5fdHJpZ2dlcigib3BlbiIpLHZvaWQgMCl9LF9mb2N1c1RhYmJhYmxlOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5fZm9jdXNlZEVsZW1lbnQ7bnx8KG49dGhpcy5lbGVtZW50LmZpbmQoIlthdXRvZm9jdXNdIikpO24ubGVuZ3RofHwobj10aGlzLmVsZW1lbnQuZmluZCgiOnRhYmJhYmxlIikpO24ubGVuZ3RofHwobj10aGlzLnVpRGlhbG9nQnV0dG9uUGFuZS5maW5kKCI6dGFiYmFibGUiKSk7bi5sZW5ndGh8fChuPXRoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlLmZpbHRlcigiOnRhYmJhYmxlIikpO24ubGVuZ3RofHwobj10aGlzLnVpRGlhbG9nKTtuLmVxKDApLnRyaWdnZXIoImZvY3VzIil9LF9rZWVwRm9jdXM6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gaSgpe3ZhciB0PW4udWkuc2FmZUFjdGl2ZUVsZW1lbnQodGhpcy5kb2N1bWVudFswXSksaT10aGlzLnVpRGlhbG9nWzBdPT09dHx8bi5jb250YWlucyh0aGlzLnVpRGlhbG9nWzBdLHQpO2l8fHRoaXMuX2ZvY3VzVGFiYmFibGUoKX10LnByZXZlbnREZWZhdWx0KCk7aS5jYWxsKHRoaXMpO3RoaXMuX2RlbGF5KGkpfSxfY3JlYXRlV3JhcHBlcjpmdW5jdGlvbigpe3RoaXMudWlEaWFsb2c9bigiPGRpdj4iKS5oaWRlKCkuYXR0cih7dGFiSW5kZXg6LTEscm9sZToiZGlhbG9nIn0pLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpO3RoaXMuX2FkZENsYXNzKHRoaXMudWlEaWFsb2csInVpLWRpYWxvZyIsInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1mcm9udCIpO3RoaXMuX29uKHRoaXMudWlEaWFsb2cse2tleWRvd246ZnVuY3Rpb24odCl7aWYodGhpcy5vcHRpb25zLmNsb3NlT25Fc2NhcGUmJiF0LmlzRGVmYXVsdFByZXZlbnRlZCgpJiZ0LmtleUNvZGUmJnQua2V5Q29kZT09PW4udWkua2V5Q29kZS5FU0NBUEUpcmV0dXJuIHQucHJldmVudERlZmF1bHQoKSx0aGlzLmNsb3NlKHQpLHZvaWQgMDtpZih0LmtleUNvZGU9PT1uLnVpLmtleUNvZGUuVEFCJiYhdC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7dmFyIGk9dGhpcy51aURpYWxvZy5maW5kKCI6dGFiYmFibGUiKSxyPWkuZmlsdGVyKCI6Zmlyc3QiKSx1PWkuZmlsdGVyKCI6bGFzdCIpO3QudGFyZ2V0IT09dVswXSYmdC50YXJnZXQhPT10aGlzLnVpRGlhbG9nWzBdfHx0LnNoaWZ0S2V5P3QudGFyZ2V0IT09clswXSYmdC50YXJnZXQhPT10aGlzLnVpRGlhbG9nWzBdfHwhdC5zaGlmdEtleXx8KHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dS50cmlnZ2VyKCJmb2N1cyIpfSksdC5wcmV2ZW50RGVmYXVsdCgpKToodGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtyLnRyaWdnZXIoImZvY3VzIil9KSx0LnByZXZlbnREZWZhdWx0KCkpfX0sbW91c2Vkb3duOmZ1bmN0aW9uKG4pe3RoaXMuX21vdmVUb1RvcChuKSYmdGhpcy5fZm9jdXNUYWJiYWJsZSgpfX0pO3RoaXMuZWxlbWVudC5maW5kKCJbYXJpYS1kZXNjcmliZWRieV0iKS5sZW5ndGh8fHRoaXMudWlEaWFsb2cuYXR0cih7ImFyaWEtZGVzY3JpYmVkYnkiOnRoaXMuZWxlbWVudC51bmlxdWVJZCgpLmF0dHIoImlkIil9KX0sX2NyZWF0ZVRpdGxlYmFyOmZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy51aURpYWxvZ1RpdGxlYmFyPW4oIjxkaXY+Iik7dGhpcy5fYWRkQ2xhc3ModGhpcy51aURpYWxvZ1RpdGxlYmFyLCJ1aS1kaWFsb2ctdGl0bGViYXIiLCJ1aS13aWRnZXQtaGVhZGVyIHVpLWhlbHBlci1jbGVhcmZpeCIpO3RoaXMuX29uKHRoaXMudWlEaWFsb2dUaXRsZWJhcix7bW91c2Vkb3duOmZ1bmN0aW9uKHQpe24odC50YXJnZXQpLmNsb3Nlc3QoIi51aS1kaWFsb2ctdGl0bGViYXItY2xvc2UiKXx8dGhpcy51aURpYWxvZy50cmlnZ2VyKCJmb2N1cyIpfX0pO3RoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlPW4oIjxidXR0b24gdHlwZT0nYnV0dG9uJz48XC9idXR0b24+IikuYnV0dG9uKHtsYWJlbDpuKCI8YT4iKS50ZXh0KHRoaXMub3B0aW9ucy5jbG9zZVRleHQpLmh0bWwoKSxpY29uOiJ1aS1pY29uLWNsb3NldGhpY2siLHNob3dMYWJlbDohMX0pLmFwcGVuZFRvKHRoaXMudWlEaWFsb2dUaXRsZWJhcik7dGhpcy5fYWRkQ2xhc3ModGhpcy51aURpYWxvZ1RpdGxlYmFyQ2xvc2UsInVpLWRpYWxvZy10aXRsZWJhci1jbG9zZSIpO3RoaXMuX29uKHRoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlLHtjbGljazpmdW5jdGlvbihuKXtuLnByZXZlbnREZWZhdWx0KCk7dGhpcy5jbG9zZShuKX19KTt0PW4oIjxzcGFuPiIpLnVuaXF1ZUlkKCkucHJlcGVuZFRvKHRoaXMudWlEaWFsb2dUaXRsZWJhcik7dGhpcy5fYWRkQ2xhc3ModCwidWktZGlhbG9nLXRpdGxlIik7dGhpcy5fdGl0bGUodCk7dGhpcy51aURpYWxvZ1RpdGxlYmFyLnByZXBlbmRUbyh0aGlzLnVpRGlhbG9nKTt0aGlzLnVpRGlhbG9nLmF0dHIoeyJhcmlhLWxhYmVsbGVkYnkiOnQuYXR0cigiaWQiKX0pfSxfdGl0bGU6ZnVuY3Rpb24obil7dGhpcy5vcHRpb25zLnRpdGxlP24udGV4dCh0aGlzLm9wdGlvbnMudGl0bGUpOm4uaHRtbCgiJiMxNjA7Iil9LF9jcmVhdGVCdXR0b25QYW5lOmZ1bmN0aW9uKCl7dGhpcy51aURpYWxvZ0J1dHRvblBhbmU9bigiPGRpdj4iKTt0aGlzLl9hZGRDbGFzcyh0aGlzLnVpRGlhbG9nQnV0dG9uUGFuZSwidWktZGlhbG9nLWJ1dHRvbnBhbmUiLCJ1aS13aWRnZXQtY29udGVudCB1aS1oZWxwZXItY2xlYXJmaXgiKTt0aGlzLnVpQnV0dG9uU2V0PW4oIjxkaXY+IikuYXBwZW5kVG8odGhpcy51aURpYWxvZ0J1dHRvblBhbmUpO3RoaXMuX2FkZENsYXNzKHRoaXMudWlCdXR0b25TZXQsInVpLWRpYWxvZy1idXR0b25zZXQiKTt0aGlzLl9jcmVhdGVCdXR0b25zKCl9LF9jcmVhdGVCdXR0b25zOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcyx0PXRoaXMub3B0aW9ucy5idXR0b25zO3JldHVybiB0aGlzLnVpRGlhbG9nQnV0dG9uUGFuZS5yZW1vdmUoKSx0aGlzLnVpQnV0dG9uU2V0LmVtcHR5KCksbi5pc0VtcHR5T2JqZWN0KHQpfHxuLmlzQXJyYXkodCkmJiF0Lmxlbmd0aD8odGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy51aURpYWxvZywidWktZGlhbG9nLWJ1dHRvbnMiKSx2b2lkIDApOihuLmVhY2godCxmdW5jdGlvbih0LHIpe3ZhciB1LGY7cj1uLmlzRnVuY3Rpb24ocik/e2NsaWNrOnIsdGV4dDp0fTpyO3I9bi5leHRlbmQoe3R5cGU6ImJ1dHRvbiJ9LHIpO3U9ci5jbGljaztmPXtpY29uOnIuaWNvbixpY29uUG9zaXRpb246ci5pY29uUG9zaXRpb24sc2hvd0xhYmVsOnIuc2hvd0xhYmVsLGljb25zOnIuaWNvbnMsdGV4dDpyLnRleHR9O2RlbGV0ZSByLmNsaWNrO2RlbGV0ZSByLmljb247ZGVsZXRlIHIuaWNvblBvc2l0aW9uO2RlbGV0ZSByLnNob3dMYWJlbDtkZWxldGUgci5pY29uczsiYm9vbGVhbiI9PXR5cGVvZiByLnRleHQmJmRlbGV0ZSByLnRleHQ7bigiPGJ1dHRvbj48XC9idXR0b24+IixyKS5idXR0b24oZikuYXBwZW5kVG8oaS51aUJ1dHRvblNldCkub24oImNsaWNrIixmdW5jdGlvbigpe3UuYXBwbHkoaS5lbGVtZW50WzBdLGFyZ3VtZW50cyl9KX0pLHRoaXMuX2FkZENsYXNzKHRoaXMudWlEaWFsb2csInVpLWRpYWxvZy1idXR0b25zIiksdGhpcy51aURpYWxvZ0J1dHRvblBhbmUuYXBwZW5kVG8odGhpcy51aURpYWxvZyksdm9pZCAwKX0sX21ha2VEcmFnZ2FibGU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKG4pe3JldHVybntwb3NpdGlvbjpuLnBvc2l0aW9uLG9mZnNldDpuLm9mZnNldH19dmFyIHQ9dGhpcyxyPXRoaXMub3B0aW9uczt0aGlzLnVpRGlhbG9nLmRyYWdnYWJsZSh7Y2FuY2VsOiIudWktZGlhbG9nLWNvbnRlbnQsIC51aS1kaWFsb2ctdGl0bGViYXItY2xvc2UiLGhhbmRsZToiLnVpLWRpYWxvZy10aXRsZWJhciIsY29udGFpbm1lbnQ6ImRvY3VtZW50IixzdGFydDpmdW5jdGlvbihyLHUpe3QuX2FkZENsYXNzKG4odGhpcyksInVpLWRpYWxvZy1kcmFnZ2luZyIpO3QuX2Jsb2NrRnJhbWVzKCk7dC5fdHJpZ2dlcigiZHJhZ1N0YXJ0IixyLGkodSkpfSxkcmFnOmZ1bmN0aW9uKG4scil7dC5fdHJpZ2dlcigiZHJhZyIsbixpKHIpKX0sc3RvcDpmdW5jdGlvbih1LGYpe3ZhciBlPWYub2Zmc2V0LmxlZnQtdC5kb2N1bWVudC5zY3JvbGxMZWZ0KCksbz1mLm9mZnNldC50b3AtdC5kb2N1bWVudC5zY3JvbGxUb3AoKTtyLnBvc2l0aW9uPXtteToibGVmdCB0b3AiLGF0OiJsZWZ0IisoZT49MD8iKyI6IiIpK2UrIiB0b3AiKyhvPj0wPyIrIjoiIikrbywib2YiOnQud2luZG93fTt0Ll9yZW1vdmVDbGFzcyhuKHRoaXMpLCJ1aS1kaWFsb2ctZHJhZ2dpbmciKTt0Ll91bmJsb2NrRnJhbWVzKCk7dC5fdHJpZ2dlcigiZHJhZ1N0b3AiLHUsaShmKSl9fSl9LF9tYWtlUmVzaXphYmxlOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihuKXtyZXR1cm57b3JpZ2luYWxQb3NpdGlvbjpuLm9yaWdpbmFsUG9zaXRpb24sb3JpZ2luYWxTaXplOm4ub3JpZ2luYWxTaXplLHBvc2l0aW9uOm4ucG9zaXRpb24sc2l6ZTpuLnNpemV9fXZhciB0PXRoaXMsaT10aGlzLm9wdGlvbnMsdT1pLnJlc2l6YWJsZSxmPXRoaXMudWlEaWFsb2cuY3NzKCJwb3NpdGlvbiIpLGU9InN0cmluZyI9PXR5cGVvZiB1P3U6Im4sZSxzLHcsc2Usc3csbmUsbnciO3RoaXMudWlEaWFsb2cucmVzaXphYmxlKHtjYW5jZWw6Ii51aS1kaWFsb2ctY29udGVudCIsY29udGFpbm1lbnQ6ImRvY3VtZW50IixhbHNvUmVzaXplOnRoaXMuZWxlbWVudCxtYXhXaWR0aDppLm1heFdpZHRoLG1heEhlaWdodDppLm1heEhlaWdodCxtaW5XaWR0aDppLm1pbldpZHRoLG1pbkhlaWdodDp0aGlzLl9taW5IZWlnaHQoKSxoYW5kbGVzOmUsc3RhcnQ6ZnVuY3Rpb24oaSx1KXt0Ll9hZGRDbGFzcyhuKHRoaXMpLCJ1aS1kaWFsb2ctcmVzaXppbmciKTt0Ll9ibG9ja0ZyYW1lcygpO3QuX3RyaWdnZXIoInJlc2l6ZVN0YXJ0IixpLHIodSkpfSxyZXNpemU6ZnVuY3Rpb24obixpKXt0Ll90cmlnZ2VyKCJyZXNpemUiLG4scihpKSl9LHN0b3A6ZnVuY3Rpb24odSxmKXt2YXIgZT10LnVpRGlhbG9nLm9mZnNldCgpLG89ZS5sZWZ0LXQuZG9jdW1lbnQuc2Nyb2xsTGVmdCgpLHM9ZS50b3AtdC5kb2N1bWVudC5zY3JvbGxUb3AoKTtpLmhlaWdodD10LnVpRGlhbG9nLmhlaWdodCgpO2kud2lkdGg9dC51aURpYWxvZy53aWR0aCgpO2kucG9zaXRpb249e215OiJsZWZ0IHRvcCIsYXQ6ImxlZnQiKyhvPj0wPyIrIjoiIikrbysiIHRvcCIrKHM+PTA/IisiOiIiKStzLCJvZiI6dC53aW5kb3d9O3QuX3JlbW92ZUNsYXNzKG4odGhpcyksInVpLWRpYWxvZy1yZXNpemluZyIpO3QuX3VuYmxvY2tGcmFtZXMoKTt0Ll90cmlnZ2VyKCJyZXNpemVTdG9wIix1LHIoZikpfX0pLmNzcygicG9zaXRpb24iLGYpfSxfdHJhY2tGb2N1czpmdW5jdGlvbigpe3RoaXMuX29uKHRoaXMud2lkZ2V0KCkse2ZvY3VzaW46ZnVuY3Rpb24odCl7dGhpcy5fbWFrZUZvY3VzVGFyZ2V0KCk7dGhpcy5fZm9jdXNlZEVsZW1lbnQ9bih0LnRhcmdldCl9fSl9LF9tYWtlRm9jdXNUYXJnZXQ6ZnVuY3Rpb24oKXt0aGlzLl91bnRyYWNrSW5zdGFuY2UoKTt0aGlzLl90cmFja2luZ0luc3RhbmNlcygpLnVuc2hpZnQodGhpcyl9LF91bnRyYWNrSW5zdGFuY2U6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90cmFja2luZ0luc3RhbmNlcygpLGk9bi5pbkFycmF5KHRoaXMsdCk7LTEhPT1pJiZ0LnNwbGljZShpLDEpfSxfdHJhY2tpbmdJbnN0YW5jZXM6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmRvY3VtZW50LmRhdGEoInVpLWRpYWxvZy1pbnN0YW5jZXMiKTtyZXR1cm4gbnx8KG49W10sdGhpcy5kb2N1bWVudC5kYXRhKCJ1aS1kaWFsb2ctaW5zdGFuY2VzIixuKSksbn0sX21pbkhlaWdodDpmdW5jdGlvbigpe3ZhciBuPXRoaXMub3B0aW9ucztyZXR1cm4iYXV0byI9PT1uLmhlaWdodD9uLm1pbkhlaWdodDpNYXRoLm1pbihuLm1pbkhlaWdodCxuLmhlaWdodCl9LF9wb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBuPXRoaXMudWlEaWFsb2cuaXMoIjp2aXNpYmxlIik7bnx8dGhpcy51aURpYWxvZy5zaG93KCk7dGhpcy51aURpYWxvZy5wb3NpdGlvbih0aGlzLm9wdGlvbnMucG9zaXRpb24pO258fHRoaXMudWlEaWFsb2cuaGlkZSgpfSxfc2V0T3B0aW9uczpmdW5jdGlvbih0KXt2YXIgaT10aGlzLHI9ITEsdT17fTtuLmVhY2godCxmdW5jdGlvbihuLHQpe2kuX3NldE9wdGlvbihuLHQpO24gaW4gaS5zaXplUmVsYXRlZE9wdGlvbnMmJihyPSEwKTtuIGluIGkucmVzaXphYmxlUmVsYXRlZE9wdGlvbnMmJih1W25dPXQpfSk7ciYmKHRoaXMuX3NpemUoKSx0aGlzLl9wb3NpdGlvbigpKTt0aGlzLnVpRGlhbG9nLmlzKCI6ZGF0YSh1aS1yZXNpemFibGUpIikmJnRoaXMudWlEaWFsb2cucmVzaXphYmxlKCJvcHRpb24iLHUpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsaSl7dmFyIGYsdSxyPXRoaXMudWlEaWFsb2c7ImRpc2FibGVkIiE9PXQmJih0aGlzLl9zdXBlcih0LGkpLCJhcHBlbmRUbyI9PT10JiZ0aGlzLnVpRGlhbG9nLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpLCJidXR0b25zIj09PXQmJnRoaXMuX2NyZWF0ZUJ1dHRvbnMoKSwiY2xvc2VUZXh0Ij09PXQmJnRoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlLmJ1dHRvbih7bGFiZWw6bigiPGE+IikudGV4dCgiIit0aGlzLm9wdGlvbnMuY2xvc2VUZXh0KS5odG1sKCl9KSwiZHJhZ2dhYmxlIj09PXQmJihmPXIuaXMoIjpkYXRhKHVpLWRyYWdnYWJsZSkiKSxmJiYhaSYmci5kcmFnZ2FibGUoImRlc3Ryb3kiKSwhZiYmaSYmdGhpcy5fbWFrZURyYWdnYWJsZSgpKSwicG9zaXRpb24iPT09dCYmdGhpcy5fcG9zaXRpb24oKSwicmVzaXphYmxlIj09PXQmJih1PXIuaXMoIjpkYXRhKHVpLXJlc2l6YWJsZSkiKSx1JiYhaSYmci5yZXNpemFibGUoImRlc3Ryb3kiKSx1JiYic3RyaW5nIj09dHlwZW9mIGkmJnIucmVzaXphYmxlKCJvcHRpb24iLCJoYW5kbGVzIixpKSx1fHxpPT09ITF8fHRoaXMuX21ha2VSZXNpemFibGUoKSksInRpdGxlIj09PXQmJnRoaXMuX3RpdGxlKHRoaXMudWlEaWFsb2dUaXRsZWJhci5maW5kKCIudWktZGlhbG9nLXRpdGxlIikpKX0sX3NpemU6ZnVuY3Rpb24oKXt2YXIgdCxpLHIsbj10aGlzLm9wdGlvbnM7dGhpcy5lbGVtZW50LnNob3coKS5jc3Moe3dpZHRoOiJhdXRvIixtaW5IZWlnaHQ6MCxtYXhIZWlnaHQ6Im5vbmUiLGhlaWdodDowfSk7bi5taW5XaWR0aD5uLndpZHRoJiYobi53aWR0aD1uLm1pbldpZHRoKTt0PXRoaXMudWlEaWFsb2cuY3NzKHtoZWlnaHQ6ImF1dG8iLHdpZHRoOm4ud2lkdGh9KS5vdXRlckhlaWdodCgpO2k9TWF0aC5tYXgoMCxuLm1pbkhlaWdodC10KTtyPSJudW1iZXIiPT10eXBlb2Ygbi5tYXhIZWlnaHQ/TWF0aC5tYXgoMCxuLm1heEhlaWdodC10KToibm9uZSI7ImF1dG8iPT09bi5oZWlnaHQ/dGhpcy5lbGVtZW50LmNzcyh7bWluSGVpZ2h0OmksbWF4SGVpZ2h0OnIsaGVpZ2h0OiJhdXRvIn0pOnRoaXMuZWxlbWVudC5oZWlnaHQoTWF0aC5tYXgoMCxuLmhlaWdodC10KSk7dGhpcy51aURpYWxvZy5pcygiOmRhdGEodWktcmVzaXphYmxlKSIpJiZ0aGlzLnVpRGlhbG9nLnJlc2l6YWJsZSgib3B0aW9uIiwibWluSGVpZ2h0Iix0aGlzLl9taW5IZWlnaHQoKSl9LF9ibG9ja0ZyYW1lczpmdW5jdGlvbigpe3RoaXMuaWZyYW1lQmxvY2tzPXRoaXMuZG9jdW1lbnQuZmluZCgiaWZyYW1lIikubWFwKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTtyZXR1cm4gbigiPGRpdj4iKS5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsd2lkdGg6dC5vdXRlcldpZHRoKCksaGVpZ2h0OnQub3V0ZXJIZWlnaHQoKX0pLmFwcGVuZFRvKHQucGFyZW50KCkpLm9mZnNldCh0Lm9mZnNldCgpKVswXX0pfSxfdW5ibG9ja0ZyYW1lczpmdW5jdGlvbigpe3RoaXMuaWZyYW1lQmxvY2tzJiYodGhpcy5pZnJhbWVCbG9ja3MucmVtb3ZlKCksZGVsZXRlIHRoaXMuaWZyYW1lQmxvY2tzKX0sX2FsbG93SW50ZXJhY3Rpb246ZnVuY3Rpb24odCl7cmV0dXJuIG4odC50YXJnZXQpLmNsb3Nlc3QoIi51aS1kaWFsb2ciKS5sZW5ndGg/ITA6ISFuKHQudGFyZ2V0KS5jbG9zZXN0KCIudWktZGF0ZXBpY2tlciIpLmxlbmd0aH0sX2NyZWF0ZU92ZXJsYXk6ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMubW9kYWwpe3ZhciB0PSEwO3RoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dD0hMX0pO3RoaXMuZG9jdW1lbnQuZGF0YSgidWktZGlhbG9nLW92ZXJsYXlzIil8fHRoaXMuX29uKHRoaXMuZG9jdW1lbnQse2ZvY3VzaW46ZnVuY3Rpb24obil7dHx8dGhpcy5fYWxsb3dJbnRlcmFjdGlvbihuKXx8KG4ucHJldmVudERlZmF1bHQoKSx0aGlzLl90cmFja2luZ0luc3RhbmNlcygpWzBdLl9mb2N1c1RhYmJhYmxlKCkpfX0pO3RoaXMub3ZlcmxheT1uKCI8ZGl2PiIpLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpO3RoaXMuX2FkZENsYXNzKHRoaXMub3ZlcmxheSxudWxsLCJ1aS13aWRnZXQtb3ZlcmxheSB1aS1mcm9udCIpO3RoaXMuX29uKHRoaXMub3ZlcmxheSx7bW91c2Vkb3duOiJfa2VlcEZvY3VzIn0pO3RoaXMuZG9jdW1lbnQuZGF0YSgidWktZGlhbG9nLW92ZXJsYXlzIiwodGhpcy5kb2N1bWVudC5kYXRhKCJ1aS1kaWFsb2ctb3ZlcmxheXMiKXx8MCkrMSl9fSxfZGVzdHJveU92ZXJsYXk6ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMubW9kYWwmJnRoaXMub3ZlcmxheSl7dmFyIG49dGhpcy5kb2N1bWVudC5kYXRhKCJ1aS1kaWFsb2ctb3ZlcmxheXMiKS0xO24/dGhpcy5kb2N1bWVudC5kYXRhKCJ1aS1kaWFsb2ctb3ZlcmxheXMiLG4pOih0aGlzLl9vZmYodGhpcy5kb2N1bWVudCwiZm9jdXNpbiIpLHRoaXMuZG9jdW1lbnQucmVtb3ZlRGF0YSgidWktZGlhbG9nLW92ZXJsYXlzIikpO3RoaXMub3ZlcmxheS5yZW1vdmUoKTt0aGlzLm92ZXJsYXk9bnVsbH19fSk7bi51aUJhY2tDb21wYXQhPT0hMSYmbi53aWRnZXQoInVpLmRpYWxvZyIsbi51aS5kaWFsb2cse29wdGlvbnM6e2RpYWxvZ0NsYXNzOiIifSxfY3JlYXRlV3JhcHBlcjpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCk7dGhpcy51aURpYWxvZy5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuZGlhbG9nQ2xhc3MpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7ImRpYWxvZ0NsYXNzIj09PW4mJnRoaXMudWlEaWFsb2cucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmRpYWxvZ0NsYXNzKS5hZGRDbGFzcyh0KTt0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cyl9fSk7bi51aS5kaWFsb2c7bi53aWRnZXQoInVpLmRyb3BwYWJsZSIse3ZlcnNpb246IjEuMTIuMSIsd2lkZ2V0RXZlbnRQcmVmaXg6ImRyb3AiLG9wdGlvbnM6e2FjY2VwdDoiKiIsYWRkQ2xhc3NlczohMCxncmVlZHk6ITEsc2NvcGU6ImRlZmF1bHQiLHRvbGVyYW5jZToiaW50ZXJzZWN0IixhY3RpdmF0ZTpudWxsLGRlYWN0aXZhdGU6bnVsbCxkcm9wOm51bGwsb3V0Om51bGwsb3ZlcjpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQsaT10aGlzLm9wdGlvbnMscj1pLmFjY2VwdDt0aGlzLmlzb3Zlcj0hMTt0aGlzLmlzb3V0PSEwO3RoaXMuYWNjZXB0PW4uaXNGdW5jdGlvbihyKT9yOmZ1bmN0aW9uKG4pe3JldHVybiBuLmlzKHIpfTt0aGlzLnByb3BvcnRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9YXJndW1lbnRzWzBdLHZvaWQgMCk6dD90OnQ9e3dpZHRoOnRoaXMuZWxlbWVudFswXS5vZmZzZXRXaWR0aCxoZWlnaHQ6dGhpcy5lbGVtZW50WzBdLm9mZnNldEhlaWdodH19O3RoaXMuX2FkZFRvTWFuYWdlcihpLnNjb3BlKTtpLmFkZENsYXNzZXMmJnRoaXMuX2FkZENsYXNzKCJ1aS1kcm9wcGFibGUiKX0sX2FkZFRvTWFuYWdlcjpmdW5jdGlvbih0KXtuLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3RdPW4udWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdF18fFtdO24udWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdF0ucHVzaCh0aGlzKX0sX3NwbGljZTpmdW5jdGlvbihuKXtmb3IodmFyIHQ9MDtuLmxlbmd0aD50O3QrKyluW3RdPT09dGhpcyYmbi5zcGxpY2UodCwxKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgdD1uLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3RoaXMub3B0aW9ucy5zY29wZV07dGhpcy5fc3BsaWNlKHQpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsaSl7aWYoImFjY2VwdCI9PT10KXRoaXMuYWNjZXB0PW4uaXNGdW5jdGlvbihpKT9pOmZ1bmN0aW9uKG4pe3JldHVybiBuLmlzKGkpfTtlbHNlIGlmKCJzY29wZSI9PT10KXt2YXIgcj1uLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3RoaXMub3B0aW9ucy5zY29wZV07dGhpcy5fc3BsaWNlKHIpO3RoaXMuX2FkZFRvTWFuYWdlcihpKX10aGlzLl9zdXBlcih0LGkpfSxfYWN0aXZhdGU6ZnVuY3Rpb24odCl7dmFyIGk9bi51aS5kZG1hbmFnZXIuY3VycmVudDt0aGlzLl9hZGRBY3RpdmVDbGFzcygpO2kmJnRoaXMuX3RyaWdnZXIoImFjdGl2YXRlIix0LHRoaXMudWkoaSkpfSxfZGVhY3RpdmF0ZTpmdW5jdGlvbih0KXt2YXIgaT1uLnVpLmRkbWFuYWdlci5jdXJyZW50O3RoaXMuX3JlbW92ZUFjdGl2ZUNsYXNzKCk7aSYmdGhpcy5fdHJpZ2dlcigiZGVhY3RpdmF0ZSIsdCx0aGlzLnVpKGkpKX0sX292ZXI6ZnVuY3Rpb24odCl7dmFyIGk9bi51aS5kZG1hbmFnZXIuY3VycmVudDtpJiYoaS5jdXJyZW50SXRlbXx8aS5lbGVtZW50KVswXSE9PXRoaXMuZWxlbWVudFswXSYmdGhpcy5hY2NlcHQuY2FsbCh0aGlzLmVsZW1lbnRbMF0saS5jdXJyZW50SXRlbXx8aS5lbGVtZW50KSYmKHRoaXMuX2FkZEhvdmVyQ2xhc3MoKSx0aGlzLl90cmlnZ2VyKCJvdmVyIix0LHRoaXMudWkoaSkpKX0sX291dDpmdW5jdGlvbih0KXt2YXIgaT1uLnVpLmRkbWFuYWdlci5jdXJyZW50O2kmJihpLmN1cnJlbnRJdGVtfHxpLmVsZW1lbnQpWzBdIT09dGhpcy5lbGVtZW50WzBdJiZ0aGlzLmFjY2VwdC5jYWxsKHRoaXMuZWxlbWVudFswXSxpLmN1cnJlbnRJdGVtfHxpLmVsZW1lbnQpJiYodGhpcy5fcmVtb3ZlSG92ZXJDbGFzcygpLHRoaXMuX3RyaWdnZXIoIm91dCIsdCx0aGlzLnVpKGkpKSl9LF9kcm9wOmZ1bmN0aW9uKHQsaSl7dmFyIHI9aXx8bi51aS5kZG1hbmFnZXIuY3VycmVudCx1PSExO3JldHVybiByJiYoci5jdXJyZW50SXRlbXx8ci5lbGVtZW50KVswXSE9PXRoaXMuZWxlbWVudFswXT8odGhpcy5lbGVtZW50LmZpbmQoIjpkYXRhKHVpLWRyb3BwYWJsZSkiKS5ub3QoIi51aS1kcmFnZ2FibGUtZHJhZ2dpbmciKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9bih0aGlzKS5kcm9wcGFibGUoImluc3RhbmNlIik7aWYoaS5vcHRpb25zLmdyZWVkeSYmIWkub3B0aW9ucy5kaXNhYmxlZCYmaS5vcHRpb25zLnNjb3BlPT09ci5vcHRpb25zLnNjb3BlJiZpLmFjY2VwdC5jYWxsKGkuZWxlbWVudFswXSxyLmN1cnJlbnRJdGVtfHxyLmVsZW1lbnQpJiZlKHIsbi5leHRlbmQoaSx7b2Zmc2V0OmkuZWxlbWVudC5vZmZzZXQoKX0pLGkub3B0aW9ucy50b2xlcmFuY2UsdCkpcmV0dXJuKHU9ITAsITEpfSksdT8hMTp0aGlzLmFjY2VwdC5jYWxsKHRoaXMuZWxlbWVudFswXSxyLmN1cnJlbnRJdGVtfHxyLmVsZW1lbnQpPyh0aGlzLl9yZW1vdmVBY3RpdmVDbGFzcygpLHRoaXMuX3JlbW92ZUhvdmVyQ2xhc3MoKSx0aGlzLl90cmlnZ2VyKCJkcm9wIix0LHRoaXMudWkocikpLHRoaXMuZWxlbWVudCk6ITEpOiExfSx1aTpmdW5jdGlvbihuKXtyZXR1cm57ZHJhZ2dhYmxlOm4uY3VycmVudEl0ZW18fG4uZWxlbWVudCxoZWxwZXI6bi5oZWxwZXIscG9zaXRpb246bi5wb3NpdGlvbixvZmZzZXQ6bi5wb3NpdGlvbkFic319LF9hZGRIb3ZlckNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fYWRkQ2xhc3MoInVpLWRyb3BwYWJsZS1ob3ZlciIpfSxfcmVtb3ZlSG92ZXJDbGFzczpmdW5jdGlvbigpe3RoaXMuX3JlbW92ZUNsYXNzKCJ1aS1kcm9wcGFibGUtaG92ZXIiKX0sX2FkZEFjdGl2ZUNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fYWRkQ2xhc3MoInVpLWRyb3BwYWJsZS1hY3RpdmUiKX0sX3JlbW92ZUFjdGl2ZUNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlQ2xhc3MoInVpLWRyb3BwYWJsZS1hY3RpdmUiKX19KTtlPW4udWkuaW50ZXJzZWN0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuLHQsaSl7cmV0dXJuIG4+PXQmJnQraT5ufXJldHVybiBmdW5jdGlvbih0LGkscix1KXtpZighaS5vZmZzZXQpcmV0dXJuITE7dmFyIG89KHQucG9zaXRpb25BYnN8fHQucG9zaXRpb24uYWJzb2x1dGUpLmxlZnQrdC5tYXJnaW5zLmxlZnQscz0odC5wb3NpdGlvbkFic3x8dC5wb3NpdGlvbi5hYnNvbHV0ZSkudG9wK3QubWFyZ2lucy50b3AsaD1vK3QuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgsYz1zK3QuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LGY9aS5vZmZzZXQubGVmdCxlPWkub2Zmc2V0LnRvcCxsPWYraS5wcm9wb3J0aW9ucygpLndpZHRoLGE9ZStpLnByb3BvcnRpb25zKCkuaGVpZ2h0O3N3aXRjaChyKXtjYXNlImZpdCI6cmV0dXJuIG8+PWYmJmw+PWgmJnM+PWUmJmE+PWM7Y2FzZSJpbnRlcnNlY3QiOnJldHVybiBvK3QuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgvMj5mJiZsPmgtdC5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC8yJiZzK3QuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LzI+ZSYmYT5jLXQuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LzI7Y2FzZSJwb2ludGVyIjpyZXR1cm4gbih1LnBhZ2VZLGUsaS5wcm9wb3J0aW9ucygpLmhlaWdodCkmJm4odS5wYWdlWCxmLGkucHJvcG9ydGlvbnMoKS53aWR0aCk7Y2FzZSJ0b3VjaCI6cmV0dXJuKHM+PWUmJmE+PXN8fGM+PWUmJmE+PWN8fGU+cyYmYz5hKSYmKG8+PWYmJmw+PW98fGg+PWYmJmw+PWh8fGY+byYmaD5sKTtkZWZhdWx0OnJldHVybiExfX19KCk7bi51aS5kZG1hbmFnZXI9e2N1cnJlbnQ6bnVsbCxkcm9wcGFibGVzOnsiZGVmYXVsdCI6W119LHByZXBhcmVPZmZzZXRzOmZ1bmN0aW9uKHQsaSl7dmFyIHIsZix1PW4udWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdC5vcHRpb25zLnNjb3BlXXx8W10sbz1pP2kudHlwZTpudWxsLGU9KHQuY3VycmVudEl0ZW18fHQuZWxlbWVudCkuZmluZCgiOmRhdGEodWktZHJvcHBhYmxlKSIpLmFkZEJhY2soKTtuOmZvcihyPTA7dS5sZW5ndGg+cjtyKyspaWYoISh1W3JdLm9wdGlvbnMuZGlzYWJsZWR8fHQmJiF1W3JdLmFjY2VwdC5jYWxsKHVbcl0uZWxlbWVudFswXSx0LmN1cnJlbnRJdGVtfHx0LmVsZW1lbnQpKSl7Zm9yKGY9MDtlLmxlbmd0aD5mO2YrKylpZihlW2ZdPT09dVtyXS5lbGVtZW50WzBdKXt1W3JdLnByb3BvcnRpb25zKCkuaGVpZ2h0PTA7Y29udGludWUgbn11W3JdLnZpc2libGU9Im5vbmUiIT09dVtyXS5lbGVtZW50LmNzcygiZGlzcGxheSIpO3Vbcl0udmlzaWJsZSYmKCJtb3VzZWRvd24iPT09byYmdVtyXS5fYWN0aXZhdGUuY2FsbCh1W3JdLGkpLHVbcl0ub2Zmc2V0PXVbcl0uZWxlbWVudC5vZmZzZXQoKSx1W3JdLnByb3BvcnRpb25zKHt3aWR0aDp1W3JdLmVsZW1lbnRbMF0ub2Zmc2V0V2lkdGgsaGVpZ2h0OnVbcl0uZWxlbWVudFswXS5vZmZzZXRIZWlnaHR9KSl9fSxkcm9wOmZ1bmN0aW9uKHQsaSl7dmFyIHI9ITE7cmV0dXJuIG4uZWFjaCgobi51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1t0Lm9wdGlvbnMuc2NvcGVdfHxbXSkuc2xpY2UoKSxmdW5jdGlvbigpe3RoaXMub3B0aW9ucyYmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMudmlzaWJsZSYmZSh0LHRoaXMsdGhpcy5vcHRpb25zLnRvbGVyYW5jZSxpKSYmKHI9dGhpcy5fZHJvcC5jYWxsKHRoaXMsaSl8fHIpLCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMudmlzaWJsZSYmdGhpcy5hY2NlcHQuY2FsbCh0aGlzLmVsZW1lbnRbMF0sdC5jdXJyZW50SXRlbXx8dC5lbGVtZW50KSYmKHRoaXMuaXNvdXQ9ITAsdGhpcy5pc292ZXI9ITEsdGhpcy5fZGVhY3RpdmF0ZS5jYWxsKHRoaXMsaSkpKX0pLHJ9LGRyYWdTdGFydDpmdW5jdGlvbih0LGkpe3QuZWxlbWVudC5wYXJlbnRzVW50aWwoImJvZHkiKS5vbigic2Nyb2xsLmRyb3BwYWJsZSIsZnVuY3Rpb24oKXt0Lm9wdGlvbnMucmVmcmVzaFBvc2l0aW9uc3x8bi51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHModCxpKX0pfSxkcmFnOmZ1bmN0aW9uKHQsaSl7dC5vcHRpb25zLnJlZnJlc2hQb3NpdGlvbnMmJm4udWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKHQsaSk7bi5lYWNoKG4udWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdC5vcHRpb25zLnNjb3BlXXx8W10sZnVuY3Rpb24oKXtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkJiYhdGhpcy5ncmVlZHlDaGlsZCYmdGhpcy52aXNpYmxlKXt2YXIgcixvLGYscz1lKHQsdGhpcyx0aGlzLm9wdGlvbnMudG9sZXJhbmNlLGkpLHU9IXMmJnRoaXMuaXNvdmVyPyJpc291dCI6cyYmIXRoaXMuaXNvdmVyPyJpc292ZXIiOm51bGw7dSYmKHRoaXMub3B0aW9ucy5ncmVlZHkmJihvPXRoaXMub3B0aW9ucy5zY29wZSxmPXRoaXMuZWxlbWVudC5wYXJlbnRzKCI6ZGF0YSh1aS1kcm9wcGFibGUpIikuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcykuZHJvcHBhYmxlKCJpbnN0YW5jZSIpLm9wdGlvbnMuc2NvcGU9PT1vfSksZi5sZW5ndGgmJihyPW4oZlswXSkuZHJvcHBhYmxlKCJpbnN0YW5jZSIpLHIuZ3JlZWR5Q2hpbGQ9Imlzb3ZlciI9PT11KSksciYmImlzb3ZlciI9PT11JiYoci5pc292ZXI9ITEsci5pc291dD0hMCxyLl9vdXQuY2FsbChyLGkpKSx0aGlzW3VdPSEwLHRoaXNbImlzb3V0Ij09PXU/Imlzb3ZlciI6Imlzb3V0Il09ITEsdGhpc1siaXNvdmVyIj09PXU/Il9vdmVyIjoiX291dCJdLmNhbGwodGhpcyxpKSxyJiYiaXNvdXQiPT09dSYmKHIuaXNvdXQ9ITEsci5pc292ZXI9ITAsci5fb3Zlci5jYWxsKHIsaSkpKX19KX0sZHJhZ1N0b3A6ZnVuY3Rpb24odCxpKXt0LmVsZW1lbnQucGFyZW50c1VudGlsKCJib2R5Iikub2ZmKCJzY3JvbGwuZHJvcHBhYmxlIik7dC5vcHRpb25zLnJlZnJlc2hQb3NpdGlvbnN8fG4udWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKHQsaSl9fTtuLnVpQmFja0NvbXBhdCE9PSExJiZuLndpZGdldCgidWkuZHJvcHBhYmxlIixuLnVpLmRyb3BwYWJsZSx7b3B0aW9uczp7aG92ZXJDbGFzczohMSxhY3RpdmVDbGFzczohMX0sX2FkZEFjdGl2ZUNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKTt0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MpfSxfcmVtb3ZlQWN0aXZlQ2xhc3M6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpO3RoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyl9LF9hZGRIb3ZlckNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKTt0aGlzLm9wdGlvbnMuaG92ZXJDbGFzcyYmdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5ob3ZlckNsYXNzKX0sX3JlbW92ZUhvdmVyQ2xhc3M6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpO3RoaXMub3B0aW9ucy5ob3ZlckNsYXNzJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MpfX0pO24udWkuZHJvcHBhYmxlO24ud2lkZ2V0KCJ1aS5wcm9ncmVzc2JhciIse3ZlcnNpb246IjEuMTIuMSIsb3B0aW9uczp7Y2xhc3Nlczp7InVpLXByb2dyZXNzYmFyIjoidWktY29ybmVyLWFsbCIsInVpLXByb2dyZXNzYmFyLXZhbHVlIjoidWktY29ybmVyLWxlZnQiLCJ1aS1wcm9ncmVzc2Jhci1jb21wbGV0ZSI6InVpLWNvcm5lci1yaWdodCJ9LG1heDoxMDAsdmFsdWU6MCxjaGFuZ2U6bnVsbCxjb21wbGV0ZTpudWxsfSxtaW46MCxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5vbGRWYWx1ZT10aGlzLm9wdGlvbnMudmFsdWU9dGhpcy5fY29uc3RyYWluZWRWYWx1ZSgpO3RoaXMuZWxlbWVudC5hdHRyKHtyb2xlOiJwcm9ncmVzc2JhciIsImFyaWEtdmFsdWVtaW4iOnRoaXMubWlufSk7dGhpcy5fYWRkQ2xhc3MoInVpLXByb2dyZXNzYmFyIiwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50Iik7dGhpcy52YWx1ZURpdj1uKCI8ZGl2PiIpLmFwcGVuZFRvKHRoaXMuZWxlbWVudCk7dGhpcy5fYWRkQ2xhc3ModGhpcy52YWx1ZURpdiwidWktcHJvZ3Jlc3NiYXItdmFsdWUiLCJ1aS13aWRnZXQtaGVhZGVyIik7dGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoInJvbGUgYXJpYS12YWx1ZW1pbiBhcmlhLXZhbHVlbWF4IGFyaWEtdmFsdWVub3ciKTt0aGlzLnZhbHVlRGl2LnJlbW92ZSgpfSx2YWx1ZTpmdW5jdGlvbihuKXtyZXR1cm4gdm9pZCAwPT09bj90aGlzLm9wdGlvbnMudmFsdWU6KHRoaXMub3B0aW9ucy52YWx1ZT10aGlzLl9jb25zdHJhaW5lZFZhbHVlKG4pLHRoaXMuX3JlZnJlc2hWYWx1ZSgpLHZvaWQgMCl9LF9jb25zdHJhaW5lZFZhbHVlOmZ1bmN0aW9uKG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj10aGlzLm9wdGlvbnMudmFsdWUpLHRoaXMuaW5kZXRlcm1pbmF0ZT1uPT09ITEsIm51bWJlciIhPXR5cGVvZiBuJiYobj0wKSx0aGlzLmluZGV0ZXJtaW5hdGU/ITE6TWF0aC5taW4odGhpcy5vcHRpb25zLm1heCxNYXRoLm1heCh0aGlzLm1pbixuKSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKG4pe3ZhciB0PW4udmFsdWU7ZGVsZXRlIG4udmFsdWU7dGhpcy5fc3VwZXIobik7dGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX2NvbnN0cmFpbmVkVmFsdWUodCk7dGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXsibWF4Ij09PW4mJih0PU1hdGgubWF4KHRoaXMubWluLHQpKTt0aGlzLl9zdXBlcihuLHQpfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24obil7dGhpcy5fc3VwZXIobik7dGhpcy5lbGVtZW50LmF0dHIoImFyaWEtZGlzYWJsZWQiLG4pO3RoaXMuX3RvZ2dsZUNsYXNzKG51bGwsInVpLXN0YXRlLWRpc2FibGVkIiwhIW4pfSxfcGVyY2VudGFnZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGV0ZXJtaW5hdGU/MTAwOjEwMCoodGhpcy5vcHRpb25zLnZhbHVlLXRoaXMubWluKS8odGhpcy5vcHRpb25zLm1heC10aGlzLm1pbil9LF9yZWZyZXNoVmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMudmFsdWUsaT10aGlzLl9wZXJjZW50YWdlKCk7dGhpcy52YWx1ZURpdi50b2dnbGUodGhpcy5pbmRldGVybWluYXRlfHx0PnRoaXMubWluKS53aWR0aChpLnRvRml4ZWQoMCkrIiUiKTt0aGlzLl90b2dnbGVDbGFzcyh0aGlzLnZhbHVlRGl2LCJ1aS1wcm9ncmVzc2Jhci1jb21wbGV0ZSIsbnVsbCx0PT09dGhpcy5vcHRpb25zLm1heCkuX3RvZ2dsZUNsYXNzKCJ1aS1wcm9ncmVzc2Jhci1pbmRldGVybWluYXRlIixudWxsLHRoaXMuaW5kZXRlcm1pbmF0ZSk7dGhpcy5pbmRldGVybWluYXRlPyh0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cigiYXJpYS12YWx1ZW5vdyIpLHRoaXMub3ZlcmxheURpdnx8KHRoaXMub3ZlcmxheURpdj1uKCI8ZGl2PiIpLmFwcGVuZFRvKHRoaXMudmFsdWVEaXYpLHRoaXMuX2FkZENsYXNzKHRoaXMub3ZlcmxheURpdiwidWktcHJvZ3Jlc3NiYXItb3ZlcmxheSIpKSk6KHRoaXMuZWxlbWVudC5hdHRyKHsiYXJpYS12YWx1ZW1heCI6dGhpcy5vcHRpb25zLm1heCwiYXJpYS12YWx1ZW5vdyI6dH0pLHRoaXMub3ZlcmxheURpdiYmKHRoaXMub3ZlcmxheURpdi5yZW1vdmUoKSx0aGlzLm92ZXJsYXlEaXY9bnVsbCkpO3RoaXMub2xkVmFsdWUhPT10JiYodGhpcy5vbGRWYWx1ZT10LHRoaXMuX3RyaWdnZXIoImNoYW5nZSIpKTt0PT09dGhpcy5vcHRpb25zLm1heCYmdGhpcy5fdHJpZ2dlcigiY29tcGxldGUiKX19KTtuLndpZGdldCgidWkuc2VsZWN0YWJsZSIsbi51aS5tb3VzZSx7dmVyc2lvbjoiMS4xMi4xIixvcHRpb25zOnthcHBlbmRUbzoiYm9keSIsYXV0b1JlZnJlc2g6ITAsZGlzdGFuY2U6MCxmaWx0ZXI6IioiLHRvbGVyYW5jZToidG91Y2giLHNlbGVjdGVkOm51bGwsc2VsZWN0aW5nOm51bGwsc3RhcnQ6bnVsbCxzdG9wOm51bGwsdW5zZWxlY3RlZDpudWxsLHVuc2VsZWN0aW5nOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX2FkZENsYXNzKCJ1aS1zZWxlY3RhYmxlIik7dGhpcy5kcmFnZ2VkPSExO3RoaXMucmVmcmVzaD1mdW5jdGlvbigpe3QuZWxlbWVudFBvcz1uKHQuZWxlbWVudFswXSkub2Zmc2V0KCk7dC5zZWxlY3RlZXM9bih0Lm9wdGlvbnMuZmlsdGVyLHQuZWxlbWVudFswXSk7dC5fYWRkQ2xhc3ModC5zZWxlY3RlZXMsInVpLXNlbGVjdGVlIik7dC5zZWxlY3RlZXMuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcyksdT1pLm9mZnNldCgpLHI9e2xlZnQ6dS5sZWZ0LXQuZWxlbWVudFBvcy5sZWZ0LHRvcDp1LnRvcC10LmVsZW1lbnRQb3MudG9wfTtuLmRhdGEodGhpcywic2VsZWN0YWJsZS1pdGVtIix7ZWxlbWVudDp0aGlzLCRlbGVtZW50OmksbGVmdDpyLmxlZnQsdG9wOnIudG9wLHJpZ2h0OnIubGVmdCtpLm91dGVyV2lkdGgoKSxib3R0b206ci50b3AraS5vdXRlckhlaWdodCgpLHN0YXJ0c2VsZWN0ZWQ6ITEsc2VsZWN0ZWQ6aS5oYXNDbGFzcygidWktc2VsZWN0ZWQiKSxzZWxlY3Rpbmc6aS5oYXNDbGFzcygidWktc2VsZWN0aW5nIiksdW5zZWxlY3Rpbmc6aS5oYXNDbGFzcygidWktdW5zZWxlY3RpbmciKX0pfSl9O3RoaXMucmVmcmVzaCgpO3RoaXMuX21vdXNlSW5pdCgpO3RoaXMuaGVscGVyPW4oIjxkaXY+Iik7dGhpcy5fYWRkQ2xhc3ModGhpcy5oZWxwZXIsInVpLXNlbGVjdGFibGUtaGVscGVyIil9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZXMucmVtb3ZlRGF0YSgic2VsZWN0YWJsZS1pdGVtIik7dGhpcy5fbW91c2VEZXN0cm95KCl9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMscj10aGlzLm9wdGlvbnM7dGhpcy5vcG9zPVt0LnBhZ2VYLHQucGFnZVldO3RoaXMuZWxlbWVudFBvcz1uKHRoaXMuZWxlbWVudFswXSkub2Zmc2V0KCk7dGhpcy5vcHRpb25zLmRpc2FibGVkfHwodGhpcy5zZWxlY3RlZXM9bihyLmZpbHRlcix0aGlzLmVsZW1lbnRbMF0pLHRoaXMuX3RyaWdnZXIoInN0YXJ0Iix0KSxuKHIuYXBwZW5kVG8pLmFwcGVuZCh0aGlzLmhlbHBlciksdGhpcy5oZWxwZXIuY3NzKHtsZWZ0OnQucGFnZVgsdG9wOnQucGFnZVksd2lkdGg6MCxoZWlnaHQ6MH0pLHIuYXV0b1JlZnJlc2gmJnRoaXMucmVmcmVzaCgpLHRoaXMuc2VsZWN0ZWVzLmZpbHRlcigiLnVpLXNlbGVjdGVkIikuZWFjaChmdW5jdGlvbigpe3ZhciByPW4uZGF0YSh0aGlzLCJzZWxlY3RhYmxlLWl0ZW0iKTtyLnN0YXJ0c2VsZWN0ZWQ9ITA7dC5tZXRhS2V5fHx0LmN0cmxLZXl8fChpLl9yZW1vdmVDbGFzcyhyLiRlbGVtZW50LCJ1aS1zZWxlY3RlZCIpLHIuc2VsZWN0ZWQ9ITEsaS5fYWRkQ2xhc3Moci4kZWxlbWVudCwidWktdW5zZWxlY3RpbmciKSxyLnVuc2VsZWN0aW5nPSEwLGkuX3RyaWdnZXIoInVuc2VsZWN0aW5nIix0LHt1bnNlbGVjdGluZzpyLmVsZW1lbnR9KSl9KSxuKHQudGFyZ2V0KS5wYXJlbnRzKCkuYWRkQmFjaygpLmVhY2goZnVuY3Rpb24oKXt2YXIgdSxyPW4uZGF0YSh0aGlzLCJzZWxlY3RhYmxlLWl0ZW0iKTtpZihyKXJldHVybih1PSF0Lm1ldGFLZXkmJiF0LmN0cmxLZXl8fCFyLiRlbGVtZW50Lmhhc0NsYXNzKCJ1aS1zZWxlY3RlZCIpLGkuX3JlbW92ZUNsYXNzKHIuJGVsZW1lbnQsdT8idWktdW5zZWxlY3RpbmciOiJ1aS1zZWxlY3RlZCIpLl9hZGRDbGFzcyhyLiRlbGVtZW50LHU/InVpLXNlbGVjdGluZyI6InVpLXVuc2VsZWN0aW5nIiksci51bnNlbGVjdGluZz0hdSxyLnNlbGVjdGluZz11LHIuc2VsZWN0ZWQ9dSx1P2kuX3RyaWdnZXIoInNlbGVjdGluZyIsdCx7c2VsZWN0aW5nOnIuZWxlbWVudH0pOmkuX3RyaWdnZXIoInVuc2VsZWN0aW5nIix0LHt1bnNlbGVjdGluZzpyLmVsZW1lbnR9KSwhMSl9KSl9LF9tb3VzZURyYWc6ZnVuY3Rpb24odCl7aWYodGhpcy5kcmFnZ2VkPSEwLCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQpe3ZhciBvLGk9dGhpcyxzPXRoaXMub3B0aW9ucyxyPXRoaXMub3Bvc1swXSx1PXRoaXMub3Bvc1sxXSxmPXQucGFnZVgsZT10LnBhZ2VZO3JldHVybiByPmYmJihvPWYsZj1yLHI9byksdT5lJiYobz1lLGU9dSx1PW8pLHRoaXMuaGVscGVyLmNzcyh7bGVmdDpyLHRvcDp1LHdpZHRoOmYtcixoZWlnaHQ6ZS11fSksdGhpcy5zZWxlY3RlZXMuZWFjaChmdW5jdGlvbigpe3ZhciBvPW4uZGF0YSh0aGlzLCJzZWxlY3RhYmxlLWl0ZW0iKSxjPSExLGg9e307byYmby5lbGVtZW50IT09aS5lbGVtZW50WzBdJiYoaC5sZWZ0PW8ubGVmdCtpLmVsZW1lbnRQb3MubGVmdCxoLnJpZ2h0PW8ucmlnaHQraS5lbGVtZW50UG9zLmxlZnQsaC50b3A9by50b3AraS5lbGVtZW50UG9zLnRvcCxoLmJvdHRvbT1vLmJvdHRvbStpLmVsZW1lbnRQb3MudG9wLCJ0b3VjaCI9PT1zLnRvbGVyYW5jZT9jPSEoaC5sZWZ0PmZ8fHI+aC5yaWdodHx8aC50b3A+ZXx8dT5oLmJvdHRvbSk6ImZpdCI9PT1zLnRvbGVyYW5jZSYmKGM9aC5sZWZ0PnImJmY+aC5yaWdodCYmaC50b3A+dSYmZT5oLmJvdHRvbSksYz8oby5zZWxlY3RlZCYmKGkuX3JlbW92ZUNsYXNzKG8uJGVsZW1lbnQsInVpLXNlbGVjdGVkIiksby5zZWxlY3RlZD0hMSksby51bnNlbGVjdGluZyYmKGkuX3JlbW92ZUNsYXNzKG8uJGVsZW1lbnQsInVpLXVuc2VsZWN0aW5nIiksby51bnNlbGVjdGluZz0hMSksby5zZWxlY3Rpbmd8fChpLl9hZGRDbGFzcyhvLiRlbGVtZW50LCJ1aS1zZWxlY3RpbmciKSxvLnNlbGVjdGluZz0hMCxpLl90cmlnZ2VyKCJzZWxlY3RpbmciLHQse3NlbGVjdGluZzpvLmVsZW1lbnR9KSkpOihvLnNlbGVjdGluZyYmKCh0Lm1ldGFLZXl8fHQuY3RybEtleSkmJm8uc3RhcnRzZWxlY3RlZD8oaS5fcmVtb3ZlQ2xhc3Moby4kZWxlbWVudCwidWktc2VsZWN0aW5nIiksby5zZWxlY3Rpbmc9ITEsaS5fYWRkQ2xhc3Moby4kZWxlbWVudCwidWktc2VsZWN0ZWQiKSxvLnNlbGVjdGVkPSEwKTooaS5fcmVtb3ZlQ2xhc3Moby4kZWxlbWVudCwidWktc2VsZWN0aW5nIiksby5zZWxlY3Rpbmc9ITEsby5zdGFydHNlbGVjdGVkJiYoaS5fYWRkQ2xhc3Moby4kZWxlbWVudCwidWktdW5zZWxlY3RpbmciKSxvLnVuc2VsZWN0aW5nPSEwKSxpLl90cmlnZ2VyKCJ1bnNlbGVjdGluZyIsdCx7dW5zZWxlY3Rpbmc6by5lbGVtZW50fSkpKSxvLnNlbGVjdGVkJiYodC5tZXRhS2V5fHx0LmN0cmxLZXl8fG8uc3RhcnRzZWxlY3RlZHx8KGkuX3JlbW92ZUNsYXNzKG8uJGVsZW1lbnQsInVpLXNlbGVjdGVkIiksby5zZWxlY3RlZD0hMSxpLl9hZGRDbGFzcyhvLiRlbGVtZW50LCJ1aS11bnNlbGVjdGluZyIpLG8udW5zZWxlY3Rpbmc9ITAsaS5fdHJpZ2dlcigidW5zZWxlY3RpbmciLHQse3Vuc2VsZWN0aW5nOm8uZWxlbWVudH0pKSkpKX0pLCExfX0sX21vdXNlU3RvcDpmdW5jdGlvbih0KXt2YXIgaT10aGlzO3JldHVybiB0aGlzLmRyYWdnZWQ9ITEsbigiLnVpLXVuc2VsZWN0aW5nIix0aGlzLmVsZW1lbnRbMF0pLmVhY2goZnVuY3Rpb24oKXt2YXIgcj1uLmRhdGEodGhpcywic2VsZWN0YWJsZS1pdGVtIik7aS5fcmVtb3ZlQ2xhc3Moci4kZWxlbWVudCwidWktdW5zZWxlY3RpbmciKTtyLnVuc2VsZWN0aW5nPSExO3Iuc3RhcnRzZWxlY3RlZD0hMTtpLl90cmlnZ2VyKCJ1bnNlbGVjdGVkIix0LHt1bnNlbGVjdGVkOnIuZWxlbWVudH0pfSksbigiLnVpLXNlbGVjdGluZyIsdGhpcy5lbGVtZW50WzBdKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHI9bi5kYXRhKHRoaXMsInNlbGVjdGFibGUtaXRlbSIpO2kuX3JlbW92ZUNsYXNzKHIuJGVsZW1lbnQsInVpLXNlbGVjdGluZyIpLl9hZGRDbGFzcyhyLiRlbGVtZW50LCJ1aS1zZWxlY3RlZCIpO3Iuc2VsZWN0aW5nPSExO3Iuc2VsZWN0ZWQ9ITA7ci5zdGFydHNlbGVjdGVkPSEwO2kuX3RyaWdnZXIoInNlbGVjdGVkIix0LHtzZWxlY3RlZDpyLmVsZW1lbnR9KX0pLHRoaXMuX3RyaWdnZXIoInN0b3AiLHQpLHRoaXMuaGVscGVyLnJlbW92ZSgpLCExfX0pO24ud2lkZ2V0KCJ1aS5zZWxlY3RtZW51Iixbbi51aS5mb3JtUmVzZXRNaXhpbix7dmVyc2lvbjoiMS4xMi4xIixkZWZhdWx0RWxlbWVudDoiPHNlbGVjdD4iLG9wdGlvbnM6e2FwcGVuZFRvOm51bGwsY2xhc3Nlczp7InVpLXNlbGVjdG1lbnUtYnV0dG9uLW9wZW4iOiJ1aS1jb3JuZXItdG9wIiwidWktc2VsZWN0bWVudS1idXR0b24tY2xvc2VkIjoidWktY29ybmVyLWFsbCJ9LGRpc2FibGVkOm51bGwsaWNvbnM6e2J1dHRvbjoidWktaWNvbi10cmlhbmdsZS0xLXMifSxwb3NpdGlvbjp7bXk6ImxlZnQgdG9wIixhdDoibGVmdCBib3R0b20iLGNvbGxpc2lvbjoibm9uZSJ9LHdpZHRoOiExLGNoYW5nZTpudWxsLGNsb3NlOm51bGwsZm9jdXM6bnVsbCxvcGVuOm51bGwsc2VsZWN0Om51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQudW5pcXVlSWQoKS5hdHRyKCJpZCIpO3RoaXMuaWRzPXtlbGVtZW50OnQsYnV0dG9uOnQrIi1idXR0b24iLG1lbnU6dCsiLW1lbnUifTt0aGlzLl9kcmF3QnV0dG9uKCk7dGhpcy5fZHJhd01lbnUoKTt0aGlzLl9iaW5kRm9ybVJlc2V0SGFuZGxlcigpO3RoaXMuX3JlbmRlcmVkPSExO3RoaXMubWVudUl0ZW1zPW4oKX0sX2RyYXdCdXR0b246ZnVuY3Rpb24oKXt2YXIgdCxpPXRoaXMscj10aGlzLl9wYXJzZU9wdGlvbih0aGlzLmVsZW1lbnQuZmluZCgib3B0aW9uOnNlbGVjdGVkIiksdGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgpO3RoaXMubGFiZWxzPXRoaXMuZWxlbWVudC5sYWJlbHMoKS5hdHRyKCJmb3IiLHRoaXMuaWRzLmJ1dHRvbik7dGhpcy5fb24odGhpcy5sYWJlbHMse2NsaWNrOmZ1bmN0aW9uKG4pe3RoaXMuYnV0dG9uLmZvY3VzKCk7bi5wcmV2ZW50RGVmYXVsdCgpfX0pO3RoaXMuZWxlbWVudC5oaWRlKCk7dGhpcy5idXR0b249bigiPHNwYW4+Iix7dGFiaW5kZXg6dGhpcy5vcHRpb25zLmRpc2FibGVkPy0xOjAsaWQ6dGhpcy5pZHMuYnV0dG9uLHJvbGU6ImNvbWJvYm94IiwiYXJpYS1leHBhbmRlZCI6ImZhbHNlIiwiYXJpYS1hdXRvY29tcGxldGUiOiJsaXN0IiwiYXJpYS1vd25zIjp0aGlzLmlkcy5tZW51LCJhcmlhLWhhc3BvcHVwIjoidHJ1ZSIsdGl0bGU6dGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIil9KS5pbnNlcnRBZnRlcih0aGlzLmVsZW1lbnQpO3RoaXMuX2FkZENsYXNzKHRoaXMuYnV0dG9uLCJ1aS1zZWxlY3RtZW51LWJ1dHRvbiB1aS1zZWxlY3RtZW51LWJ1dHRvbi1jbG9zZWQiLCJ1aS1idXR0b24gdWktd2lkZ2V0Iik7dD1uKCI8c3Bhbj4iKS5hcHBlbmRUbyh0aGlzLmJ1dHRvbik7dGhpcy5fYWRkQ2xhc3ModCwidWktc2VsZWN0bWVudS1pY29uIiwidWktaWNvbiAiK3RoaXMub3B0aW9ucy5pY29ucy5idXR0b24pO3RoaXMuYnV0dG9uSXRlbT10aGlzLl9yZW5kZXJCdXR0b25JdGVtKHIpLmFwcGVuZFRvKHRoaXMuYnV0dG9uKTt0aGlzLm9wdGlvbnMud2lkdGghPT0hMSYmdGhpcy5fcmVzaXplQnV0dG9uKCk7dGhpcy5fb24odGhpcy5idXR0b24sdGhpcy5fYnV0dG9uRXZlbnRzKTt0aGlzLmJ1dHRvbi5vbmUoImZvY3VzaW4iLGZ1bmN0aW9uKCl7aS5fcmVuZGVyZWR8fGkuX3JlZnJlc2hNZW51KCl9KX0sX2RyYXdNZW51OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLm1lbnU9bigiPHVsPiIseyJhcmlhLWhpZGRlbiI6InRydWUiLCJhcmlhLWxhYmVsbGVkYnkiOnRoaXMuaWRzLmJ1dHRvbixpZDp0aGlzLmlkcy5tZW51fSk7dGhpcy5tZW51V3JhcD1uKCI8ZGl2PiIpLmFwcGVuZCh0aGlzLm1lbnUpO3RoaXMuX2FkZENsYXNzKHRoaXMubWVudVdyYXAsInVpLXNlbGVjdG1lbnUtbWVudSIsInVpLWZyb250Iik7dGhpcy5tZW51V3JhcC5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKTt0aGlzLm1lbnVJbnN0YW5jZT10aGlzLm1lbnUubWVudSh7Y2xhc3Nlczp7InVpLW1lbnUiOiJ1aS1jb3JuZXItYm90dG9tIn0scm9sZToibGlzdGJveCIsc2VsZWN0OmZ1bmN0aW9uKG4saSl7bi5wcmV2ZW50RGVmYXVsdCgpO3QuX3NldFNlbGVjdGlvbigpO3QuX3NlbGVjdChpLml0ZW0uZGF0YSgidWktc2VsZWN0bWVudS1pdGVtIiksbil9LGZvY3VzOmZ1bmN0aW9uKG4saSl7dmFyIHI9aS5pdGVtLmRhdGEoInVpLXNlbGVjdG1lbnUtaXRlbSIpO251bGwhPXQuZm9jdXNJbmRleCYmci5pbmRleCE9PXQuZm9jdXNJbmRleCYmKHQuX3RyaWdnZXIoImZvY3VzIixuLHtpdGVtOnJ9KSx0LmlzT3Blbnx8dC5fc2VsZWN0KHIsbikpO3QuZm9jdXNJbmRleD1yLmluZGV4O3QuYnV0dG9uLmF0dHIoImFyaWEtYWN0aXZlZGVzY2VuZGFudCIsdC5tZW51SXRlbXMuZXEoci5pbmRleCkuYXR0cigiaWQiKSl9fSkubWVudSgiaW5zdGFuY2UiKTt0aGlzLm1lbnVJbnN0YW5jZS5fb2ZmKHRoaXMubWVudSwibW91c2VsZWF2ZSIpO3RoaXMubWVudUluc3RhbmNlLl9jbG9zZU9uRG9jdW1lbnRDbGljaz1mdW5jdGlvbigpe3JldHVybiExfTt0aGlzLm1lbnVJbnN0YW5jZS5faXNEaXZpZGVyPWZ1bmN0aW9uKCl7cmV0dXJuITF9fSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fcmVmcmVzaE1lbnUoKTt0aGlzLmJ1dHRvbkl0ZW0ucmVwbGFjZVdpdGgodGhpcy5idXR0b25JdGVtPXRoaXMuX3JlbmRlckJ1dHRvbkl0ZW0odGhpcy5fZ2V0U2VsZWN0ZWRJdGVtKCkuZGF0YSgidWktc2VsZWN0bWVudS1pdGVtIil8fHt9KSk7bnVsbD09PXRoaXMub3B0aW9ucy53aWR0aCYmdGhpcy5fcmVzaXplQnV0dG9uKCl9LF9yZWZyZXNoTWVudTpmdW5jdGlvbigpe3ZhciBuLHQ9dGhpcy5lbGVtZW50LmZpbmQoIm9wdGlvbiIpO3RoaXMubWVudS5lbXB0eSgpO3RoaXMuX3BhcnNlT3B0aW9ucyh0KTt0aGlzLl9yZW5kZXJNZW51KHRoaXMubWVudSx0aGlzLml0ZW1zKTt0aGlzLm1lbnVJbnN0YW5jZS5yZWZyZXNoKCk7dGhpcy5tZW51SXRlbXM9dGhpcy5tZW51LmZpbmQoImxpIikubm90KCIudWktc2VsZWN0bWVudS1vcHRncm91cCIpLmZpbmQoIi51aS1tZW51LWl0ZW0td3JhcHBlciIpO3RoaXMuX3JlbmRlcmVkPSEwO3QubGVuZ3RoJiYobj10aGlzLl9nZXRTZWxlY3RlZEl0ZW0oKSx0aGlzLm1lbnVJbnN0YW5jZS5mb2N1cyhudWxsLG4pLHRoaXMuX3NldEFyaWEobi5kYXRhKCJ1aS1zZWxlY3RtZW51LWl0ZW0iKSksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsdGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIikpKX0sb3BlbjpmdW5jdGlvbihuKXt0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fCh0aGlzLl9yZW5kZXJlZD8odGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5tZW51LmZpbmQoIi51aS1zdGF0ZS1hY3RpdmUiKSxudWxsLCJ1aS1zdGF0ZS1hY3RpdmUiKSx0aGlzLm1lbnVJbnN0YW5jZS5mb2N1cyhudWxsLHRoaXMuX2dldFNlbGVjdGVkSXRlbSgpKSk6dGhpcy5fcmVmcmVzaE1lbnUoKSx0aGlzLm1lbnVJdGVtcy5sZW5ndGgmJih0aGlzLmlzT3Blbj0hMCx0aGlzLl90b2dnbGVBdHRyKCksdGhpcy5fcmVzaXplTWVudSgpLHRoaXMuX3Bvc2l0aW9uKCksdGhpcy5fb24odGhpcy5kb2N1bWVudCx0aGlzLl9kb2N1bWVudENsaWNrKSx0aGlzLl90cmlnZ2VyKCJvcGVuIixuKSkpfSxfcG9zaXRpb246ZnVuY3Rpb24oKXt0aGlzLm1lbnVXcmFwLnBvc2l0aW9uKG4uZXh0ZW5kKHsib2YiOnRoaXMuYnV0dG9ufSx0aGlzLm9wdGlvbnMucG9zaXRpb24pKX0sY2xvc2U6ZnVuY3Rpb24obil7dGhpcy5pc09wZW4mJih0aGlzLmlzT3Blbj0hMSx0aGlzLl90b2dnbGVBdHRyKCksdGhpcy5yYW5nZT1udWxsLHRoaXMuX29mZih0aGlzLmRvY3VtZW50KSx0aGlzLl90cmlnZ2VyKCJjbG9zZSIsbikpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idXR0b259LG1lbnVXaWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZW51fSxfcmVuZGVyQnV0dG9uSXRlbTpmdW5jdGlvbih0KXt2YXIgaT1uKCI8c3Bhbj4iKTtyZXR1cm4gdGhpcy5fc2V0VGV4dChpLHQubGFiZWwpLHRoaXMuX2FkZENsYXNzKGksInVpLXNlbGVjdG1lbnUtdGV4dCIpLGl9LF9yZW5kZXJNZW51OmZ1bmN0aW9uKHQsaSl7dmFyIHI9dGhpcyx1PSIiO24uZWFjaChpLGZ1bmN0aW9uKGksZil7dmFyIGU7Zi5vcHRncm91cCE9PXUmJihlPW4oIjxsaT4iLHt0ZXh0OmYub3B0Z3JvdXB9KSxyLl9hZGRDbGFzcyhlLCJ1aS1zZWxlY3RtZW51LW9wdGdyb3VwIiwidWktbWVudS1kaXZpZGVyIisoZi5lbGVtZW50LnBhcmVudCgib3B0Z3JvdXAiKS5wcm9wKCJkaXNhYmxlZCIpPyIgdWktc3RhdGUtZGlzYWJsZWQiOiIiKSksZS5hcHBlbmRUbyh0KSx1PWYub3B0Z3JvdXApO3IuX3JlbmRlckl0ZW1EYXRhKHQsZil9KX0sX3JlbmRlckl0ZW1EYXRhOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMuX3JlbmRlckl0ZW0obix0KS5kYXRhKCJ1aS1zZWxlY3RtZW51LWl0ZW0iLHQpfSxfcmVuZGVySXRlbTpmdW5jdGlvbih0LGkpe3ZhciByPW4oIjxsaT4iKSx1PW4oIjxkaXY+Iix7dGl0bGU6aS5lbGVtZW50LmF0dHIoInRpdGxlIil9KTtyZXR1cm4gaS5kaXNhYmxlZCYmdGhpcy5fYWRkQ2xhc3MocixudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIpLHRoaXMuX3NldFRleHQodSxpLmxhYmVsKSxyLmFwcGVuZCh1KS5hcHBlbmRUbyh0KX0sX3NldFRleHQ6ZnVuY3Rpb24obix0KXt0P24udGV4dCh0KTpuLmh0bWwoIiYjMTYwOyIpfSxfbW92ZTpmdW5jdGlvbihuLHQpe3ZhciBpLHIsdT0iLnVpLW1lbnUtaXRlbSI7dGhpcy5pc09wZW4/aT10aGlzLm1lbnVJdGVtcy5lcSh0aGlzLmZvY3VzSW5kZXgpLnBhcmVudCgibGkiKTooaT10aGlzLm1lbnVJdGVtcy5lcSh0aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleCkucGFyZW50KCJsaSIpLHUrPSI6bm90KC51aS1zdGF0ZS1kaXNhYmxlZCkiKTtyPSJmaXJzdCI9PT1ufHwibGFzdCI9PT1uP2lbImZpcnN0Ij09PW4/InByZXZBbGwiOiJuZXh0QWxsIl0odSkuZXEoLTEpOmlbbisiQWxsIl0odSkuZXEoMCk7ci5sZW5ndGgmJnRoaXMubWVudUluc3RhbmNlLmZvY3VzKHQscil9LF9nZXRTZWxlY3RlZEl0ZW06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZW51SXRlbXMuZXEodGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgpLnBhcmVudCgibGkiKX0sX3RvZ2dsZTpmdW5jdGlvbihuKXt0aGlzW3RoaXMuaXNPcGVuPyJjbG9zZSI6Im9wZW4iXShuKX0sX3NldFNlbGVjdGlvbjpmdW5jdGlvbigpe3ZhciBuO3RoaXMucmFuZ2UmJih3aW5kb3cuZ2V0U2VsZWN0aW9uPyhuPXdpbmRvdy5nZXRTZWxlY3Rpb24oKSxuLnJlbW92ZUFsbFJhbmdlcygpLG4uYWRkUmFuZ2UodGhpcy5yYW5nZSkpOnRoaXMucmFuZ2Uuc2VsZWN0KCksdGhpcy5idXR0b24uZm9jdXMoKSl9LF9kb2N1bWVudENsaWNrOnttb3VzZWRvd246ZnVuY3Rpb24odCl7dGhpcy5pc09wZW4mJihuKHQudGFyZ2V0KS5jbG9zZXN0KCIudWktc2VsZWN0bWVudS1tZW51LCAjIituLnVpLmVzY2FwZVNlbGVjdG9yKHRoaXMuaWRzLmJ1dHRvbikpLmxlbmd0aHx8dGhpcy5jbG9zZSh0KSl9fSxfYnV0dG9uRXZlbnRzOnttb3VzZWRvd246ZnVuY3Rpb24oKXt2YXIgbjt3aW5kb3cuZ2V0U2VsZWN0aW9uPyhuPXdpbmRvdy5nZXRTZWxlY3Rpb24oKSxuLnJhbmdlQ291bnQmJih0aGlzLnJhbmdlPW4uZ2V0UmFuZ2VBdCgwKSkpOnRoaXMucmFuZ2U9ZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCl9LGNsaWNrOmZ1bmN0aW9uKG4pe3RoaXMuX3NldFNlbGVjdGlvbigpO3RoaXMuX3RvZ2dsZShuKX0sa2V5ZG93bjpmdW5jdGlvbih0KXt2YXIgaT0hMDtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIG4udWkua2V5Q29kZS5UQUI6Y2FzZSBuLnVpLmtleUNvZGUuRVNDQVBFOnRoaXMuY2xvc2UodCk7aT0hMTticmVhaztjYXNlIG4udWkua2V5Q29kZS5FTlRFUjp0aGlzLmlzT3BlbiYmdGhpcy5fc2VsZWN0Rm9jdXNlZEl0ZW0odCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuVVA6dC5hbHRLZXk/dGhpcy5fdG9nZ2xlKHQpOnRoaXMuX21vdmUoInByZXYiLHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkRPV046dC5hbHRLZXk/dGhpcy5fdG9nZ2xlKHQpOnRoaXMuX21vdmUoIm5leHQiLHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLlNQQUNFOnRoaXMuaXNPcGVuP3RoaXMuX3NlbGVjdEZvY3VzZWRJdGVtKHQpOnRoaXMuX3RvZ2dsZSh0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5MRUZUOnRoaXMuX21vdmUoInByZXYiLHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLlJJR0hUOnRoaXMuX21vdmUoIm5leHQiLHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkhPTUU6Y2FzZSBuLnVpLmtleUNvZGUuUEFHRV9VUDp0aGlzLl9tb3ZlKCJmaXJzdCIsdCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuRU5EOmNhc2Ugbi51aS5rZXlDb2RlLlBBR0VfRE9XTjp0aGlzLl9tb3ZlKCJsYXN0Iix0KTticmVhaztkZWZhdWx0OnRoaXMubWVudS50cmlnZ2VyKHQpO2k9ITF9aSYmdC5wcmV2ZW50RGVmYXVsdCgpfX0sX3NlbGVjdEZvY3VzZWRJdGVtOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMubWVudUl0ZW1zLmVxKHRoaXMuZm9jdXNJbmRleCkucGFyZW50KCJsaSIpO3QuaGFzQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIil8fHRoaXMuX3NlbGVjdCh0LmRhdGEoInVpLXNlbGVjdG1lbnUtaXRlbSIpLG4pfSxfc2VsZWN0OmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXg7dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXg9bi5pbmRleDt0aGlzLmJ1dHRvbkl0ZW0ucmVwbGFjZVdpdGgodGhpcy5idXR0b25JdGVtPXRoaXMuX3JlbmRlckJ1dHRvbkl0ZW0obikpO3RoaXMuX3NldEFyaWEobik7dGhpcy5fdHJpZ2dlcigic2VsZWN0Iix0LHtpdGVtOm59KTtuLmluZGV4IT09aSYmdGhpcy5fdHJpZ2dlcigiY2hhbmdlIix0LHtpdGVtOm59KTt0aGlzLmNsb3NlKHQpfSxfc2V0QXJpYTpmdW5jdGlvbihuKXt2YXIgdD10aGlzLm1lbnVJdGVtcy5lcShuLmluZGV4KS5hdHRyKCJpZCIpO3RoaXMuYnV0dG9uLmF0dHIoeyJhcmlhLWxhYmVsbGVkYnkiOnQsImFyaWEtYWN0aXZlZGVzY2VuZGFudCI6dH0pO3RoaXMubWVudS5hdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiLHQpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7aWYoImljb25zIj09PW4pe3ZhciBpPXRoaXMuYnV0dG9uLmZpbmQoInNwYW4udWktaWNvbiIpO3RoaXMuX3JlbW92ZUNsYXNzKGksbnVsbCx0aGlzLm9wdGlvbnMuaWNvbnMuYnV0dG9uKS5fYWRkQ2xhc3MoaSxudWxsLHQuYnV0dG9uKX10aGlzLl9zdXBlcihuLHQpOyJhcHBlbmRUbyI9PT1uJiZ0aGlzLm1lbnVXcmFwLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpOyJ3aWR0aCI9PT1uJiZ0aGlzLl9yZXNpemVCdXR0b24oKX0sX3NldE9wdGlvbkRpc2FibGVkOmZ1bmN0aW9uKG4pe3RoaXMuX3N1cGVyKG4pO3RoaXMubWVudUluc3RhbmNlLm9wdGlvbigiZGlzYWJsZWQiLG4pO3RoaXMuYnV0dG9uLmF0dHIoImFyaWEtZGlzYWJsZWQiLG4pO3RoaXMuX3RvZ2dsZUNsYXNzKHRoaXMuYnV0dG9uLG51bGwsInVpLXN0YXRlLWRpc2FibGVkIixuKTt0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLG4pO24/KHRoaXMuYnV0dG9uLmF0dHIoInRhYmluZGV4IiwtMSksdGhpcy5jbG9zZSgpKTp0aGlzLmJ1dHRvbi5hdHRyKCJ0YWJpbmRleCIsMCl9LF9hcHBlbmRUbzpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5hcHBlbmRUbztyZXR1cm4gdCYmKHQ9dC5qcXVlcnl8fHQubm9kZVR5cGU/bih0KTp0aGlzLmRvY3VtZW50LmZpbmQodCkuZXEoMCkpLHQmJnRbMF18fCh0PXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktZnJvbnQsIGRpYWxvZyIpKSx0Lmxlbmd0aHx8KHQ9dGhpcy5kb2N1bWVudFswXS5ib2R5KSx0fSxfdG9nZ2xlQXR0cjpmdW5jdGlvbigpe3RoaXMuYnV0dG9uLmF0dHIoImFyaWEtZXhwYW5kZWQiLHRoaXMuaXNPcGVuKTt0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmJ1dHRvbiwidWktc2VsZWN0bWVudS1idXR0b24tIisodGhpcy5pc09wZW4/ImNsb3NlZCI6Im9wZW4iKSkuX2FkZENsYXNzKHRoaXMuYnV0dG9uLCJ1aS1zZWxlY3RtZW51LWJ1dHRvbi0iKyh0aGlzLmlzT3Blbj8ib3BlbiI6ImNsb3NlZCIpKS5fdG9nZ2xlQ2xhc3ModGhpcy5tZW51V3JhcCwidWktc2VsZWN0bWVudS1vcGVuIixudWxsLHRoaXMuaXNPcGVuKTt0aGlzLm1lbnUuYXR0cigiYXJpYS1oaWRkZW4iLCF0aGlzLmlzT3Blbil9LF9yZXNpemVCdXR0b246ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9wdGlvbnMud2lkdGg7cmV0dXJuIG49PT0hMT8odGhpcy5idXR0b24uY3NzKCJ3aWR0aCIsIiIpLHZvaWQgMCk6KG51bGw9PT1uJiYobj10aGlzLmVsZW1lbnQuc2hvdygpLm91dGVyV2lkdGgoKSx0aGlzLmVsZW1lbnQuaGlkZSgpKSx0aGlzLmJ1dHRvbi5vdXRlcldpZHRoKG4pLHZvaWQgMCl9LF9yZXNpemVNZW51OmZ1bmN0aW9uKCl7dGhpcy5tZW51Lm91dGVyV2lkdGgoTWF0aC5tYXgodGhpcy5idXR0b24ub3V0ZXJXaWR0aCgpLHRoaXMubWVudS53aWR0aCgiIikub3V0ZXJXaWR0aCgpKzEpKX0sX2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLl9zdXBlcigpO3JldHVybiBuLmRpc2FibGVkPXRoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIpLG59LF9wYXJzZU9wdGlvbnM6ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxpPVtdO3QuZWFjaChmdW5jdGlvbih0LHUpe2kucHVzaChyLl9wYXJzZU9wdGlvbihuKHUpLHQpKX0pO3RoaXMuaXRlbXM9aX0sX3BhcnNlT3B0aW9uOmZ1bmN0aW9uKG4sdCl7dmFyIGk9bi5wYXJlbnQoIm9wdGdyb3VwIik7cmV0dXJue2VsZW1lbnQ6bixpbmRleDp0LHZhbHVlOm4udmFsKCksbGFiZWw6bi50ZXh0KCksb3B0Z3JvdXA6aS5hdHRyKCJsYWJlbCIpfHwiIixkaXNhYmxlZDppLnByb3AoImRpc2FibGVkIil8fG4ucHJvcCgiZGlzYWJsZWQiKX19LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fdW5iaW5kRm9ybVJlc2V0SGFuZGxlcigpO3RoaXMubWVudVdyYXAucmVtb3ZlKCk7dGhpcy5idXR0b24ucmVtb3ZlKCk7dGhpcy5lbGVtZW50LnNob3coKTt0aGlzLmVsZW1lbnQucmVtb3ZlVW5pcXVlSWQoKTt0aGlzLmxhYmVscy5hdHRyKCJmb3IiLHRoaXMuaWRzLmVsZW1lbnQpfX1dKTtuLndpZGdldCgidWkuc2xpZGVyIixuLnVpLm1vdXNlLHt2ZXJzaW9uOiIxLjEyLjEiLHdpZGdldEV2ZW50UHJlZml4OiJzbGlkZSIsb3B0aW9uczp7YW5pbWF0ZTohMSxjbGFzc2VzOnsidWktc2xpZGVyIjoidWktY29ybmVyLWFsbCIsInVpLXNsaWRlci1oYW5kbGUiOiJ1aS1jb3JuZXItYWxsIiwidWktc2xpZGVyLXJhbmdlIjoidWktY29ybmVyLWFsbCB1aS13aWRnZXQtaGVhZGVyIn0sZGlzdGFuY2U6MCxtYXg6MTAwLG1pbjowLG9yaWVudGF0aW9uOiJob3Jpem9udGFsIixyYW5nZTohMSxzdGVwOjEsdmFsdWU6MCx2YWx1ZXM6bnVsbCxjaGFuZ2U6bnVsbCxzbGlkZTpudWxsLHN0YXJ0Om51bGwsc3RvcDpudWxsfSxudW1QYWdlczo1LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9rZXlTbGlkaW5nPSExO3RoaXMuX21vdXNlU2xpZGluZz0hMTt0aGlzLl9hbmltYXRlT2ZmPSEwO3RoaXMuX2hhbmRsZUluZGV4PW51bGw7dGhpcy5fZGV0ZWN0T3JpZW50YXRpb24oKTt0aGlzLl9tb3VzZUluaXQoKTt0aGlzLl9jYWxjdWxhdGVOZXdNYXgoKTt0aGlzLl9hZGRDbGFzcygidWktc2xpZGVyIHVpLXNsaWRlci0iK3RoaXMub3JpZW50YXRpb24sInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCIpO3RoaXMuX3JlZnJlc2goKTt0aGlzLl9hbmltYXRlT2ZmPSExfSxfcmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX2NyZWF0ZVJhbmdlKCk7dGhpcy5fY3JlYXRlSGFuZGxlcygpO3RoaXMuX3NldHVwRXZlbnRzKCk7dGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9jcmVhdGVIYW5kbGVzOmZ1bmN0aW9uKCl7dmFyIHIsaSx1PXRoaXMub3B0aW9ucyx0PXRoaXMuZWxlbWVudC5maW5kKCIudWktc2xpZGVyLWhhbmRsZSIpLGY9W107Zm9yKGk9dS52YWx1ZXMmJnUudmFsdWVzLmxlbmd0aHx8MSx0Lmxlbmd0aD5pJiYodC5zbGljZShpKS5yZW1vdmUoKSx0PXQuc2xpY2UoMCxpKSkscj10Lmxlbmd0aDtpPnI7cisrKWYucHVzaCgiPHNwYW4gdGFiaW5kZXg9JzAnPjxcL3NwYW4+Iik7dGhpcy5oYW5kbGVzPXQuYWRkKG4oZi5qb2luKCIiKSkuYXBwZW5kVG8odGhpcy5lbGVtZW50KSk7dGhpcy5fYWRkQ2xhc3ModGhpcy5oYW5kbGVzLCJ1aS1zbGlkZXItaGFuZGxlIiwidWktc3RhdGUtZGVmYXVsdCIpO3RoaXMuaGFuZGxlPXRoaXMuaGFuZGxlcy5lcSgwKTt0aGlzLmhhbmRsZXMuZWFjaChmdW5jdGlvbih0KXtuKHRoaXMpLmRhdGEoInVpLXNsaWRlci1oYW5kbGUtaW5kZXgiLHQpLmF0dHIoInRhYkluZGV4IiwwKX0pfSxfY3JlYXRlUmFuZ2U6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnM7dC5yYW5nZT8odC5yYW5nZT09PSEwJiYodC52YWx1ZXM/dC52YWx1ZXMubGVuZ3RoJiYyIT09dC52YWx1ZXMubGVuZ3RoP3QudmFsdWVzPVt0LnZhbHVlc1swXSx0LnZhbHVlc1swXV06bi5pc0FycmF5KHQudmFsdWVzKSYmKHQudmFsdWVzPXQudmFsdWVzLnNsaWNlKDApKTp0LnZhbHVlcz1bdGhpcy5fdmFsdWVNaW4oKSx0aGlzLl92YWx1ZU1pbigpXSksdGhpcy5yYW5nZSYmdGhpcy5yYW5nZS5sZW5ndGg/KHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMucmFuZ2UsInVpLXNsaWRlci1yYW5nZS1taW4gdWktc2xpZGVyLXJhbmdlLW1heCIpLHRoaXMucmFuZ2UuY3NzKHtsZWZ0OiIiLGJvdHRvbToiIn0pKToodGhpcy5yYW5nZT1uKCI8ZGl2PiIpLmFwcGVuZFRvKHRoaXMuZWxlbWVudCksdGhpcy5fYWRkQ2xhc3ModGhpcy5yYW5nZSwidWktc2xpZGVyLXJhbmdlIikpLCgibWluIj09PXQucmFuZ2V8fCJtYXgiPT09dC5yYW5nZSkmJnRoaXMuX2FkZENsYXNzKHRoaXMucmFuZ2UsInVpLXNsaWRlci1yYW5nZS0iK3QucmFuZ2UpKToodGhpcy5yYW5nZSYmdGhpcy5yYW5nZS5yZW1vdmUoKSx0aGlzLnJhbmdlPW51bGwpfSxfc2V0dXBFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl9vZmYodGhpcy5oYW5kbGVzKTt0aGlzLl9vbih0aGlzLmhhbmRsZXMsdGhpcy5faGFuZGxlRXZlbnRzKTt0aGlzLl9ob3ZlcmFibGUodGhpcy5oYW5kbGVzKTt0aGlzLl9mb2N1c2FibGUodGhpcy5oYW5kbGVzKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXMucmVtb3ZlKCk7dGhpcy5yYW5nZSYmdGhpcy5yYW5nZS5yZW1vdmUoKTt0aGlzLl9tb3VzZURlc3Ryb3koKX0sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbih0KXt2YXIgcyxmLHIsaSx1LGgsZSxjLG89dGhpcyxsPXRoaXMub3B0aW9ucztyZXR1cm4gbC5kaXNhYmxlZD8hMToodGhpcy5lbGVtZW50U2l6ZT17d2lkdGg6dGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKSxoZWlnaHQ6dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCl9LHRoaXMuZWxlbWVudE9mZnNldD10aGlzLmVsZW1lbnQub2Zmc2V0KCkscz17eDp0LnBhZ2VYLHk6dC5wYWdlWX0sZj10aGlzLl9ub3JtVmFsdWVGcm9tTW91c2Uocykscj10aGlzLl92YWx1ZU1heCgpLXRoaXMuX3ZhbHVlTWluKCkrMSx0aGlzLmhhbmRsZXMuZWFjaChmdW5jdGlvbih0KXt2YXIgZT1NYXRoLmFicyhmLW8udmFsdWVzKHQpKTsocj5lfHxyPT09ZSYmKHQ9PT1vLl9sYXN0Q2hhbmdlZFZhbHVlfHxvLnZhbHVlcyh0KT09PWwubWluKSkmJihyPWUsaT1uKHRoaXMpLHU9dCl9KSxoPXRoaXMuX3N0YXJ0KHQsdSksaD09PSExPyExOih0aGlzLl9tb3VzZVNsaWRpbmc9ITAsdGhpcy5faGFuZGxlSW5kZXg9dSx0aGlzLl9hZGRDbGFzcyhpLG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpLGkudHJpZ2dlcigiZm9jdXMiKSxlPWkub2Zmc2V0KCksYz0hbih0LnRhcmdldCkucGFyZW50cygpLmFkZEJhY2soKS5pcygiLnVpLXNsaWRlci1oYW5kbGUiKSx0aGlzLl9jbGlja09mZnNldD1jP3tsZWZ0OjAsdG9wOjB9OntsZWZ0OnQucGFnZVgtZS5sZWZ0LWkud2lkdGgoKS8yLHRvcDp0LnBhZ2VZLWUudG9wLWkuaGVpZ2h0KCkvMi0ocGFyc2VJbnQoaS5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQoaS5jc3MoImJvcmRlckJvdHRvbVdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQoaS5jc3MoIm1hcmdpblRvcCIpLDEwKXx8MCl9LHRoaXMuaGFuZGxlcy5oYXNDbGFzcygidWktc3RhdGUtaG92ZXIiKXx8dGhpcy5fc2xpZGUodCx1LGYpLHRoaXMuX2FuaW1hdGVPZmY9ITAsITApKX0sX21vdXNlU3RhcnQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sX21vdXNlRHJhZzpmdW5jdGlvbihuKXt2YXIgdD17eDpuLnBhZ2VYLHk6bi5wYWdlWX0saT10aGlzLl9ub3JtVmFsdWVGcm9tTW91c2UodCk7cmV0dXJuIHRoaXMuX3NsaWRlKG4sdGhpcy5faGFuZGxlSW5kZXgsaSksITF9LF9tb3VzZVN0b3A6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaGFuZGxlcyxudWxsLCJ1aS1zdGF0ZS1hY3RpdmUiKSx0aGlzLl9tb3VzZVNsaWRpbmc9ITEsdGhpcy5fc3RvcChuLHRoaXMuX2hhbmRsZUluZGV4KSx0aGlzLl9jaGFuZ2Uobix0aGlzLl9oYW5kbGVJbmRleCksdGhpcy5faGFuZGxlSW5kZXg9bnVsbCx0aGlzLl9jbGlja09mZnNldD1udWxsLHRoaXMuX2FuaW1hdGVPZmY9ITEsITF9LF9kZXRlY3RPcmllbnRhdGlvbjpmdW5jdGlvbigpe3RoaXMub3JpZW50YXRpb249InZlcnRpY2FsIj09PXRoaXMub3B0aW9ucy5vcmllbnRhdGlvbj8idmVydGljYWwiOiJob3Jpem9udGFsIn0sX25vcm1WYWx1ZUZyb21Nb3VzZTpmdW5jdGlvbihuKXt2YXIgaSxyLHQsdSxmO3JldHVybiJob3Jpem9udGFsIj09PXRoaXMub3JpZW50YXRpb24/KGk9dGhpcy5lbGVtZW50U2l6ZS53aWR0aCxyPW4ueC10aGlzLmVsZW1lbnRPZmZzZXQubGVmdC0odGhpcy5fY2xpY2tPZmZzZXQ/dGhpcy5fY2xpY2tPZmZzZXQubGVmdDowKSk6KGk9dGhpcy5lbGVtZW50U2l6ZS5oZWlnaHQscj1uLnktdGhpcy5lbGVtZW50T2Zmc2V0LnRvcC0odGhpcy5fY2xpY2tPZmZzZXQ/dGhpcy5fY2xpY2tPZmZzZXQudG9wOjApKSx0PXIvaSx0PjEmJih0PTEpLDA+dCYmKHQ9MCksInZlcnRpY2FsIj09PXRoaXMub3JpZW50YXRpb24mJih0PTEtdCksdT10aGlzLl92YWx1ZU1heCgpLXRoaXMuX3ZhbHVlTWluKCksZj10aGlzLl92YWx1ZU1pbigpK3QqdSx0aGlzLl90cmltQWxpZ25WYWx1ZShmKX0sX3VpSGFzaDpmdW5jdGlvbihuLHQsaSl7dmFyIHI9e2hhbmRsZTp0aGlzLmhhbmRsZXNbbl0saGFuZGxlSW5kZXg6bix2YWx1ZTp2b2lkIDAhPT10P3Q6dGhpcy52YWx1ZSgpfTtyZXR1cm4gdGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKSYmKHIudmFsdWU9dm9pZCAwIT09dD90OnRoaXMudmFsdWVzKG4pLHIudmFsdWVzPWl8fHRoaXMudmFsdWVzKCkpLHJ9LF9oYXNNdWx0aXBsZVZhbHVlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMudmFsdWVzJiZ0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aH0sX3N0YXJ0OmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMuX3RyaWdnZXIoInN0YXJ0IixuLHRoaXMuX3VpSGFzaCh0KSl9LF9zbGlkZTpmdW5jdGlvbihuLHQsaSl7dmFyIHUscixmPXRoaXMudmFsdWUoKSxlPXRoaXMudmFsdWVzKCk7dGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKSYmKHI9dGhpcy52YWx1ZXModD8wOjEpLGY9dGhpcy52YWx1ZXModCksMj09PXRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoJiZ0aGlzLm9wdGlvbnMucmFuZ2U9PT0hMCYmKGk9MD09PXQ/TWF0aC5taW4ocixpKTpNYXRoLm1heChyLGkpKSxlW3RdPWkpO2khPT1mJiYodT10aGlzLl90cmlnZ2VyKCJzbGlkZSIsbix0aGlzLl91aUhhc2godCxpLGUpKSx1IT09ITEmJih0aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpP3RoaXMudmFsdWVzKHQsaSk6dGhpcy52YWx1ZShpKSkpfSxfc3RvcDpmdW5jdGlvbihuLHQpe3RoaXMuX3RyaWdnZXIoInN0b3AiLG4sdGhpcy5fdWlIYXNoKHQpKX0sX2NoYW5nZTpmdW5jdGlvbihuLHQpe3RoaXMuX2tleVNsaWRpbmd8fHRoaXMuX21vdXNlU2xpZGluZ3x8KHRoaXMuX2xhc3RDaGFuZ2VkVmFsdWU9dCx0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiLG4sdGhpcy5fdWlIYXNoKHQpKSl9LHZhbHVlOmZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLm9wdGlvbnMudmFsdWU9dGhpcy5fdHJpbUFsaWduVmFsdWUobiksdGhpcy5fcmVmcmVzaFZhbHVlKCksdGhpcy5fY2hhbmdlKG51bGwsMCksdm9pZCAwKTp0aGlzLl92YWx1ZSgpfSx2YWx1ZXM6ZnVuY3Rpb24odCxpKXt2YXIgdSxmLHI7aWYoYXJndW1lbnRzLmxlbmd0aD4xKXJldHVybiB0aGlzLm9wdGlvbnMudmFsdWVzW3RdPXRoaXMuX3RyaW1BbGlnblZhbHVlKGkpLHRoaXMuX3JlZnJlc2hWYWx1ZSgpLHRoaXMuX2NoYW5nZShudWxsLHQpLHZvaWQgMDtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5fdmFsdWVzKCk7aWYoIW4uaXNBcnJheShhcmd1bWVudHNbMF0pKXJldHVybiB0aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpP3RoaXMuX3ZhbHVlcyh0KTp0aGlzLnZhbHVlKCk7Zm9yKHU9dGhpcy5vcHRpb25zLnZhbHVlcyxmPWFyZ3VtZW50c1swXSxyPTA7dS5sZW5ndGg+cjtyKz0xKXVbcl09dGhpcy5fdHJpbUFsaWduVmFsdWUoZltyXSksdGhpcy5fY2hhbmdlKG51bGwscik7dGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxpKXt2YXIgcix1PTA7c3dpdGNoKCJyYW5nZSI9PT10JiZ0aGlzLm9wdGlvbnMucmFuZ2U9PT0hMCYmKCJtaW4iPT09aT8odGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX3ZhbHVlcygwKSx0aGlzLm9wdGlvbnMudmFsdWVzPW51bGwpOiJtYXgiPT09aSYmKHRoaXMub3B0aW9ucy52YWx1ZT10aGlzLl92YWx1ZXModGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGgtMSksdGhpcy5vcHRpb25zLnZhbHVlcz1udWxsKSksbi5pc0FycmF5KHRoaXMub3B0aW9ucy52YWx1ZXMpJiYodT10aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aCksdGhpcy5fc3VwZXIodCxpKSx0KXtjYXNlIm9yaWVudGF0aW9uIjp0aGlzLl9kZXRlY3RPcmllbnRhdGlvbigpO3RoaXMuX3JlbW92ZUNsYXNzKCJ1aS1zbGlkZXItaG9yaXpvbnRhbCB1aS1zbGlkZXItdmVydGljYWwiKS5fYWRkQ2xhc3MoInVpLXNsaWRlci0iK3RoaXMub3JpZW50YXRpb24pO3RoaXMuX3JlZnJlc2hWYWx1ZSgpO3RoaXMub3B0aW9ucy5yYW5nZSYmdGhpcy5fcmVmcmVzaFJhbmdlKGkpO3RoaXMuaGFuZGxlcy5jc3MoImhvcml6b250YWwiPT09aT8iYm90dG9tIjoibGVmdCIsIiIpO2JyZWFrO2Nhc2UidmFsdWUiOnRoaXMuX2FuaW1hdGVPZmY9ITA7dGhpcy5fcmVmcmVzaFZhbHVlKCk7dGhpcy5fY2hhbmdlKG51bGwsMCk7dGhpcy5fYW5pbWF0ZU9mZj0hMTticmVhaztjYXNlInZhbHVlcyI6Zm9yKHRoaXMuX2FuaW1hdGVPZmY9ITAsdGhpcy5fcmVmcmVzaFZhbHVlKCkscj11LTE7cj49MDtyLS0pdGhpcy5fY2hhbmdlKG51bGwscik7dGhpcy5fYW5pbWF0ZU9mZj0hMTticmVhaztjYXNlInN0ZXAiOmNhc2UibWluIjpjYXNlIm1heCI6dGhpcy5fYW5pbWF0ZU9mZj0hMDt0aGlzLl9jYWxjdWxhdGVOZXdNYXgoKTt0aGlzLl9yZWZyZXNoVmFsdWUoKTt0aGlzLl9hbmltYXRlT2ZmPSExO2JyZWFrO2Nhc2UicmFuZ2UiOnRoaXMuX2FuaW1hdGVPZmY9ITA7dGhpcy5fcmVmcmVzaCgpO3RoaXMuX2FuaW1hdGVPZmY9ITF9fSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24obil7dGhpcy5fc3VwZXIobik7dGhpcy5fdG9nZ2xlQ2xhc3MobnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLCEhbil9LF92YWx1ZTpmdW5jdGlvbigpe3ZhciBuPXRoaXMub3B0aW9ucy52YWx1ZTtyZXR1cm4gdGhpcy5fdHJpbUFsaWduVmFsdWUobil9LF92YWx1ZXM6ZnVuY3Rpb24obil7dmFyIHIsdCxpO2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHI9dGhpcy5vcHRpb25zLnZhbHVlc1tuXSxyPXRoaXMuX3RyaW1BbGlnblZhbHVlKHIpO2lmKHRoaXMuX2hhc011bHRpcGxlVmFsdWVzKCkpe2Zvcih0PXRoaXMub3B0aW9ucy52YWx1ZXMuc2xpY2UoKSxpPTA7dC5sZW5ndGg+aTtpKz0xKXRbaV09dGhpcy5fdHJpbUFsaWduVmFsdWUodFtpXSk7cmV0dXJuIHR9cmV0dXJuW119LF90cmltQWxpZ25WYWx1ZTpmdW5jdGlvbihuKXtpZih0aGlzLl92YWx1ZU1pbigpPj1uKXJldHVybiB0aGlzLl92YWx1ZU1pbigpO2lmKG4+PXRoaXMuX3ZhbHVlTWF4KCkpcmV0dXJuIHRoaXMuX3ZhbHVlTWF4KCk7dmFyIHQ9dGhpcy5vcHRpb25zLnN0ZXA+MD90aGlzLm9wdGlvbnMuc3RlcDoxLGk9KG4tdGhpcy5fdmFsdWVNaW4oKSkldCxyPW4taTtyZXR1cm4gMipNYXRoLmFicyhpKT49dCYmKHIrPWk+MD90Oi10KSxwYXJzZUZsb2F0KHIudG9GaXhlZCg1KSl9LF9jYWxjdWxhdGVOZXdNYXg6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9wdGlvbnMubWF4LGk9dGhpcy5fdmFsdWVNaW4oKSx0PXRoaXMub3B0aW9ucy5zdGVwLHI9TWF0aC5yb3VuZCgobi1pKS90KSp0O249citpO24+dGhpcy5vcHRpb25zLm1heCYmKG4tPXQpO3RoaXMubWF4PXBhcnNlRmxvYXQobi50b0ZpeGVkKHRoaXMuX3ByZWNpc2lvbigpKSl9LF9wcmVjaXNpb246ZnVuY3Rpb24oKXt2YXIgbj10aGlzLl9wcmVjaXNpb25PZih0aGlzLm9wdGlvbnMuc3RlcCk7cmV0dXJuIG51bGwhPT10aGlzLm9wdGlvbnMubWluJiYobj1NYXRoLm1heChuLHRoaXMuX3ByZWNpc2lvbk9mKHRoaXMub3B0aW9ucy5taW4pKSksbn0sX3ByZWNpc2lvbk9mOmZ1bmN0aW9uKG4pe3ZhciB0PSIiK24saT10LmluZGV4T2YoIi4iKTtyZXR1cm4tMT09PWk/MDp0Lmxlbmd0aC1pLTF9LF92YWx1ZU1pbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMubWlufSxfdmFsdWVNYXg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXh9LF9yZWZyZXNoUmFuZ2U6ZnVuY3Rpb24obil7InZlcnRpY2FsIj09PW4mJnRoaXMucmFuZ2UuY3NzKHt3aWR0aDoiIixsZWZ0OiIifSk7Imhvcml6b250YWwiPT09biYmdGhpcy5yYW5nZS5jc3Moe2hlaWdodDoiIixib3R0b206IiJ9KX0sX3JlZnJlc2hWYWx1ZTpmdW5jdGlvbigpe3ZhciBzLHQsYyxmLGgsZT10aGlzLm9wdGlvbnMucmFuZ2UsaT10aGlzLm9wdGlvbnMscj10aGlzLHU9dGhpcy5fYW5pbWF0ZU9mZj8hMTppLmFuaW1hdGUsbz17fTt0aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpP3RoaXMuaGFuZGxlcy5lYWNoKGZ1bmN0aW9uKGYpe3Q9MTAwKigoci52YWx1ZXMoZiktci5fdmFsdWVNaW4oKSkvKHIuX3ZhbHVlTWF4KCktci5fdmFsdWVNaW4oKSkpO29bImhvcml6b250YWwiPT09ci5vcmllbnRhdGlvbj8ibGVmdCI6ImJvdHRvbSJdPXQrIiUiO24odGhpcykuc3RvcCgxLDEpW3U/ImFuaW1hdGUiOiJjc3MiXShvLGkuYW5pbWF0ZSk7ci5vcHRpb25zLnJhbmdlPT09ITAmJigiaG9yaXpvbnRhbCI9PT1yLm9yaWVudGF0aW9uPygwPT09ZiYmci5yYW5nZS5zdG9wKDEsMSlbdT8iYW5pbWF0ZSI6ImNzcyJdKHtsZWZ0OnQrIiUifSxpLmFuaW1hdGUpLDE9PT1mJiZyLnJhbmdlW3U/ImFuaW1hdGUiOiJjc3MiXSh7d2lkdGg6dC1zKyIlIn0se3F1ZXVlOiExLGR1cmF0aW9uOmkuYW5pbWF0ZX0pKTooMD09PWYmJnIucmFuZ2Uuc3RvcCgxLDEpW3U/ImFuaW1hdGUiOiJjc3MiXSh7Ym90dG9tOnQrIiUifSxpLmFuaW1hdGUpLDE9PT1mJiZyLnJhbmdlW3U/ImFuaW1hdGUiOiJjc3MiXSh7aGVpZ2h0OnQtcysiJSJ9LHtxdWV1ZTohMSxkdXJhdGlvbjppLmFuaW1hdGV9KSkpO3M9dH0pOihjPXRoaXMudmFsdWUoKSxmPXRoaXMuX3ZhbHVlTWluKCksaD10aGlzLl92YWx1ZU1heCgpLHQ9aCE9PWY/MTAwKigoYy1mKS8oaC1mKSk6MCxvWyJob3Jpem9udGFsIj09PXRoaXMub3JpZW50YXRpb24/ImxlZnQiOiJib3R0b20iXT10KyIlIix0aGlzLmhhbmRsZS5zdG9wKDEsMSlbdT8iYW5pbWF0ZSI6ImNzcyJdKG8saS5hbmltYXRlKSwibWluIj09PWUmJiJob3Jpem9udGFsIj09PXRoaXMub3JpZW50YXRpb24mJnRoaXMucmFuZ2Uuc3RvcCgxLDEpW3U/ImFuaW1hdGUiOiJjc3MiXSh7d2lkdGg6dCsiJSJ9LGkuYW5pbWF0ZSksIm1heCI9PT1lJiYiaG9yaXpvbnRhbCI9PT10aGlzLm9yaWVudGF0aW9uJiZ0aGlzLnJhbmdlLnN0b3AoMSwxKVt1PyJhbmltYXRlIjoiY3NzIl0oe3dpZHRoOjEwMC10KyIlIn0saS5hbmltYXRlKSwibWluIj09PWUmJiJ2ZXJ0aWNhbCI9PT10aGlzLm9yaWVudGF0aW9uJiZ0aGlzLnJhbmdlLnN0b3AoMSwxKVt1PyJhbmltYXRlIjoiY3NzIl0oe2hlaWdodDp0KyIlIn0saS5hbmltYXRlKSwibWF4Ij09PWUmJiJ2ZXJ0aWNhbCI9PT10aGlzLm9yaWVudGF0aW9uJiZ0aGlzLnJhbmdlLnN0b3AoMSwxKVt1PyJhbmltYXRlIjoiY3NzIl0oe2hlaWdodDoxMDAtdCsiJSJ9LGkuYW5pbWF0ZSkpfSxfaGFuZGxlRXZlbnRzOntrZXlkb3duOmZ1bmN0aW9uKHQpe3ZhciBlLHIsaSx1LGY9bih0LnRhcmdldCkuZGF0YSgidWktc2xpZGVyLWhhbmRsZS1pbmRleCIpO3N3aXRjaCh0LmtleUNvZGUpe2Nhc2Ugbi51aS5rZXlDb2RlLkhPTUU6Y2FzZSBuLnVpLmtleUNvZGUuRU5EOmNhc2Ugbi51aS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSBuLnVpLmtleUNvZGUuUEFHRV9ET1dOOmNhc2Ugbi51aS5rZXlDb2RlLlVQOmNhc2Ugbi51aS5rZXlDb2RlLlJJR0hUOmNhc2Ugbi51aS5rZXlDb2RlLkRPV046Y2FzZSBuLnVpLmtleUNvZGUuTEVGVDppZih0LnByZXZlbnREZWZhdWx0KCksIXRoaXMuX2tleVNsaWRpbmcmJih0aGlzLl9rZXlTbGlkaW5nPSEwLHRoaXMuX2FkZENsYXNzKG4odC50YXJnZXQpLG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpLGU9dGhpcy5fc3RhcnQodCxmKSxlPT09ITEpKXJldHVybn1zd2l0Y2godT10aGlzLm9wdGlvbnMuc3RlcCxyPWk9dGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKT90aGlzLnZhbHVlcyhmKTp0aGlzLnZhbHVlKCksdC5rZXlDb2RlKXtjYXNlIG4udWkua2V5Q29kZS5IT01FOmk9dGhpcy5fdmFsdWVNaW4oKTticmVhaztjYXNlIG4udWkua2V5Q29kZS5FTkQ6aT10aGlzLl92YWx1ZU1heCgpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLlBBR0VfVVA6aT10aGlzLl90cmltQWxpZ25WYWx1ZShyKyh0aGlzLl92YWx1ZU1heCgpLXRoaXMuX3ZhbHVlTWluKCkpL3RoaXMubnVtUGFnZXMpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLlBBR0VfRE9XTjppPXRoaXMuX3RyaW1BbGlnblZhbHVlKHItKHRoaXMuX3ZhbHVlTWF4KCktdGhpcy5fdmFsdWVNaW4oKSkvdGhpcy5udW1QYWdlcyk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuVVA6Y2FzZSBuLnVpLmtleUNvZGUuUklHSFQ6aWYocj09PXRoaXMuX3ZhbHVlTWF4KCkpcmV0dXJuO2k9dGhpcy5fdHJpbUFsaWduVmFsdWUocit1KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5ET1dOOmNhc2Ugbi51aS5rZXlDb2RlLkxFRlQ6aWYocj09PXRoaXMuX3ZhbHVlTWluKCkpcmV0dXJuO2k9dGhpcy5fdHJpbUFsaWduVmFsdWUoci11KX10aGlzLl9zbGlkZSh0LGYsaSl9LGtleXVwOmZ1bmN0aW9uKHQpe3ZhciBpPW4odC50YXJnZXQpLmRhdGEoInVpLXNsaWRlci1oYW5kbGUtaW5kZXgiKTt0aGlzLl9rZXlTbGlkaW5nJiYodGhpcy5fa2V5U2xpZGluZz0hMSx0aGlzLl9zdG9wKHQsaSksdGhpcy5fY2hhbmdlKHQsaSksdGhpcy5fcmVtb3ZlQ2xhc3Mobih0LnRhcmdldCksbnVsbCwidWktc3RhdGUtYWN0aXZlIikpfX19KTtuLndpZGdldCgidWkuc29ydGFibGUiLG4udWkubW91c2Use3ZlcnNpb246IjEuMTIuMSIsd2lkZ2V0RXZlbnRQcmVmaXg6InNvcnQiLHJlYWR5OiExLG9wdGlvbnM6e2FwcGVuZFRvOiJwYXJlbnQiLGF4aXM6ITEsY29ubmVjdFdpdGg6ITEsY29udGFpbm1lbnQ6ITEsY3Vyc29yOiJhdXRvIixjdXJzb3JBdDohMSxkcm9wT25FbXB0eTohMCxmb3JjZVBsYWNlaG9sZGVyU2l6ZTohMSxmb3JjZUhlbHBlclNpemU6ITEsZ3JpZDohMSxoYW5kbGU6ITEsaGVscGVyOiJvcmlnaW5hbCIsaXRlbXM6Ij4gKiIsb3BhY2l0eTohMSxwbGFjZWhvbGRlcjohMSxyZXZlcnQ6ITEsc2Nyb2xsOiEwLHNjcm9sbFNlbnNpdGl2aXR5OjIwLHNjcm9sbFNwZWVkOjIwLHNjb3BlOiJkZWZhdWx0Iix0b2xlcmFuY2U6ImludGVyc2VjdCIsekluZGV4OjFlMyxhY3RpdmF0ZTpudWxsLGJlZm9yZVN0b3A6bnVsbCxjaGFuZ2U6bnVsbCxkZWFjdGl2YXRlOm51bGwsb3V0Om51bGwsb3ZlcjpudWxsLHJlY2VpdmU6bnVsbCxyZW1vdmU6bnVsbCxzb3J0Om51bGwsc3RhcnQ6bnVsbCxzdG9wOm51bGwsdXBkYXRlOm51bGx9LF9pc092ZXJBeGlzOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gbj49dCYmdCtpPm59LF9pc0Zsb2F0aW5nOmZ1bmN0aW9uKG4pe3JldHVybi9sZWZ0fHJpZ2h0Ly50ZXN0KG4uY3NzKCJmbG9hdCIpKXx8L2lubGluZXx0YWJsZS1jZWxsLy50ZXN0KG4uY3NzKCJkaXNwbGF5IikpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5jb250YWluZXJDYWNoZT17fTt0aGlzLl9hZGRDbGFzcygidWktc29ydGFibGUiKTt0aGlzLnJlZnJlc2goKTt0aGlzLm9mZnNldD10aGlzLmVsZW1lbnQub2Zmc2V0KCk7dGhpcy5fbW91c2VJbml0KCk7dGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCk7dGhpcy5yZWFkeT0hMH0sX3NldE9wdGlvbjpmdW5jdGlvbihuLHQpe3RoaXMuX3N1cGVyKG4sdCk7ImhhbmRsZSI9PT1uJiZ0aGlzLl9zZXRIYW5kbGVDbGFzc05hbWUoKX0sX3NldEhhbmRsZUNsYXNzTmFtZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5lbGVtZW50LmZpbmQoIi51aS1zb3J0YWJsZS1oYW5kbGUiKSwidWktc29ydGFibGUtaGFuZGxlIik7bi5lYWNoKHRoaXMuaXRlbXMsZnVuY3Rpb24oKXt0Ll9hZGRDbGFzcyh0aGlzLmluc3RhbmNlLm9wdGlvbnMuaGFuZGxlP3RoaXMuaXRlbS5maW5kKHRoaXMuaW5zdGFuY2Uub3B0aW9ucy5oYW5kbGUpOnRoaXMuaXRlbSwidWktc29ydGFibGUtaGFuZGxlIil9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9tb3VzZURlc3Ryb3koKTtmb3IodmFyIG49dGhpcy5pdGVtcy5sZW5ndGgtMTtuPj0wO24tLSl0aGlzLml0ZW1zW25dLml0ZW0ucmVtb3ZlRGF0YSh0aGlzLndpZGdldE5hbWUrIi1pdGVtIik7cmV0dXJuIHRoaXN9LF9tb3VzZUNhcHR1cmU6ZnVuY3Rpb24odCxpKXt2YXIgcj1udWxsLGY9ITEsdT10aGlzO3JldHVybiB0aGlzLnJldmVydGluZz8hMTp0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fCJzdGF0aWMiPT09dGhpcy5vcHRpb25zLnR5cGU/ITE6KHRoaXMuX3JlZnJlc2hJdGVtcyh0KSxuKHQudGFyZ2V0KS5wYXJlbnRzKCkuZWFjaChmdW5jdGlvbigpe2lmKG4uZGF0YSh0aGlzLHUud2lkZ2V0TmFtZSsiLWl0ZW0iKT09PXUpcmV0dXJuKHI9bih0aGlzKSwhMSl9KSxuLmRhdGEodC50YXJnZXQsdS53aWRnZXROYW1lKyItaXRlbSIpPT09dSYmKHI9bih0LnRhcmdldCkpLHI/IXRoaXMub3B0aW9ucy5oYW5kbGV8fGl8fChuKHRoaXMub3B0aW9ucy5oYW5kbGUscikuZmluZCgiKiIpLmFkZEJhY2soKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcz09PXQudGFyZ2V0JiYoZj0hMCl9KSxmKT8odGhpcy5jdXJyZW50SXRlbT1yLHRoaXMuX3JlbW92ZUN1cnJlbnRzRnJvbUl0ZW1zKCksITApOiExOiExKX0sX21vdXNlU3RhcnQ6ZnVuY3Rpb24odCxpLHIpe3ZhciBmLGUsdT10aGlzLm9wdGlvbnM7aWYodGhpcy5jdXJyZW50Q29udGFpbmVyPXRoaXMsdGhpcy5yZWZyZXNoUG9zaXRpb25zKCksdGhpcy5oZWxwZXI9dGhpcy5fY3JlYXRlSGVscGVyKHQpLHRoaXMuX2NhY2hlSGVscGVyUHJvcG9ydGlvbnMoKSx0aGlzLl9jYWNoZU1hcmdpbnMoKSx0aGlzLnNjcm9sbFBhcmVudD10aGlzLmhlbHBlci5zY3JvbGxQYXJlbnQoKSx0aGlzLm9mZnNldD10aGlzLmN1cnJlbnRJdGVtLm9mZnNldCgpLHRoaXMub2Zmc2V0PXt0b3A6dGhpcy5vZmZzZXQudG9wLXRoaXMubWFyZ2lucy50b3AsbGVmdDp0aGlzLm9mZnNldC5sZWZ0LXRoaXMubWFyZ2lucy5sZWZ0fSxuLmV4dGVuZCh0aGlzLm9mZnNldCx7Y2xpY2s6e2xlZnQ6dC5wYWdlWC10aGlzLm9mZnNldC5sZWZ0LHRvcDp0LnBhZ2VZLXRoaXMub2Zmc2V0LnRvcH0scGFyZW50OnRoaXMuX2dldFBhcmVudE9mZnNldCgpLHJlbGF0aXZlOnRoaXMuX2dldFJlbGF0aXZlT2Zmc2V0KCl9KSx0aGlzLmhlbHBlci5jc3MoInBvc2l0aW9uIiwiYWJzb2x1dGUiKSx0aGlzLmNzc1Bvc2l0aW9uPXRoaXMuaGVscGVyLmNzcygicG9zaXRpb24iKSx0aGlzLm9yaWdpbmFsUG9zaXRpb249dGhpcy5fZ2VuZXJhdGVQb3NpdGlvbih0KSx0aGlzLm9yaWdpbmFsUGFnZVg9dC5wYWdlWCx0aGlzLm9yaWdpbmFsUGFnZVk9dC5wYWdlWSx1LmN1cnNvckF0JiZ0aGlzLl9hZGp1c3RPZmZzZXRGcm9tSGVscGVyKHUuY3Vyc29yQXQpLHRoaXMuZG9tUG9zaXRpb249e3ByZXY6dGhpcy5jdXJyZW50SXRlbS5wcmV2KClbMF0scGFyZW50OnRoaXMuY3VycmVudEl0ZW0ucGFyZW50KClbMF19LHRoaXMuaGVscGVyWzBdIT09dGhpcy5jdXJyZW50SXRlbVswXSYmdGhpcy5jdXJyZW50SXRlbS5oaWRlKCksdGhpcy5fY3JlYXRlUGxhY2Vob2xkZXIoKSx1LmNvbnRhaW5tZW50JiZ0aGlzLl9zZXRDb250YWlubWVudCgpLHUuY3Vyc29yJiYiYXV0byIhPT11LmN1cnNvciYmKGU9dGhpcy5kb2N1bWVudC5maW5kKCJib2R5IiksdGhpcy5zdG9yZWRDdXJzb3I9ZS5jc3MoImN1cnNvciIpLGUuY3NzKCJjdXJzb3IiLHUuY3Vyc29yKSx0aGlzLnN0b3JlZFN0eWxlc2hlZXQ9bigiPHN0eWxlPip7IGN1cnNvcjogIit1LmN1cnNvcisiICFpbXBvcnRhbnQ7IH08XC9zdHlsZT4iKS5hcHBlbmRUbyhlKSksdS5vcGFjaXR5JiYodGhpcy5oZWxwZXIuY3NzKCJvcGFjaXR5IikmJih0aGlzLl9zdG9yZWRPcGFjaXR5PXRoaXMuaGVscGVyLmNzcygib3BhY2l0eSIpKSx0aGlzLmhlbHBlci5jc3MoIm9wYWNpdHkiLHUub3BhY2l0eSkpLHUuekluZGV4JiYodGhpcy5oZWxwZXIuY3NzKCJ6SW5kZXgiKSYmKHRoaXMuX3N0b3JlZFpJbmRleD10aGlzLmhlbHBlci5jc3MoInpJbmRleCIpKSx0aGlzLmhlbHBlci5jc3MoInpJbmRleCIsdS56SW5kZXgpKSx0aGlzLnNjcm9sbFBhcmVudFswXSE9PXRoaXMuZG9jdW1lbnRbMF0mJiJIVE1MIiE9PXRoaXMuc2Nyb2xsUGFyZW50WzBdLnRhZ05hbWUmJih0aGlzLm92ZXJmbG93T2Zmc2V0PXRoaXMuc2Nyb2xsUGFyZW50Lm9mZnNldCgpKSx0aGlzLl90cmlnZ2VyKCJzdGFydCIsdCx0aGlzLl91aUhhc2goKSksdGhpcy5fcHJlc2VydmVIZWxwZXJQcm9wb3J0aW9uc3x8dGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpLCFyKWZvcihmPXRoaXMuY29udGFpbmVycy5sZW5ndGgtMTtmPj0wO2YtLSl0aGlzLmNvbnRhaW5lcnNbZl0uX3RyaWdnZXIoImFjdGl2YXRlIix0LHRoaXMuX3VpSGFzaCh0aGlzKSk7cmV0dXJuIG4udWkuZGRtYW5hZ2VyJiYobi51aS5kZG1hbmFnZXIuY3VycmVudD10aGlzKSxuLnVpLmRkbWFuYWdlciYmIXUuZHJvcEJlaGF2aW91ciYmbi51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHModGhpcyx0KSx0aGlzLmRyYWdnaW5nPSEwLHRoaXMuX2FkZENsYXNzKHRoaXMuaGVscGVyLCJ1aS1zb3J0YWJsZS1oZWxwZXIiKSx0aGlzLl9tb3VzZURyYWcodCksITB9LF9tb3VzZURyYWc6ZnVuY3Rpb24odCl7dmFyIGUsdSxmLG8saT10aGlzLm9wdGlvbnMscj0hMTtmb3IodGhpcy5wb3NpdGlvbj10aGlzLl9nZW5lcmF0ZVBvc2l0aW9uKHQpLHRoaXMucG9zaXRpb25BYnM9dGhpcy5fY29udmVydFBvc2l0aW9uVG8oImFic29sdXRlIiksdGhpcy5sYXN0UG9zaXRpb25BYnN8fCh0aGlzLmxhc3RQb3NpdGlvbkFicz10aGlzLnBvc2l0aW9uQWJzKSx0aGlzLm9wdGlvbnMuc2Nyb2xsJiYodGhpcy5zY3JvbGxQYXJlbnRbMF0hPT10aGlzLmRvY3VtZW50WzBdJiYiSFRNTCIhPT10aGlzLnNjcm9sbFBhcmVudFswXS50YWdOYW1lPyh0aGlzLm92ZXJmbG93T2Zmc2V0LnRvcCt0aGlzLnNjcm9sbFBhcmVudFswXS5vZmZzZXRIZWlnaHQtdC5wYWdlWTxpLnNjcm9sbFNlbnNpdGl2aXR5P3RoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcD1yPXRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcCtpLnNjcm9sbFNwZWVkOnQucGFnZVktdGhpcy5vdmVyZmxvd09mZnNldC50b3A8aS5zY3JvbGxTZW5zaXRpdml0eSYmKHRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcD1yPXRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcC1pLnNjcm9sbFNwZWVkKSx0aGlzLm92ZXJmbG93T2Zmc2V0LmxlZnQrdGhpcy5zY3JvbGxQYXJlbnRbMF0ub2Zmc2V0V2lkdGgtdC5wYWdlWDxpLnNjcm9sbFNlbnNpdGl2aXR5P3RoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQ9cj10aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0K2kuc2Nyb2xsU3BlZWQ6dC5wYWdlWC10aGlzLm92ZXJmbG93T2Zmc2V0LmxlZnQ8aS5zY3JvbGxTZW5zaXRpdml0eSYmKHRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQ9cj10aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0LWkuc2Nyb2xsU3BlZWQpKToodC5wYWdlWS10aGlzLmRvY3VtZW50LnNjcm9sbFRvcCgpPGkuc2Nyb2xsU2Vuc2l0aXZpdHk/cj10aGlzLmRvY3VtZW50LnNjcm9sbFRvcCh0aGlzLmRvY3VtZW50LnNjcm9sbFRvcCgpLWkuc2Nyb2xsU3BlZWQpOnRoaXMud2luZG93LmhlaWdodCgpLSh0LnBhZ2VZLXRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCkpPGkuc2Nyb2xsU2Vuc2l0aXZpdHkmJihyPXRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKHRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCkraS5zY3JvbGxTcGVlZCkpLHQucGFnZVgtdGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KCk8aS5zY3JvbGxTZW5zaXRpdml0eT9yPXRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdCh0aGlzLmRvY3VtZW50LnNjcm9sbExlZnQoKS1pLnNjcm9sbFNwZWVkKTp0aGlzLndpbmRvdy53aWR0aCgpLSh0LnBhZ2VYLXRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdCgpKTxpLnNjcm9sbFNlbnNpdGl2aXR5JiYocj10aGlzLmRvY3VtZW50LnNjcm9sbExlZnQodGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KCkraS5zY3JvbGxTcGVlZCkpKSxyIT09ITEmJm4udWkuZGRtYW5hZ2VyJiYhaS5kcm9wQmVoYXZpb3VyJiZuLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0aGlzLHQpKSx0aGlzLnBvc2l0aW9uQWJzPXRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpLHRoaXMub3B0aW9ucy5heGlzJiYieSI9PT10aGlzLm9wdGlvbnMuYXhpc3x8KHRoaXMuaGVscGVyWzBdLnN0eWxlLmxlZnQ9dGhpcy5wb3NpdGlvbi5sZWZ0KyJweCIpLHRoaXMub3B0aW9ucy5heGlzJiYieCI9PT10aGlzLm9wdGlvbnMuYXhpc3x8KHRoaXMuaGVscGVyWzBdLnN0eWxlLnRvcD10aGlzLnBvc2l0aW9uLnRvcCsicHgiKSxlPXRoaXMuaXRlbXMubGVuZ3RoLTE7ZT49MDtlLS0paWYodT10aGlzLml0ZW1zW2VdLGY9dS5pdGVtWzBdLG89dGhpcy5faW50ZXJzZWN0c1dpdGhQb2ludGVyKHUpLG8mJnUuaW5zdGFuY2U9PT10aGlzLmN1cnJlbnRDb250YWluZXImJmYhPT10aGlzLmN1cnJlbnRJdGVtWzBdJiZ0aGlzLnBsYWNlaG9sZGVyWzE9PT1vPyJuZXh0IjoicHJldiJdKClbMF0hPT1mJiYhbi5jb250YWlucyh0aGlzLnBsYWNlaG9sZGVyWzBdLGYpJiYoInNlbWktZHluYW1pYyI9PT10aGlzLm9wdGlvbnMudHlwZT8hbi5jb250YWlucyh0aGlzLmVsZW1lbnRbMF0sZik6ITApKXtpZih0aGlzLmRpcmVjdGlvbj0xPT09bz8iZG93biI6InVwIiwicG9pbnRlciIhPT10aGlzLm9wdGlvbnMudG9sZXJhbmNlJiYhdGhpcy5faW50ZXJzZWN0c1dpdGhTaWRlcyh1KSlicmVhazt0aGlzLl9yZWFycmFuZ2UodCx1KTt0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiLHQsdGhpcy5fdWlIYXNoKCkpO2JyZWFrfXJldHVybiB0aGlzLl9jb250YWN0Q29udGFpbmVycyh0KSxuLnVpLmRkbWFuYWdlciYmbi51aS5kZG1hbmFnZXIuZHJhZyh0aGlzLHQpLHRoaXMuX3RyaWdnZXIoInNvcnQiLHQsdGhpcy5fdWlIYXNoKCkpLHRoaXMubGFzdFBvc2l0aW9uQWJzPXRoaXMucG9zaXRpb25BYnMsITF9LF9tb3VzZVN0b3A6ZnVuY3Rpb24odCxpKXtpZih0KXtpZihuLnVpLmRkbWFuYWdlciYmIXRoaXMub3B0aW9ucy5kcm9wQmVoYXZpb3VyJiZuLnVpLmRkbWFuYWdlci5kcm9wKHRoaXMsdCksdGhpcy5vcHRpb25zLnJldmVydCl7dmFyIGU9dGhpcyxmPXRoaXMucGxhY2Vob2xkZXIub2Zmc2V0KCkscj10aGlzLm9wdGlvbnMuYXhpcyx1PXt9O3ImJiJ4IiE9PXJ8fCh1LmxlZnQ9Zi5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0LXRoaXMubWFyZ2lucy5sZWZ0Kyh0aGlzLm9mZnNldFBhcmVudFswXT09PXRoaXMuZG9jdW1lbnRbMF0uYm9keT8wOnRoaXMub2Zmc2V0UGFyZW50WzBdLnNjcm9sbExlZnQpKTtyJiYieSIhPT1yfHwodS50b3A9Zi50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcC10aGlzLm1hcmdpbnMudG9wKyh0aGlzLm9mZnNldFBhcmVudFswXT09PXRoaXMuZG9jdW1lbnRbMF0uYm9keT8wOnRoaXMub2Zmc2V0UGFyZW50WzBdLnNjcm9sbFRvcCkpO3RoaXMucmV2ZXJ0aW5nPSEwO24odGhpcy5oZWxwZXIpLmFuaW1hdGUodSxwYXJzZUludCh0aGlzLm9wdGlvbnMucmV2ZXJ0LDEwKXx8NTAwLGZ1bmN0aW9uKCl7ZS5fY2xlYXIodCl9KX1lbHNlIHRoaXMuX2NsZWFyKHQsaSk7cmV0dXJuITF9fSxjYW5jZWw6ZnVuY3Rpb24oKXtpZih0aGlzLmRyYWdnaW5nKXt0aGlzLl9tb3VzZVVwKG5ldyBuLkV2ZW50KCJtb3VzZXVwIix7dGFyZ2V0Om51bGx9KSk7Im9yaWdpbmFsIj09PXRoaXMub3B0aW9ucy5oZWxwZXI/KHRoaXMuY3VycmVudEl0ZW0uY3NzKHRoaXMuX3N0b3JlZENTUyksdGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5jdXJyZW50SXRlbSwidWktc29ydGFibGUtaGVscGVyIikpOnRoaXMuY3VycmVudEl0ZW0uc2hvdygpO2Zvcih2YXIgdD10aGlzLmNvbnRhaW5lcnMubGVuZ3RoLTE7dD49MDt0LS0pdGhpcy5jb250YWluZXJzW3RdLl90cmlnZ2VyKCJkZWFjdGl2YXRlIixudWxsLHRoaXMuX3VpSGFzaCh0aGlzKSksdGhpcy5jb250YWluZXJzW3RdLmNvbnRhaW5lckNhY2hlLm92ZXImJih0aGlzLmNvbnRhaW5lcnNbdF0uX3RyaWdnZXIoIm91dCIsbnVsbCx0aGlzLl91aUhhc2godGhpcykpLHRoaXMuY29udGFpbmVyc1t0XS5jb250YWluZXJDYWNoZS5vdmVyPTApfXJldHVybiB0aGlzLnBsYWNlaG9sZGVyJiYodGhpcy5wbGFjZWhvbGRlclswXS5wYXJlbnROb2RlJiZ0aGlzLnBsYWNlaG9sZGVyWzBdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5wbGFjZWhvbGRlclswXSksIm9yaWdpbmFsIiE9PXRoaXMub3B0aW9ucy5oZWxwZXImJnRoaXMuaGVscGVyJiZ0aGlzLmhlbHBlclswXS5wYXJlbnROb2RlJiZ0aGlzLmhlbHBlci5yZW1vdmUoKSxuLmV4dGVuZCh0aGlzLHtoZWxwZXI6bnVsbCxkcmFnZ2luZzohMSxyZXZlcnRpbmc6ITEsX25vRmluYWxTb3J0Om51bGx9KSx0aGlzLmRvbVBvc2l0aW9uLnByZXY/bih0aGlzLmRvbVBvc2l0aW9uLnByZXYpLmFmdGVyKHRoaXMuY3VycmVudEl0ZW0pOm4odGhpcy5kb21Qb3NpdGlvbi5wYXJlbnQpLnByZXBlbmQodGhpcy5jdXJyZW50SXRlbSkpLHRoaXN9LHNlcmlhbGl6ZTpmdW5jdGlvbih0KXt2YXIgcj10aGlzLl9nZXRJdGVtc0FzalF1ZXJ5KHQmJnQuY29ubmVjdGVkKSxpPVtdO3JldHVybiB0PXR8fHt9LG4ocikuZWFjaChmdW5jdGlvbigpe3ZhciByPShuKHQuaXRlbXx8dGhpcykuYXR0cih0LmF0dHJpYnV0ZXx8ImlkIil8fCIiKS5tYXRjaCh0LmV4cHJlc3Npb258fC8oLispW1wtPV9dKC4rKS8pO3ImJmkucHVzaCgodC5rZXl8fHJbMV0rIltdIikrIj0iKyh0LmtleSYmdC5leHByZXNzaW9uP3JbMV06clsyXSkpfSksIWkubGVuZ3RoJiZ0LmtleSYmaS5wdXNoKHQua2V5KyI9IiksaS5qb2luKCImIil9LHRvQXJyYXk6ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5fZ2V0SXRlbXNBc2pRdWVyeSh0JiZ0LmNvbm5lY3RlZCksaT1bXTtyZXR1cm4gdD10fHx7fSxyLmVhY2goZnVuY3Rpb24oKXtpLnB1c2gobih0Lml0ZW18fHRoaXMpLmF0dHIodC5hdHRyaWJ1dGV8fCJpZCIpfHwiIil9KSxpfSxfaW50ZXJzZWN0c1dpdGg6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5wb3NpdGlvbkFicy5sZWZ0LGg9dCt0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLGk9dGhpcy5wb3NpdGlvbkFicy50b3AsYz1pK3RoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LHI9bi5sZWZ0LGY9cituLndpZHRoLHU9bi50b3AsZT11K24uaGVpZ2h0LG89dGhpcy5vZmZzZXQuY2xpY2sudG9wLHM9dGhpcy5vZmZzZXQuY2xpY2subGVmdCxsPSJ4Ij09PXRoaXMub3B0aW9ucy5heGlzfHxpK28+dSYmZT5pK28sYT0ieSI9PT10aGlzLm9wdGlvbnMuYXhpc3x8dCtzPnImJmY+dCtzLHY9bCYmYTtyZXR1cm4icG9pbnRlciI9PT10aGlzLm9wdGlvbnMudG9sZXJhbmNlfHx0aGlzLm9wdGlvbnMuZm9yY2VQb2ludGVyRm9yQ29udGFpbmVyc3x8InBvaW50ZXIiIT09dGhpcy5vcHRpb25zLnRvbGVyYW5jZSYmdGhpcy5oZWxwZXJQcm9wb3J0aW9uc1t0aGlzLmZsb2F0aW5nPyJ3aWR0aCI6ImhlaWdodCJdPm5bdGhpcy5mbG9hdGluZz8id2lkdGgiOiJoZWlnaHQiXT92OnQrdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC8yPnImJmY+aC10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLzImJmkrdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQvMj51JiZlPmMtdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQvMn0sX2ludGVyc2VjdHNXaXRoUG9pbnRlcjpmdW5jdGlvbihuKXt2YXIgdCxpLHI9IngiPT09dGhpcy5vcHRpb25zLmF4aXN8fHRoaXMuX2lzT3ZlckF4aXModGhpcy5wb3NpdGlvbkFicy50b3ArdGhpcy5vZmZzZXQuY2xpY2sudG9wLG4udG9wLG4uaGVpZ2h0KSx1PSJ5Ij09PXRoaXMub3B0aW9ucy5heGlzfHx0aGlzLl9pc092ZXJBeGlzKHRoaXMucG9zaXRpb25BYnMubGVmdCt0aGlzLm9mZnNldC5jbGljay5sZWZ0LG4ubGVmdCxuLndpZHRoKSxmPXImJnU7cmV0dXJuIGY/KHQ9dGhpcy5fZ2V0RHJhZ1ZlcnRpY2FsRGlyZWN0aW9uKCksaT10aGlzLl9nZXREcmFnSG9yaXpvbnRhbERpcmVjdGlvbigpLHRoaXMuZmxvYXRpbmc/InJpZ2h0Ij09PWl8fCJkb3duIj09PXQ/MjoxOnQmJigiZG93biI9PT10PzI6MSkpOiExfSxfaW50ZXJzZWN0c1dpdGhTaWRlczpmdW5jdGlvbihuKXt2YXIgcj10aGlzLl9pc092ZXJBeGlzKHRoaXMucG9zaXRpb25BYnMudG9wK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCxuLnRvcCtuLmhlaWdodC8yLG4uaGVpZ2h0KSx1PXRoaXMuX2lzT3ZlckF4aXModGhpcy5wb3NpdGlvbkFicy5sZWZ0K3RoaXMub2Zmc2V0LmNsaWNrLmxlZnQsbi5sZWZ0K24ud2lkdGgvMixuLndpZHRoKSx0PXRoaXMuX2dldERyYWdWZXJ0aWNhbERpcmVjdGlvbigpLGk9dGhpcy5fZ2V0RHJhZ0hvcml6b250YWxEaXJlY3Rpb24oKTtyZXR1cm4gdGhpcy5mbG9hdGluZyYmaT8icmlnaHQiPT09aSYmdXx8ImxlZnQiPT09aSYmIXU6dCYmKCJkb3duIj09PXQmJnJ8fCJ1cCI9PT10JiYhcil9LF9nZXREcmFnVmVydGljYWxEaXJlY3Rpb246ZnVuY3Rpb24oKXt2YXIgbj10aGlzLnBvc2l0aW9uQWJzLnRvcC10aGlzLmxhc3RQb3NpdGlvbkFicy50b3A7cmV0dXJuIDAhPT1uJiYobj4wPyJkb3duIjoidXAiKX0sX2dldERyYWdIb3Jpem9udGFsRGlyZWN0aW9uOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5wb3NpdGlvbkFicy5sZWZ0LXRoaXMubGFzdFBvc2l0aW9uQWJzLmxlZnQ7cmV0dXJuIDAhPT1uJiYobj4wPyJyaWdodCI6ImxlZnQiKX0scmVmcmVzaDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fcmVmcmVzaEl0ZW1zKG4pLHRoaXMuX3NldEhhbmRsZUNsYXNzTmFtZSgpLHRoaXMucmVmcmVzaFBvc2l0aW9ucygpLHRoaXN9LF9jb25uZWN0V2l0aDpmdW5jdGlvbigpe3ZhciBuPXRoaXMub3B0aW9ucztyZXR1cm4gbi5jb25uZWN0V2l0aC5jb25zdHJ1Y3Rvcj09PVN0cmluZz9bbi5jb25uZWN0V2l0aF06bi5jb25uZWN0V2l0aH0sX2dldEl0ZW1zQXNqUXVlcnk6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gaCgpe3MucHVzaCh0aGlzKX12YXIgcix1LGUsaSxzPVtdLGY9W10sbz10aGlzLl9jb25uZWN0V2l0aCgpO2lmKG8mJnQpZm9yKHI9by5sZW5ndGgtMTtyPj0wO3ItLSlmb3IoZT1uKG9bcl0sdGhpcy5kb2N1bWVudFswXSksdT1lLmxlbmd0aC0xO3U+PTA7dS0tKWk9bi5kYXRhKGVbdV0sdGhpcy53aWRnZXRGdWxsTmFtZSksaSYmaSE9PXRoaXMmJiFpLm9wdGlvbnMuZGlzYWJsZWQmJmYucHVzaChbbi5pc0Z1bmN0aW9uKGkub3B0aW9ucy5pdGVtcyk/aS5vcHRpb25zLml0ZW1zLmNhbGwoaS5lbGVtZW50KTpuKGkub3B0aW9ucy5pdGVtcyxpLmVsZW1lbnQpLm5vdCgiLnVpLXNvcnRhYmxlLWhlbHBlciIpLm5vdCgiLnVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyIiksaV0pO2ZvcihmLnB1c2goW24uaXNGdW5jdGlvbih0aGlzLm9wdGlvbnMuaXRlbXMpP3RoaXMub3B0aW9ucy5pdGVtcy5jYWxsKHRoaXMuZWxlbWVudCxudWxsLHtvcHRpb25zOnRoaXMub3B0aW9ucyxpdGVtOnRoaXMuY3VycmVudEl0ZW19KTpuKHRoaXMub3B0aW9ucy5pdGVtcyx0aGlzLmVsZW1lbnQpLm5vdCgiLnVpLXNvcnRhYmxlLWhlbHBlciIpLm5vdCgiLnVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyIiksdGhpc10pLHI9Zi5sZW5ndGgtMTtyPj0wO3ItLSlmW3JdWzBdLmVhY2goaCk7cmV0dXJuIG4ocyl9LF9yZW1vdmVDdXJyZW50c0Zyb21JdGVtczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuY3VycmVudEl0ZW0uZmluZCgiOmRhdGEoIit0aGlzLndpZGdldE5hbWUrIi1pdGVtKSIpO3RoaXMuaXRlbXM9bi5ncmVwKHRoaXMuaXRlbXMsZnVuY3Rpb24obil7Zm9yKHZhciBpPTA7dC5sZW5ndGg+aTtpKyspaWYodFtpXT09PW4uaXRlbVswXSlyZXR1cm4hMTtyZXR1cm4hMH0pfSxfcmVmcmVzaEl0ZW1zOmZ1bmN0aW9uKHQpe3RoaXMuaXRlbXM9W107dGhpcy5jb250YWluZXJzPVt0aGlzXTt2YXIgcix1LGUsaSxvLHMsaCxsLGE9dGhpcy5pdGVtcyxmPVtbbi5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy5pdGVtcyk/dGhpcy5vcHRpb25zLml0ZW1zLmNhbGwodGhpcy5lbGVtZW50WzBdLHQse2l0ZW06dGhpcy5jdXJyZW50SXRlbX0pOm4odGhpcy5vcHRpb25zLml0ZW1zLHRoaXMuZWxlbWVudCksdGhpc11dLGM9dGhpcy5fY29ubmVjdFdpdGgoKTtpZihjJiZ0aGlzLnJlYWR5KWZvcihyPWMubGVuZ3RoLTE7cj49MDtyLS0pZm9yKGU9bihjW3JdLHRoaXMuZG9jdW1lbnRbMF0pLHU9ZS5sZW5ndGgtMTt1Pj0wO3UtLSlpPW4uZGF0YShlW3VdLHRoaXMud2lkZ2V0RnVsbE5hbWUpLGkmJmkhPT10aGlzJiYhaS5vcHRpb25zLmRpc2FibGVkJiYoZi5wdXNoKFtuLmlzRnVuY3Rpb24oaS5vcHRpb25zLml0ZW1zKT9pLm9wdGlvbnMuaXRlbXMuY2FsbChpLmVsZW1lbnRbMF0sdCx7aXRlbTp0aGlzLmN1cnJlbnRJdGVtfSk6bihpLm9wdGlvbnMuaXRlbXMsaS5lbGVtZW50KSxpXSksdGhpcy5jb250YWluZXJzLnB1c2goaSkpO2ZvcihyPWYubGVuZ3RoLTE7cj49MDtyLS0pZm9yKG89ZltyXVsxXSxzPWZbcl1bMF0sdT0wLGw9cy5sZW5ndGg7bD51O3UrKyloPW4oc1t1XSksaC5kYXRhKHRoaXMud2lkZ2V0TmFtZSsiLWl0ZW0iLG8pLGEucHVzaCh7aXRlbTpoLGluc3RhbmNlOm8sd2lkdGg6MCxoZWlnaHQ6MCxsZWZ0OjAsdG9wOjB9KX0scmVmcmVzaFBvc2l0aW9uczpmdW5jdGlvbih0KXt0aGlzLmZsb2F0aW5nPXRoaXMuaXRlbXMubGVuZ3RoPyJ4Ij09PXRoaXMub3B0aW9ucy5heGlzfHx0aGlzLl9pc0Zsb2F0aW5nKHRoaXMuaXRlbXNbMF0uaXRlbSk6ITE7dGhpcy5vZmZzZXRQYXJlbnQmJnRoaXMuaGVscGVyJiYodGhpcy5vZmZzZXQucGFyZW50PXRoaXMuX2dldFBhcmVudE9mZnNldCgpKTtmb3IodmFyIHIsZix1LGk9dGhpcy5pdGVtcy5sZW5ndGgtMTtpPj0wO2ktLSlyPXRoaXMuaXRlbXNbaV0sci5pbnN0YW5jZSE9PXRoaXMuY3VycmVudENvbnRhaW5lciYmdGhpcy5jdXJyZW50Q29udGFpbmVyJiZyLml0ZW1bMF0hPT10aGlzLmN1cnJlbnRJdGVtWzBdfHwoZj10aGlzLm9wdGlvbnMudG9sZXJhbmNlRWxlbWVudD9uKHRoaXMub3B0aW9ucy50b2xlcmFuY2VFbGVtZW50LHIuaXRlbSk6ci5pdGVtLHR8fChyLndpZHRoPWYub3V0ZXJXaWR0aCgpLHIuaGVpZ2h0PWYub3V0ZXJIZWlnaHQoKSksdT1mLm9mZnNldCgpLHIubGVmdD11LmxlZnQsci50b3A9dS50b3ApO2lmKHRoaXMub3B0aW9ucy5jdXN0b20mJnRoaXMub3B0aW9ucy5jdXN0b20ucmVmcmVzaENvbnRhaW5lcnMpdGhpcy5vcHRpb25zLmN1c3RvbS5yZWZyZXNoQ29udGFpbmVycy5jYWxsKHRoaXMpO2Vsc2UgZm9yKGk9dGhpcy5jb250YWluZXJzLmxlbmd0aC0xO2k+PTA7aS0tKXU9dGhpcy5jb250YWluZXJzW2ldLmVsZW1lbnQub2Zmc2V0KCksdGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLmxlZnQ9dS5sZWZ0LHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS50b3A9dS50b3AsdGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLndpZHRoPXRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50Lm91dGVyV2lkdGgoKSx0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUuaGVpZ2h0PXRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50Lm91dGVySGVpZ2h0KCk7cmV0dXJuIHRoaXN9LF9jcmVhdGVQbGFjZWhvbGRlcjpmdW5jdGlvbih0KXt0PXR8fHRoaXM7dmFyIHIsaT10Lm9wdGlvbnM7aS5wbGFjZWhvbGRlciYmaS5wbGFjZWhvbGRlci5jb25zdHJ1Y3RvciE9PVN0cmluZ3x8KHI9aS5wbGFjZWhvbGRlcixpLnBsYWNlaG9sZGVyPXtlbGVtZW50OmZ1bmN0aW9uKCl7dmFyIHU9dC5jdXJyZW50SXRlbVswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGk9bigiPCIrdSsiPiIsdC5kb2N1bWVudFswXSk7cmV0dXJuIHQuX2FkZENsYXNzKGksInVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyIixyfHx0LmN1cnJlbnRJdGVtWzBdLmNsYXNzTmFtZSkuX3JlbW92ZUNsYXNzKGksInVpLXNvcnRhYmxlLWhlbHBlciIpLCJ0Ym9keSI9PT11P3QuX2NyZWF0ZVRyUGxhY2Vob2xkZXIodC5jdXJyZW50SXRlbS5maW5kKCJ0ciIpLmVxKDApLG4oIjx0cj4iLHQuZG9jdW1lbnRbMF0pLmFwcGVuZFRvKGkpKToidHIiPT09dT90Ll9jcmVhdGVUclBsYWNlaG9sZGVyKHQuY3VycmVudEl0ZW0saSk6ImltZyI9PT11JiZpLmF0dHIoInNyYyIsdC5jdXJyZW50SXRlbS5hdHRyKCJzcmMiKSkscnx8aS5jc3MoInZpc2liaWxpdHkiLCJoaWRkZW4iKSxpfSx1cGRhdGU6ZnVuY3Rpb24obix1KXsoIXJ8fGkuZm9yY2VQbGFjZWhvbGRlclNpemUpJiYodS5oZWlnaHQoKXx8dS5oZWlnaHQodC5jdXJyZW50SXRlbS5pbm5lckhlaWdodCgpLXBhcnNlSW50KHQuY3VycmVudEl0ZW0uY3NzKCJwYWRkaW5nVG9wIil8fDAsMTApLXBhcnNlSW50KHQuY3VycmVudEl0ZW0uY3NzKCJwYWRkaW5nQm90dG9tIil8fDAsMTApKSx1LndpZHRoKCl8fHUud2lkdGgodC5jdXJyZW50SXRlbS5pbm5lcldpZHRoKCktcGFyc2VJbnQodC5jdXJyZW50SXRlbS5jc3MoInBhZGRpbmdMZWZ0Iil8fDAsMTApLXBhcnNlSW50KHQuY3VycmVudEl0ZW0uY3NzKCJwYWRkaW5nUmlnaHQiKXx8MCwxMCkpKX19KTt0LnBsYWNlaG9sZGVyPW4oaS5wbGFjZWhvbGRlci5lbGVtZW50LmNhbGwodC5lbGVtZW50LHQuY3VycmVudEl0ZW0pKTt0LmN1cnJlbnRJdGVtLmFmdGVyKHQucGxhY2Vob2xkZXIpO2kucGxhY2Vob2xkZXIudXBkYXRlKHQsdC5wbGFjZWhvbGRlcil9LF9jcmVhdGVUclBsYWNlaG9sZGVyOmZ1bmN0aW9uKHQsaSl7dmFyIHI9dGhpczt0LmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbigpe24oIjx0ZD4mIzE2MDs8XC90ZD4iLHIuZG9jdW1lbnRbMF0pLmF0dHIoImNvbHNwYW4iLG4odGhpcykuYXR0cigiY29sc3BhbiIpfHwxKS5hcHBlbmRUbyhpKX0pfSxfY29udGFjdENvbnRhaW5lcnM6ZnVuY3Rpb24odCl7Zm9yKHZhciB1LGMsZixhLHYsbyxsLHMsaCxlPW51bGwsaT1udWxsLHI9dGhpcy5jb250YWluZXJzLmxlbmd0aC0xO3I+PTA7ci0tKWlmKCFuLmNvbnRhaW5zKHRoaXMuY3VycmVudEl0ZW1bMF0sdGhpcy5jb250YWluZXJzW3JdLmVsZW1lbnRbMF0pKWlmKHRoaXMuX2ludGVyc2VjdHNXaXRoKHRoaXMuY29udGFpbmVyc1tyXS5jb250YWluZXJDYWNoZSkpe2lmKGUmJm4uY29udGFpbnModGhpcy5jb250YWluZXJzW3JdLmVsZW1lbnRbMF0sZS5lbGVtZW50WzBdKSljb250aW51ZTtlPXRoaXMuY29udGFpbmVyc1tyXTtpPXJ9ZWxzZSB0aGlzLmNvbnRhaW5lcnNbcl0uY29udGFpbmVyQ2FjaGUub3ZlciYmKHRoaXMuY29udGFpbmVyc1tyXS5fdHJpZ2dlcigib3V0Iix0LHRoaXMuX3VpSGFzaCh0aGlzKSksdGhpcy5jb250YWluZXJzW3JdLmNvbnRhaW5lckNhY2hlLm92ZXI9MCk7aWYoZSlpZigxPT09dGhpcy5jb250YWluZXJzLmxlbmd0aCl0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUub3Zlcnx8KHRoaXMuY29udGFpbmVyc1tpXS5fdHJpZ2dlcigib3ZlciIsdCx0aGlzLl91aUhhc2godGhpcykpLHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS5vdmVyPTEpO2Vsc2V7Zm9yKGM9MWU0LGY9bnVsbCxzPWUuZmxvYXRpbmd8fHRoaXMuX2lzRmxvYXRpbmcodGhpcy5jdXJyZW50SXRlbSksYT1zPyJsZWZ0IjoidG9wIix2PXM/IndpZHRoIjoiaGVpZ2h0IixoPXM/InBhZ2VYIjoicGFnZVkiLHU9dGhpcy5pdGVtcy5sZW5ndGgtMTt1Pj0wO3UtLSluLmNvbnRhaW5zKHRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50WzBdLHRoaXMuaXRlbXNbdV0uaXRlbVswXSkmJnRoaXMuaXRlbXNbdV0uaXRlbVswXSE9PXRoaXMuY3VycmVudEl0ZW1bMF0mJihvPXRoaXMuaXRlbXNbdV0uaXRlbS5vZmZzZXQoKVthXSxsPSExLHRbaF0tbz50aGlzLml0ZW1zW3VdW3ZdLzImJihsPSEwKSxjPk1hdGguYWJzKHRbaF0tbykmJihjPU1hdGguYWJzKHRbaF0tbyksZj10aGlzLml0ZW1zW3VdLHRoaXMuZGlyZWN0aW9uPWw/InVwIjoiZG93biIpKTtpZighZiYmIXRoaXMub3B0aW9ucy5kcm9wT25FbXB0eSlyZXR1cm47aWYodGhpcy5jdXJyZW50Q29udGFpbmVyPT09dGhpcy5jb250YWluZXJzW2ldKXJldHVybiB0aGlzLmN1cnJlbnRDb250YWluZXIuY29udGFpbmVyQ2FjaGUub3Zlcnx8KHRoaXMuY29udGFpbmVyc1tpXS5fdHJpZ2dlcigib3ZlciIsdCx0aGlzLl91aUhhc2goKSksdGhpcy5jdXJyZW50Q29udGFpbmVyLmNvbnRhaW5lckNhY2hlLm92ZXI9MSksdm9pZCAwO2Y/dGhpcy5fcmVhcnJhbmdlKHQsZixudWxsLCEwKTp0aGlzLl9yZWFycmFuZ2UodCxudWxsLHRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50LCEwKTt0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiLHQsdGhpcy5fdWlIYXNoKCkpO3RoaXMuY29udGFpbmVyc1tpXS5fdHJpZ2dlcigiY2hhbmdlIix0LHRoaXMuX3VpSGFzaCh0aGlzKSk7dGhpcy5jdXJyZW50Q29udGFpbmVyPXRoaXMuY29udGFpbmVyc1tpXTt0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXIudXBkYXRlKHRoaXMuY3VycmVudENvbnRhaW5lcix0aGlzLnBsYWNlaG9sZGVyKTt0aGlzLmNvbnRhaW5lcnNbaV0uX3RyaWdnZXIoIm92ZXIiLHQsdGhpcy5fdWlIYXNoKHRoaXMpKTt0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUub3Zlcj0xfX0sX2NyZWF0ZUhlbHBlcjpmdW5jdGlvbih0KXt2YXIgcj10aGlzLm9wdGlvbnMsaT1uLmlzRnVuY3Rpb24oci5oZWxwZXIpP24oci5oZWxwZXIuYXBwbHkodGhpcy5lbGVtZW50WzBdLFt0LHRoaXMuY3VycmVudEl0ZW1dKSk6ImNsb25lIj09PXIuaGVscGVyP3RoaXMuY3VycmVudEl0ZW0uY2xvbmUoKTp0aGlzLmN1cnJlbnRJdGVtO3JldHVybiBpLnBhcmVudHMoImJvZHkiKS5sZW5ndGh8fG4oInBhcmVudCIhPT1yLmFwcGVuZFRvP3IuYXBwZW5kVG86dGhpcy5jdXJyZW50SXRlbVswXS5wYXJlbnROb2RlKVswXS5hcHBlbmRDaGlsZChpWzBdKSxpWzBdPT09dGhpcy5jdXJyZW50SXRlbVswXSYmKHRoaXMuX3N0b3JlZENTUz17d2lkdGg6dGhpcy5jdXJyZW50SXRlbVswXS5zdHlsZS53aWR0aCxoZWlnaHQ6dGhpcy5jdXJyZW50SXRlbVswXS5zdHlsZS5oZWlnaHQscG9zaXRpb246dGhpcy5jdXJyZW50SXRlbS5jc3MoInBvc2l0aW9uIiksdG9wOnRoaXMuY3VycmVudEl0ZW0uY3NzKCJ0b3AiKSxsZWZ0OnRoaXMuY3VycmVudEl0ZW0uY3NzKCJsZWZ0Iil9KSwoIWlbMF0uc3R5bGUud2lkdGh8fHIuZm9yY2VIZWxwZXJTaXplKSYmaS53aWR0aCh0aGlzLmN1cnJlbnRJdGVtLndpZHRoKCkpLCghaVswXS5zdHlsZS5oZWlnaHR8fHIuZm9yY2VIZWxwZXJTaXplKSYmaS5oZWlnaHQodGhpcy5jdXJyZW50SXRlbS5oZWlnaHQoKSksaX0sX2FkanVzdE9mZnNldEZyb21IZWxwZXI6ZnVuY3Rpb24odCl7InN0cmluZyI9PXR5cGVvZiB0JiYodD10LnNwbGl0KCIgIikpO24uaXNBcnJheSh0KSYmKHQ9e2xlZnQ6K3RbMF0sdG9wOit0WzFdfHwwfSk7ImxlZnQiaW4gdCYmKHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ9dC5sZWZ0K3RoaXMubWFyZ2lucy5sZWZ0KTsicmlnaHQiaW4gdCYmKHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ9dGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10LnJpZ2h0K3RoaXMubWFyZ2lucy5sZWZ0KTsidG9wImluIHQmJih0aGlzLm9mZnNldC5jbGljay50b3A9dC50b3ArdGhpcy5tYXJnaW5zLnRvcCk7ImJvdHRvbSJpbiB0JiYodGhpcy5vZmZzZXQuY2xpY2sudG9wPXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXQuYm90dG9tK3RoaXMubWFyZ2lucy50b3ApfSxfZ2V0UGFyZW50T2Zmc2V0OmZ1bmN0aW9uKCl7dGhpcy5vZmZzZXRQYXJlbnQ9dGhpcy5oZWxwZXIub2Zmc2V0UGFyZW50KCk7dmFyIHQ9dGhpcy5vZmZzZXRQYXJlbnQub2Zmc2V0KCk7cmV0dXJuImFic29sdXRlIj09PXRoaXMuY3NzUG9zaXRpb24mJnRoaXMuc2Nyb2xsUGFyZW50WzBdIT09dGhpcy5kb2N1bWVudFswXSYmbi5jb250YWlucyh0aGlzLnNjcm9sbFBhcmVudFswXSx0aGlzLm9mZnNldFBhcmVudFswXSkmJih0LmxlZnQrPXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKSx0LnRvcCs9dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCkpLCh0aGlzLm9mZnNldFBhcmVudFswXT09PXRoaXMuZG9jdW1lbnRbMF0uYm9keXx8dGhpcy5vZmZzZXRQYXJlbnRbMF0udGFnTmFtZSYmImh0bWwiPT09dGhpcy5vZmZzZXRQYXJlbnRbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZuLnVpLmllKSYmKHQ9e3RvcDowLGxlZnQ6MH0pLHt0b3A6dC50b3ArKHBhcnNlSW50KHRoaXMub2Zmc2V0UGFyZW50LmNzcygiYm9yZGVyVG9wV2lkdGgiKSwxMCl8fDApLGxlZnQ6dC5sZWZ0KyhwYXJzZUludCh0aGlzLm9mZnNldFBhcmVudC5jc3MoImJvcmRlckxlZnRXaWR0aCIpLDEwKXx8MCl9fSxfZ2V0UmVsYXRpdmVPZmZzZXQ6ZnVuY3Rpb24oKXtpZigicmVsYXRpdmUiPT09dGhpcy5jc3NQb3NpdGlvbil7dmFyIG49dGhpcy5jdXJyZW50SXRlbS5wb3NpdGlvbigpO3JldHVybnt0b3A6bi50b3AtKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcygidG9wIiksMTApfHwwKSt0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSxsZWZ0Om4ubGVmdC0ocGFyc2VJbnQodGhpcy5oZWxwZXIuY3NzKCJsZWZ0IiksMTApfHwwKSt0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCl9fXJldHVybnt0b3A6MCxsZWZ0OjB9fSxfY2FjaGVNYXJnaW5zOmZ1bmN0aW9uKCl7dGhpcy5tYXJnaW5zPXtsZWZ0OnBhcnNlSW50KHRoaXMuY3VycmVudEl0ZW0uY3NzKCJtYXJnaW5MZWZ0IiksMTApfHwwLHRvcDpwYXJzZUludCh0aGlzLmN1cnJlbnRJdGVtLmNzcygibWFyZ2luVG9wIiksMTApfHwwfX0sX2NhY2hlSGVscGVyUHJvcG9ydGlvbnM6ZnVuY3Rpb24oKXt0aGlzLmhlbHBlclByb3BvcnRpb25zPXt3aWR0aDp0aGlzLmhlbHBlci5vdXRlcldpZHRoKCksaGVpZ2h0OnRoaXMuaGVscGVyLm91dGVySGVpZ2h0KCl9fSxfc2V0Q29udGFpbm1lbnQ6ZnVuY3Rpb24oKXt2YXIgdCxyLHUsaT10aGlzLm9wdGlvbnM7InBhcmVudCI9PT1pLmNvbnRhaW5tZW50JiYoaS5jb250YWlubWVudD10aGlzLmhlbHBlclswXS5wYXJlbnROb2RlKTsoImRvY3VtZW50Ij09PWkuY29udGFpbm1lbnR8fCJ3aW5kb3ciPT09aS5jb250YWlubWVudCkmJih0aGlzLmNvbnRhaW5tZW50PVswLXRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQtdGhpcy5vZmZzZXQucGFyZW50LmxlZnQsMC10aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcCwiZG9jdW1lbnQiPT09aS5jb250YWlubWVudD90aGlzLmRvY3VtZW50LndpZHRoKCk6dGhpcy53aW5kb3cud2lkdGgoKS10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXRoaXMubWFyZ2lucy5sZWZ0LCgiZG9jdW1lbnQiPT09aS5jb250YWlubWVudD90aGlzLmRvY3VtZW50LmhlaWdodCgpfHxkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0OnRoaXMud2luZG93LmhlaWdodCgpfHx0aGlzLmRvY3VtZW50WzBdLmJvZHkucGFyZW50Tm9kZS5zY3JvbGxIZWlnaHQpLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3BdKTsvXihkb2N1bWVudHx3aW5kb3d8cGFyZW50KSQvLnRlc3QoaS5jb250YWlubWVudCl8fCh0PW4oaS5jb250YWlubWVudClbMF0scj1uKGkuY29udGFpbm1lbnQpLm9mZnNldCgpLHU9ImhpZGRlbiIhPT1uKHQpLmNzcygib3ZlcmZsb3ciKSx0aGlzLmNvbnRhaW5tZW50PVtyLmxlZnQrKHBhcnNlSW50KG4odCkuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKSwxMCl8fDApKyhwYXJzZUludChuKHQpLmNzcygicGFkZGluZ0xlZnQiKSwxMCl8fDApLXRoaXMubWFyZ2lucy5sZWZ0LHIudG9wKyhwYXJzZUludChuKHQpLmNzcygiYm9yZGVyVG9wV2lkdGgiKSwxMCl8fDApKyhwYXJzZUludChuKHQpLmNzcygicGFkZGluZ1RvcCIpLDEwKXx8MCktdGhpcy5tYXJnaW5zLnRvcCxyLmxlZnQrKHU/TWF0aC5tYXgodC5zY3JvbGxXaWR0aCx0Lm9mZnNldFdpZHRoKTp0Lm9mZnNldFdpZHRoKS0ocGFyc2VJbnQobih0KS5jc3MoImJvcmRlckxlZnRXaWR0aCIpLDEwKXx8MCktKHBhcnNlSW50KG4odCkuY3NzKCJwYWRkaW5nUmlnaHQiKSwxMCl8fDApLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtdGhpcy5tYXJnaW5zLmxlZnQsci50b3ArKHU/TWF0aC5tYXgodC5zY3JvbGxIZWlnaHQsdC5vZmZzZXRIZWlnaHQpOnQub2Zmc2V0SGVpZ2h0KS0ocGFyc2VJbnQobih0KS5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQobih0KS5jc3MoInBhZGRpbmdCb3R0b20iKSwxMCl8fDApLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3BdKX0sX2NvbnZlcnRQb3NpdGlvblRvOmZ1bmN0aW9uKHQsaSl7aXx8KGk9dGhpcy5wb3NpdGlvbik7dmFyIHI9ImFic29sdXRlIj09PXQ/MTotMSx1PSJhYnNvbHV0ZSIhPT10aGlzLmNzc1Bvc2l0aW9ufHx0aGlzLnNjcm9sbFBhcmVudFswXSE9PXRoaXMuZG9jdW1lbnRbMF0mJm4uY29udGFpbnModGhpcy5zY3JvbGxQYXJlbnRbMF0sdGhpcy5vZmZzZXRQYXJlbnRbMF0pP3RoaXMuc2Nyb2xsUGFyZW50OnRoaXMub2Zmc2V0UGFyZW50LGY9LyhodG1sfGJvZHkpL2kudGVzdCh1WzBdLnRhZ05hbWUpO3JldHVybnt0b3A6aS50b3ArdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wKnIrdGhpcy5vZmZzZXQucGFyZW50LnRvcCpyLSgiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCk6Zj8wOnUuc2Nyb2xsVG9wKCkpKnIsbGVmdDppLmxlZnQrdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdCpyK3RoaXMub2Zmc2V0LnBhcmVudC5sZWZ0KnItKCJmaXhlZCI9PT10aGlzLmNzc1Bvc2l0aW9uPy10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCk6Zj8wOnUuc2Nyb2xsTGVmdCgpKSpyfX0sX2dlbmVyYXRlUG9zaXRpb246ZnVuY3Rpb24odCl7dmFyIHIsdSxpPXRoaXMub3B0aW9ucyxmPXQucGFnZVgsZT10LnBhZ2VZLG89ImFic29sdXRlIiE9PXRoaXMuY3NzUG9zaXRpb258fHRoaXMuc2Nyb2xsUGFyZW50WzBdIT09dGhpcy5kb2N1bWVudFswXSYmbi5jb250YWlucyh0aGlzLnNjcm9sbFBhcmVudFswXSx0aGlzLm9mZnNldFBhcmVudFswXSk/dGhpcy5zY3JvbGxQYXJlbnQ6dGhpcy5vZmZzZXRQYXJlbnQscz0vKGh0bWx8Ym9keSkvaS50ZXN0KG9bMF0udGFnTmFtZSk7cmV0dXJuInJlbGF0aXZlIiE9PXRoaXMuY3NzUG9zaXRpb258fHRoaXMuc2Nyb2xsUGFyZW50WzBdIT09dGhpcy5kb2N1bWVudFswXSYmdGhpcy5zY3JvbGxQYXJlbnRbMF0hPT10aGlzLm9mZnNldFBhcmVudFswXXx8KHRoaXMub2Zmc2V0LnJlbGF0aXZlPXRoaXMuX2dldFJlbGF0aXZlT2Zmc2V0KCkpLHRoaXMub3JpZ2luYWxQb3NpdGlvbiYmKHRoaXMuY29udGFpbm1lbnQmJih0LnBhZ2VYLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ8dGhpcy5jb250YWlubWVudFswXSYmKGY9dGhpcy5jb250YWlubWVudFswXSt0aGlzLm9mZnNldC5jbGljay5sZWZ0KSx0LnBhZ2VZLXRoaXMub2Zmc2V0LmNsaWNrLnRvcDx0aGlzLmNvbnRhaW5tZW50WzFdJiYoZT10aGlzLmNvbnRhaW5tZW50WzFdK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCksdC5wYWdlWC10aGlzLm9mZnNldC5jbGljay5sZWZ0PnRoaXMuY29udGFpbm1lbnRbMl0mJihmPXRoaXMuY29udGFpbm1lbnRbMl0rdGhpcy5vZmZzZXQuY2xpY2subGVmdCksdC5wYWdlWS10aGlzLm9mZnNldC5jbGljay50b3A+dGhpcy5jb250YWlubWVudFszXSYmKGU9dGhpcy5jb250YWlubWVudFszXSt0aGlzLm9mZnNldC5jbGljay50b3ApKSxpLmdyaWQmJihyPXRoaXMub3JpZ2luYWxQYWdlWStNYXRoLnJvdW5kKChlLXRoaXMub3JpZ2luYWxQYWdlWSkvaS5ncmlkWzFdKSppLmdyaWRbMV0sZT10aGlzLmNvbnRhaW5tZW50P3ItdGhpcy5vZmZzZXQuY2xpY2sudG9wPj10aGlzLmNvbnRhaW5tZW50WzFdJiZyLXRoaXMub2Zmc2V0LmNsaWNrLnRvcDw9dGhpcy5jb250YWlubWVudFszXT9yOnItdGhpcy5vZmZzZXQuY2xpY2sudG9wPj10aGlzLmNvbnRhaW5tZW50WzFdP3ItaS5ncmlkWzFdOnIraS5ncmlkWzFdOnIsdT10aGlzLm9yaWdpbmFsUGFnZVgrTWF0aC5yb3VuZCgoZi10aGlzLm9yaWdpbmFsUGFnZVgpL2kuZ3JpZFswXSkqaS5ncmlkWzBdLGY9dGhpcy5jb250YWlubWVudD91LXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ+PXRoaXMuY29udGFpbm1lbnRbMF0mJnUtdGhpcy5vZmZzZXQuY2xpY2subGVmdDw9dGhpcy5jb250YWlubWVudFsyXT91OnUtdGhpcy5vZmZzZXQuY2xpY2subGVmdD49dGhpcy5jb250YWlubWVudFswXT91LWkuZ3JpZFswXTp1K2kuZ3JpZFswXTp1KSkse3RvcDplLXRoaXMub2Zmc2V0LmNsaWNrLnRvcC10aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcCsoImZpeGVkIj09PXRoaXMuY3NzUG9zaXRpb24/LXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpOnM/MDpvLnNjcm9sbFRvcCgpKSxsZWZ0OmYtdGhpcy5vZmZzZXQuY2xpY2subGVmdC10aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0KygiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpOnM/MDpvLnNjcm9sbExlZnQoKSl9fSxfcmVhcnJhbmdlOmZ1bmN0aW9uKG4sdCxpLHIpe2k/aVswXS5hcHBlbmRDaGlsZCh0aGlzLnBsYWNlaG9sZGVyWzBdKTp0Lml0ZW1bMF0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5wbGFjZWhvbGRlclswXSwiZG93biI9PT10aGlzLmRpcmVjdGlvbj90Lml0ZW1bMF06dC5pdGVtWzBdLm5leHRTaWJsaW5nKTt0aGlzLmNvdW50ZXI9dGhpcy5jb3VudGVyPysrdGhpcy5jb3VudGVyOjE7dmFyIHU9dGhpcy5jb3VudGVyO3RoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dT09PXRoaXMuY291bnRlciYmdGhpcy5yZWZyZXNoUG9zaXRpb25zKCFyKX0pfSxfY2xlYXI6ZnVuY3Rpb24obix0KXtmdW5jdGlvbiB1KG4sdCxpKXtyZXR1cm4gZnVuY3Rpb24ocil7aS5fdHJpZ2dlcihuLHIsdC5fdWlIYXNoKHQpKX19dGhpcy5yZXZlcnRpbmc9ITE7dmFyIGkscj1bXTtpZighdGhpcy5fbm9GaW5hbFNvcnQmJnRoaXMuY3VycmVudEl0ZW0ucGFyZW50KCkubGVuZ3RoJiZ0aGlzLnBsYWNlaG9sZGVyLmJlZm9yZSh0aGlzLmN1cnJlbnRJdGVtKSx0aGlzLl9ub0ZpbmFsU29ydD1udWxsLHRoaXMuaGVscGVyWzBdPT09dGhpcy5jdXJyZW50SXRlbVswXSl7Zm9yKGkgaW4gdGhpcy5fc3RvcmVkQ1NTKSgiYXV0byI9PT10aGlzLl9zdG9yZWRDU1NbaV18fCJzdGF0aWMiPT09dGhpcy5fc3RvcmVkQ1NTW2ldKSYmKHRoaXMuX3N0b3JlZENTU1tpXT0iIik7dGhpcy5jdXJyZW50SXRlbS5jc3ModGhpcy5fc3RvcmVkQ1NTKTt0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmN1cnJlbnRJdGVtLCJ1aS1zb3J0YWJsZS1oZWxwZXIiKX1lbHNlIHRoaXMuY3VycmVudEl0ZW0uc2hvdygpO2Zvcih0aGlzLmZyb21PdXRzaWRlJiYhdCYmci5wdXNoKGZ1bmN0aW9uKG4pe3RoaXMuX3RyaWdnZXIoInJlY2VpdmUiLG4sdGhpcy5fdWlIYXNoKHRoaXMuZnJvbU91dHNpZGUpKX0pLCF0aGlzLmZyb21PdXRzaWRlJiZ0aGlzLmRvbVBvc2l0aW9uLnByZXY9PT10aGlzLmN1cnJlbnRJdGVtLnByZXYoKS5ub3QoIi51aS1zb3J0YWJsZS1oZWxwZXIiKVswXSYmdGhpcy5kb21Qb3NpdGlvbi5wYXJlbnQ9PT10aGlzLmN1cnJlbnRJdGVtLnBhcmVudCgpWzBdfHx0fHxyLnB1c2goZnVuY3Rpb24obil7dGhpcy5fdHJpZ2dlcigidXBkYXRlIixuLHRoaXMuX3VpSGFzaCgpKX0pLHRoaXMhPT10aGlzLmN1cnJlbnRDb250YWluZXImJih0fHwoci5wdXNoKGZ1bmN0aW9uKG4pe3RoaXMuX3RyaWdnZXIoInJlbW92ZSIsbix0aGlzLl91aUhhc2goKSl9KSxyLnB1c2goZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHQpe24uX3RyaWdnZXIoInJlY2VpdmUiLHQsdGhpcy5fdWlIYXNoKHRoaXMpKX19LmNhbGwodGhpcyx0aGlzLmN1cnJlbnRDb250YWluZXIpKSxyLnB1c2goZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHQpe24uX3RyaWdnZXIoInVwZGF0ZSIsdCx0aGlzLl91aUhhc2godGhpcykpfX0uY2FsbCh0aGlzLHRoaXMuY3VycmVudENvbnRhaW5lcikpKSksaT10aGlzLmNvbnRhaW5lcnMubGVuZ3RoLTE7aT49MDtpLS0pdHx8ci5wdXNoKHUoImRlYWN0aXZhdGUiLHRoaXMsdGhpcy5jb250YWluZXJzW2ldKSksdGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLm92ZXImJihyLnB1c2godSgib3V0Iix0aGlzLHRoaXMuY29udGFpbmVyc1tpXSkpLHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS5vdmVyPTApO2lmKHRoaXMuc3RvcmVkQ3Vyc29yJiYodGhpcy5kb2N1bWVudC5maW5kKCJib2R5IikuY3NzKCJjdXJzb3IiLHRoaXMuc3RvcmVkQ3Vyc29yKSx0aGlzLnN0b3JlZFN0eWxlc2hlZXQucmVtb3ZlKCkpLHRoaXMuX3N0b3JlZE9wYWNpdHkmJnRoaXMuaGVscGVyLmNzcygib3BhY2l0eSIsdGhpcy5fc3RvcmVkT3BhY2l0eSksdGhpcy5fc3RvcmVkWkluZGV4JiZ0aGlzLmhlbHBlci5jc3MoInpJbmRleCIsImF1dG8iPT09dGhpcy5fc3RvcmVkWkluZGV4PyIiOnRoaXMuX3N0b3JlZFpJbmRleCksdGhpcy5kcmFnZ2luZz0hMSx0fHx0aGlzLl90cmlnZ2VyKCJiZWZvcmVTdG9wIixuLHRoaXMuX3VpSGFzaCgpKSx0aGlzLnBsYWNlaG9sZGVyWzBdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5wbGFjZWhvbGRlclswXSksdGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsfHwodGhpcy5oZWxwZXJbMF0hPT10aGlzLmN1cnJlbnRJdGVtWzBdJiZ0aGlzLmhlbHBlci5yZW1vdmUoKSx0aGlzLmhlbHBlcj1udWxsKSwhdCl7Zm9yKGk9MDtyLmxlbmd0aD5pO2krKylyW2ldLmNhbGwodGhpcyxuKTt0aGlzLl90cmlnZ2VyKCJzdG9wIixuLHRoaXMuX3VpSGFzaCgpKX1yZXR1cm4gdGhpcy5mcm9tT3V0c2lkZT0hMSwhdGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsfSxfdHJpZ2dlcjpmdW5jdGlvbigpe24uV2lkZ2V0LnByb3RvdHlwZS5fdHJpZ2dlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk9PT0hMSYmdGhpcy5jYW5jZWwoKX0sX3VpSGFzaDpmdW5jdGlvbih0KXt2YXIgaT10fHx0aGlzO3JldHVybntoZWxwZXI6aS5oZWxwZXIscGxhY2Vob2xkZXI6aS5wbGFjZWhvbGRlcnx8bihbXSkscG9zaXRpb246aS5wb3NpdGlvbixvcmlnaW5hbFBvc2l0aW9uOmkub3JpZ2luYWxQb3NpdGlvbixvZmZzZXQ6aS5wb3NpdGlvbkFicyxpdGVtOmkuY3VycmVudEl0ZW0sc2VuZGVyOnQ/dC5lbGVtZW50Om51bGx9fX0pO24ud2lkZ2V0KCJ1aS5zcGlubmVyIix7dmVyc2lvbjoiMS4xMi4xIixkZWZhdWx0RWxlbWVudDoiPGlucHV0PiIsd2lkZ2V0RXZlbnRQcmVmaXg6InNwaW4iLG9wdGlvbnM6e2NsYXNzZXM6eyJ1aS1zcGlubmVyIjoidWktY29ybmVyLWFsbCIsInVpLXNwaW5uZXItZG93biI6InVpLWNvcm5lci1iciIsInVpLXNwaW5uZXItdXAiOiJ1aS1jb3JuZXItdHIifSxjdWx0dXJlOm51bGwsaWNvbnM6e2Rvd246InVpLWljb24tdHJpYW5nbGUtMS1zIix1cDoidWktaWNvbi10cmlhbmdsZS0xLW4ifSxpbmNyZW1lbnRhbDohMCxtYXg6bnVsbCxtaW46bnVsbCxudW1iZXJGb3JtYXQ6bnVsbCxwYWdlOjEwLHN0ZXA6MSxjaGFuZ2U6bnVsbCxzcGluOm51bGwsc3RhcnQ6bnVsbCxzdG9wOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zZXRPcHRpb24oIm1heCIsdGhpcy5vcHRpb25zLm1heCk7dGhpcy5fc2V0T3B0aW9uKCJtaW4iLHRoaXMub3B0aW9ucy5taW4pO3RoaXMuX3NldE9wdGlvbigic3RlcCIsdGhpcy5vcHRpb25zLnN0ZXApOyIiIT09dGhpcy52YWx1ZSgpJiZ0aGlzLl92YWx1ZSh0aGlzLmVsZW1lbnQudmFsKCksITApO3RoaXMuX2RyYXcoKTt0aGlzLl9vbih0aGlzLl9ldmVudHMpO3RoaXMuX3JlZnJlc2goKTt0aGlzLl9vbih0aGlzLndpbmRvdyx7YmVmb3JldW5sb2FkOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoImF1dG9jb21wbGV0ZSIpfX0pfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N1cGVyKCksaT10aGlzLmVsZW1lbnQ7cmV0dXJuIG4uZWFjaChbIm1pbiIsIm1heCIsInN0ZXAiXSxmdW5jdGlvbihuLHIpe3ZhciB1PWkuYXR0cihyKTtudWxsIT11JiZ1Lmxlbmd0aCYmKHRbcl09dSl9KSx0fSxfZXZlbnRzOntrZXlkb3duOmZ1bmN0aW9uKG4pe3RoaXMuX3N0YXJ0KG4pJiZ0aGlzLl9rZXlkb3duKG4pJiZuLnByZXZlbnREZWZhdWx0KCl9LGtleXVwOiJfc3RvcCIsZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLnByZXZpb3VzPXRoaXMuZWxlbWVudC52YWwoKX0sYmx1cjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5jYW5jZWxCbHVyPyhkZWxldGUgdGhpcy5jYW5jZWxCbHVyLHZvaWQgMCk6KHRoaXMuX3N0b3AoKSx0aGlzLl9yZWZyZXNoKCksdGhpcy5wcmV2aW91cyE9PXRoaXMuZWxlbWVudC52YWwoKSYmdGhpcy5fdHJpZ2dlcigiY2hhbmdlIixuKSx2b2lkIDApfSxtb3VzZXdoZWVsOmZ1bmN0aW9uKG4sdCl7aWYodCl7aWYoIXRoaXMuc3Bpbm5pbmcmJiF0aGlzLl9zdGFydChuKSlyZXR1cm4hMTt0aGlzLl9zcGluKCh0PjA/MTotMSkqdGhpcy5vcHRpb25zLnN0ZXAsbik7Y2xlYXJUaW1lb3V0KHRoaXMubW91c2V3aGVlbFRpbWVyKTt0aGlzLm1vdXNld2hlZWxUaW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMuc3Bpbm5pbmcmJnRoaXMuX3N0b3Aobil9LDEwMCk7bi5wcmV2ZW50RGVmYXVsdCgpfX0sIm1vdXNlZG93biAudWktc3Bpbm5lci1idXR0b24iOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoKXt2YXIgdD10aGlzLmVsZW1lbnRbMF09PT1uLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pO3R8fCh0aGlzLmVsZW1lbnQudHJpZ2dlcigiZm9jdXMiKSx0aGlzLnByZXZpb3VzPWksdGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLnByZXZpb3VzPWl9KSl9dmFyIGk7aT10aGlzLmVsZW1lbnRbMF09PT1uLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pP3RoaXMucHJldmlvdXM6dGhpcy5lbGVtZW50LnZhbCgpO3QucHJldmVudERlZmF1bHQoKTtyLmNhbGwodGhpcyk7dGhpcy5jYW5jZWxCbHVyPSEwO3RoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuY2FuY2VsQmx1cjtyLmNhbGwodGhpcyl9KTt0aGlzLl9zdGFydCh0KSE9PSExJiZ0aGlzLl9yZXBlYXQobnVsbCxuKHQuY3VycmVudFRhcmdldCkuaGFzQ2xhc3MoInVpLXNwaW5uZXItdXAiKT8xOi0xLHQpfSwibW91c2V1cCAudWktc3Bpbm5lci1idXR0b24iOiJfc3RvcCIsIm1vdXNlZW50ZXIgLnVpLXNwaW5uZXItYnV0dG9uIjpmdW5jdGlvbih0KXtpZihuKHQuY3VycmVudFRhcmdldCkuaGFzQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpKXJldHVybiB0aGlzLl9zdGFydCh0KT09PSExPyExOih0aGlzLl9yZXBlYXQobnVsbCxuKHQuY3VycmVudFRhcmdldCkuaGFzQ2xhc3MoInVpLXNwaW5uZXItdXAiKT8xOi0xLHQpLHZvaWQgMCl9LCJtb3VzZWxlYXZlIC51aS1zcGlubmVyLWJ1dHRvbiI6Il9zdG9wIn0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLnVpU3Bpbm5lcj10aGlzLmVsZW1lbnQuYXR0cigiYXV0b2NvbXBsZXRlIiwib2ZmIikud3JhcCgiPHNwYW4+IikucGFyZW50KCkuYXBwZW5kKCI8YT48XC9hPjxhPjxcL2E+Iil9LF9kcmF3OmZ1bmN0aW9uKCl7dGhpcy5fZW5oYW5jZSgpO3RoaXMuX2FkZENsYXNzKHRoaXMudWlTcGlubmVyLCJ1aS1zcGlubmVyIiwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50Iik7dGhpcy5fYWRkQ2xhc3MoInVpLXNwaW5uZXItaW5wdXQiKTt0aGlzLmVsZW1lbnQuYXR0cigicm9sZSIsInNwaW5idXR0b24iKTt0aGlzLmJ1dHRvbnM9dGhpcy51aVNwaW5uZXIuY2hpbGRyZW4oImEiKS5hdHRyKCJ0YWJJbmRleCIsLTEpLmF0dHIoImFyaWEtaGlkZGVuIiwhMCkuYnV0dG9uKHtjbGFzc2VzOnsidWktYnV0dG9uIjoiIn19KTt0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmJ1dHRvbnMsInVpLWNvcm5lci1hbGwiKTt0aGlzLl9hZGRDbGFzcyh0aGlzLmJ1dHRvbnMuZmlyc3QoKSwidWktc3Bpbm5lci1idXR0b24gdWktc3Bpbm5lci11cCIpO3RoaXMuX2FkZENsYXNzKHRoaXMuYnV0dG9ucy5sYXN0KCksInVpLXNwaW5uZXItYnV0dG9uIHVpLXNwaW5uZXItZG93biIpO3RoaXMuYnV0dG9ucy5maXJzdCgpLmJ1dHRvbih7aWNvbjp0aGlzLm9wdGlvbnMuaWNvbnMudXAsc2hvd0xhYmVsOiExfSk7dGhpcy5idXR0b25zLmxhc3QoKS5idXR0b24oe2ljb246dGhpcy5vcHRpb25zLmljb25zLmRvd24sc2hvd0xhYmVsOiExfSk7dGhpcy5idXR0b25zLmhlaWdodCgpPk1hdGguY2VpbCguNSp0aGlzLnVpU3Bpbm5lci5oZWlnaHQoKSkmJnRoaXMudWlTcGlubmVyLmhlaWdodCgpPjAmJnRoaXMudWlTcGlubmVyLmhlaWdodCh0aGlzLnVpU3Bpbm5lci5oZWlnaHQoKSl9LF9rZXlkb3duOmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMub3B0aW9ucyxpPW4udWkua2V5Q29kZTtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIGkuVVA6cmV0dXJuIHRoaXMuX3JlcGVhdChudWxsLDEsdCksITA7Y2FzZSBpLkRPV046cmV0dXJuIHRoaXMuX3JlcGVhdChudWxsLC0xLHQpLCEwO2Nhc2UgaS5QQUdFX1VQOnJldHVybiB0aGlzLl9yZXBlYXQobnVsbCxyLnBhZ2UsdCksITA7Y2FzZSBpLlBBR0VfRE9XTjpyZXR1cm4gdGhpcy5fcmVwZWF0KG51bGwsLXIucGFnZSx0KSwhMH1yZXR1cm4hMX0sX3N0YXJ0OmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLnNwaW5uaW5nfHx0aGlzLl90cmlnZ2VyKCJzdGFydCIsbikhPT0hMT8odGhpcy5jb3VudGVyfHwodGhpcy5jb3VudGVyPTEpLHRoaXMuc3Bpbm5pbmc9ITAsITApOiExfSxfcmVwZWF0OmZ1bmN0aW9uKG4sdCxpKXtuPW58fDUwMDtjbGVhclRpbWVvdXQodGhpcy50aW1lcik7dGhpcy50aW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMuX3JlcGVhdCg0MCx0LGkpfSxuKTt0aGlzLl9zcGluKHQqdGhpcy5vcHRpb25zLnN0ZXAsaSl9LF9zcGluOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy52YWx1ZSgpfHwwO3RoaXMuY291bnRlcnx8KHRoaXMuY291bnRlcj0xKTtpPXRoaXMuX2FkanVzdFZhbHVlKGkrbip0aGlzLl9pbmNyZW1lbnQodGhpcy5jb3VudGVyKSk7dGhpcy5zcGlubmluZyYmdGhpcy5fdHJpZ2dlcigic3BpbiIsdCx7dmFsdWU6aX0pPT09ITF8fCh0aGlzLl92YWx1ZShpKSx0aGlzLmNvdW50ZXIrKyl9LF9pbmNyZW1lbnQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5vcHRpb25zLmluY3JlbWVudGFsO3JldHVybiBpP24uaXNGdW5jdGlvbihpKT9pKHQpOk1hdGguZmxvb3IodCp0KnQvNWU0LXQqdC81MDArMTcqdC8yMDArMSk6MX0sX3ByZWNpc2lvbjpmdW5jdGlvbigpe3ZhciBuPXRoaXMuX3ByZWNpc2lvbk9mKHRoaXMub3B0aW9ucy5zdGVwKTtyZXR1cm4gbnVsbCE9PXRoaXMub3B0aW9ucy5taW4mJihuPU1hdGgubWF4KG4sdGhpcy5fcHJlY2lzaW9uT2YodGhpcy5vcHRpb25zLm1pbikpKSxufSxfcHJlY2lzaW9uT2Y6ZnVuY3Rpb24obil7dmFyIHQ9IiIrbixpPXQuaW5kZXhPZigiLiIpO3JldHVybi0xPT09aT8wOnQubGVuZ3RoLWktMX0sX2FkanVzdFZhbHVlOmZ1bmN0aW9uKG4pe3ZhciByLGksdD10aGlzLm9wdGlvbnM7cmV0dXJuIHI9bnVsbCE9PXQubWluP3QubWluOjAsaT1uLXIsaT1NYXRoLnJvdW5kKGkvdC5zdGVwKSp0LnN0ZXAsbj1yK2ksbj1wYXJzZUZsb2F0KG4udG9GaXhlZCh0aGlzLl9wcmVjaXNpb24oKSkpLG51bGwhPT10Lm1heCYmbj50Lm1heD90Lm1heDpudWxsIT09dC5taW4mJnQubWluPm4/dC5taW46bn0sX3N0b3A6ZnVuY3Rpb24obil7dGhpcy5zcGlubmluZyYmKGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKSxjbGVhclRpbWVvdXQodGhpcy5tb3VzZXdoZWVsVGltZXIpLHRoaXMuY291bnRlcj0wLHRoaXMuc3Bpbm5pbmc9ITEsdGhpcy5fdHJpZ2dlcigic3RvcCIsbikpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7dmFyIHUsaSxyO3JldHVybiJjdWx0dXJlIj09PW58fCJudW1iZXJGb3JtYXQiPT09bj8odT10aGlzLl9wYXJzZSh0aGlzLmVsZW1lbnQudmFsKCkpLHRoaXMub3B0aW9uc1tuXT10LHRoaXMuZWxlbWVudC52YWwodGhpcy5fZm9ybWF0KHUpKSx2b2lkIDApOigoIm1heCI9PT1ufHwibWluIj09PW58fCJzdGVwIj09PW4pJiYic3RyaW5nIj09dHlwZW9mIHQmJih0PXRoaXMuX3BhcnNlKHQpKSwiaWNvbnMiPT09biYmKGk9dGhpcy5idXR0b25zLmZpcnN0KCkuZmluZCgiLnVpLWljb24iKSx0aGlzLl9yZW1vdmVDbGFzcyhpLG51bGwsdGhpcy5vcHRpb25zLmljb25zLnVwKSx0aGlzLl9hZGRDbGFzcyhpLG51bGwsdC51cCkscj10aGlzLmJ1dHRvbnMubGFzdCgpLmZpbmQoIi51aS1pY29uIiksdGhpcy5fcmVtb3ZlQ2xhc3MocixudWxsLHRoaXMub3B0aW9ucy5pY29ucy5kb3duKSx0aGlzLl9hZGRDbGFzcyhyLG51bGwsdC5kb3duKSksdGhpcy5fc3VwZXIobix0KSx2b2lkIDApfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24obil7dGhpcy5fc3VwZXIobik7dGhpcy5fdG9nZ2xlQ2xhc3ModGhpcy51aVNwaW5uZXIsbnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLCEhbik7dGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIiwhIW4pO3RoaXMuYnV0dG9ucy5idXR0b24obj8iZGlzYWJsZSI6ImVuYWJsZSIpfSxfc2V0T3B0aW9uczp0KGZ1bmN0aW9uKG4pe3RoaXMuX3N1cGVyKG4pfSksX3BhcnNlOmZ1bmN0aW9uKG4pe3JldHVybiJzdHJpbmciPT10eXBlb2YgbiYmIiIhPT1uJiYobj13aW5kb3cuR2xvYmFsaXplJiZ0aGlzLm9wdGlvbnMubnVtYmVyRm9ybWF0P0dsb2JhbGl6ZS5wYXJzZUZsb2F0KG4sMTAsdGhpcy5vcHRpb25zLmN1bHR1cmUpOituKSwiIj09PW58fGlzTmFOKG4pP251bGw6bn0sX2Zvcm1hdDpmdW5jdGlvbihuKXtyZXR1cm4iIj09PW4/IiI6d2luZG93Lkdsb2JhbGl6ZSYmdGhpcy5vcHRpb25zLm51bWJlckZvcm1hdD9HbG9iYWxpemUuZm9ybWF0KG4sdGhpcy5vcHRpb25zLm51bWJlckZvcm1hdCx0aGlzLm9wdGlvbnMuY3VsdHVyZSk6bn0sX3JlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYXR0cih7ImFyaWEtdmFsdWVtaW4iOnRoaXMub3B0aW9ucy5taW4sImFyaWEtdmFsdWVtYXgiOnRoaXMub3B0aW9ucy5tYXgsImFyaWEtdmFsdWVub3ciOnRoaXMuX3BhcnNlKHRoaXMuZWxlbWVudC52YWwoKSl9KX0saXNWYWxpZDpmdW5jdGlvbigpe3ZhciBuPXRoaXMudmFsdWUoKTtyZXR1cm4gbnVsbD09PW4/ITE6bj09PXRoaXMuX2FkanVzdFZhbHVlKG4pfSxfdmFsdWU6ZnVuY3Rpb24obix0KXt2YXIgaTsiIiE9PW4mJihpPXRoaXMuX3BhcnNlKG4pLG51bGwhPT1pJiYodHx8KGk9dGhpcy5fYWRqdXN0VmFsdWUoaSkpLG49dGhpcy5fZm9ybWF0KGkpKSk7dGhpcy5lbGVtZW50LnZhbChuKTt0aGlzLl9yZWZyZXNoKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIiwhMSkucmVtb3ZlQXR0cigiYXV0b2NvbXBsZXRlIHJvbGUgYXJpYS12YWx1ZW1pbiBhcmlhLXZhbHVlbWF4IGFyaWEtdmFsdWVub3ciKTt0aGlzLnVpU3Bpbm5lci5yZXBsYWNlV2l0aCh0aGlzLmVsZW1lbnQpfSxzdGVwVXA6dChmdW5jdGlvbihuKXt0aGlzLl9zdGVwVXAobil9KSxfc3RlcFVwOmZ1bmN0aW9uKG4pe3RoaXMuX3N0YXJ0KCkmJih0aGlzLl9zcGluKChufHwxKSp0aGlzLm9wdGlvbnMuc3RlcCksdGhpcy5fc3RvcCgpKX0sc3RlcERvd246dChmdW5jdGlvbihuKXt0aGlzLl9zdGVwRG93bihuKX0pLF9zdGVwRG93bjpmdW5jdGlvbihuKXt0aGlzLl9zdGFydCgpJiYodGhpcy5fc3Bpbigobnx8MSkqLXRoaXMub3B0aW9ucy5zdGVwKSx0aGlzLl9zdG9wKCkpfSxwYWdlVXA6dChmdW5jdGlvbihuKXt0aGlzLl9zdGVwVXAoKG58fDEpKnRoaXMub3B0aW9ucy5wYWdlKX0pLHBhZ2VEb3duOnQoZnVuY3Rpb24obil7dGhpcy5fc3RlcERvd24oKG58fDEpKnRoaXMub3B0aW9ucy5wYWdlKX0pLHZhbHVlOmZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0KHRoaXMuX3ZhbHVlKS5jYWxsKHRoaXMsbiksdm9pZCAwKTp0aGlzLl9wYXJzZSh0aGlzLmVsZW1lbnQudmFsKCkpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51aVNwaW5uZXJ9fSk7bi51aUJhY2tDb21wYXQhPT0hMSYmbi53aWRnZXQoInVpLnNwaW5uZXIiLG4udWkuc3Bpbm5lcix7X2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLnVpU3Bpbm5lcj10aGlzLmVsZW1lbnQuYXR0cigiYXV0b2NvbXBsZXRlIiwib2ZmIikud3JhcCh0aGlzLl91aVNwaW5uZXJIdG1sKCkpLnBhcmVudCgpLmFwcGVuZCh0aGlzLl9idXR0b25IdG1sKCkpfSxfdWlTcGlubmVySHRtbDpmdW5jdGlvbigpe3JldHVybiI8c3Bhbj4ifSxfYnV0dG9uSHRtbDpmdW5jdGlvbigpe3JldHVybiI8YT48XC9hPjxhPjxcL2E+In19KTtuLnVpLnNwaW5uZXI7bi53aWRnZXQoInVpLnRhYnMiLHt2ZXJzaW9uOiIxLjEyLjEiLGRlbGF5OjMwMCxvcHRpb25zOnthY3RpdmU6bnVsbCxjbGFzc2VzOnsidWktdGFicyI6InVpLWNvcm5lci1hbGwiLCJ1aS10YWJzLW5hdiI6InVpLWNvcm5lci1hbGwiLCJ1aS10YWJzLXBhbmVsIjoidWktY29ybmVyLWJvdHRvbSIsInVpLXRhYnMtdGFiIjoidWktY29ybmVyLXRvcCJ9LGNvbGxhcHNpYmxlOiExLGV2ZW50OiJjbGljayIsaGVpZ2h0U3R5bGU6ImNvbnRlbnQiLGhpZGU6bnVsbCxzaG93Om51bGwsYWN0aXZhdGU6bnVsbCxiZWZvcmVBY3RpdmF0ZTpudWxsLGJlZm9yZUxvYWQ6bnVsbCxsb2FkOm51bGx9LF9pc0xvY2FsOmZ1bmN0aW9uKCl7dmFyIG49LyMuKiQvO3JldHVybiBmdW5jdGlvbih0KXt2YXIgaSxyO2k9dC5ocmVmLnJlcGxhY2UobiwiIik7cj1sb2NhdGlvbi5ocmVmLnJlcGxhY2UobiwiIik7dHJ5e2k9ZGVjb2RlVVJJQ29tcG9uZW50KGkpfWNhdGNoKHUpe310cnl7cj1kZWNvZGVVUklDb21wb25lbnQocil9Y2F0Y2godSl7fXJldHVybiB0Lmhhc2gubGVuZ3RoPjEmJmk9PT1yfX0oKSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcyx0PXRoaXMub3B0aW9uczt0aGlzLnJ1bm5pbmc9ITE7dGhpcy5fYWRkQ2xhc3MoInVpLXRhYnMiLCJ1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQiKTt0aGlzLl90b2dnbGVDbGFzcygidWktdGFicy1jb2xsYXBzaWJsZSIsbnVsbCx0LmNvbGxhcHNpYmxlKTt0aGlzLl9wcm9jZXNzVGFicygpO3QuYWN0aXZlPXRoaXMuX2luaXRpYWxBY3RpdmUoKTtuLmlzQXJyYXkodC5kaXNhYmxlZCkmJih0LmRpc2FibGVkPW4udW5pcXVlKHQuZGlzYWJsZWQuY29uY2F0KG4ubWFwKHRoaXMudGFicy5maWx0ZXIoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLGZ1bmN0aW9uKG4pe3JldHVybiBpLnRhYnMuaW5kZXgobil9KSkpLnNvcnQoKSk7dGhpcy5hY3RpdmU9dGhpcy5vcHRpb25zLmFjdGl2ZSE9PSExJiZ0aGlzLmFuY2hvcnMubGVuZ3RoP3RoaXMuX2ZpbmRBY3RpdmUodC5hY3RpdmUpOm4oKTt0aGlzLl9yZWZyZXNoKCk7dGhpcy5hY3RpdmUubGVuZ3RoJiZ0aGlzLmxvYWQodC5hY3RpdmUpfSxfaW5pdGlhbEFjdGl2ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5hY3RpdmUsaT10aGlzLm9wdGlvbnMuY29sbGFwc2libGUscj1sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKTtyZXR1cm4gbnVsbD09PXQmJihyJiZ0aGlzLnRhYnMuZWFjaChmdW5jdGlvbihpLHUpe2lmKG4odSkuYXR0cigiYXJpYS1jb250cm9scyIpPT09cilyZXR1cm4odD1pLCExKX0pLG51bGw9PT10JiYodD10aGlzLnRhYnMuaW5kZXgodGhpcy50YWJzLmZpbHRlcigiLnVpLXRhYnMtYWN0aXZlIikpKSwobnVsbD09PXR8fC0xPT09dCkmJih0PXRoaXMudGFicy5sZW5ndGg/MDohMSkpLHQhPT0hMSYmKHQ9dGhpcy50YWJzLmluZGV4KHRoaXMudGFicy5lcSh0KSksLTE9PT10JiYodD1pPyExOjApKSwhaSYmdD09PSExJiZ0aGlzLmFuY2hvcnMubGVuZ3RoJiYodD0wKSx0fSxfZ2V0Q3JlYXRlRXZlbnREYXRhOmZ1bmN0aW9uKCl7cmV0dXJue3RhYjp0aGlzLmFjdGl2ZSxwYW5lbDp0aGlzLmFjdGl2ZS5sZW5ndGg/dGhpcy5fZ2V0UGFuZWxGb3JUYWIodGhpcy5hY3RpdmUpOm4oKX19LF90YWJLZXlkb3duOmZ1bmN0aW9uKHQpe3ZhciByPW4obi51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKSkuY2xvc2VzdCgibGkiKSxpPXRoaXMudGFicy5pbmRleChyKSx1PSEwO2lmKCF0aGlzLl9oYW5kbGVQYWdlTmF2KHQpKXtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIG4udWkua2V5Q29kZS5SSUdIVDpjYXNlIG4udWkua2V5Q29kZS5ET1dOOmkrKzticmVhaztjYXNlIG4udWkua2V5Q29kZS5VUDpjYXNlIG4udWkua2V5Q29kZS5MRUZUOnU9ITE7aS0tO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkVORDppPXRoaXMuYW5jaG9ycy5sZW5ndGgtMTticmVhaztjYXNlIG4udWkua2V5Q29kZS5IT01FOmk9MDticmVhaztjYXNlIG4udWkua2V5Q29kZS5TUEFDRTpyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpbmcpLHRoaXMuX2FjdGl2YXRlKGkpLHZvaWQgMDtjYXNlIG4udWkua2V5Q29kZS5FTlRFUjpyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpbmcpLHRoaXMuX2FjdGl2YXRlKGk9PT10aGlzLm9wdGlvbnMuYWN0aXZlPyExOmkpLHZvaWQgMDtkZWZhdWx0OnJldHVybn10LnByZXZlbnREZWZhdWx0KCk7Y2xlYXJUaW1lb3V0KHRoaXMuYWN0aXZhdGluZyk7aT10aGlzLl9mb2N1c05leHRUYWIoaSx1KTt0LmN0cmxLZXl8fHQubWV0YUtleXx8KHIuYXR0cigiYXJpYS1zZWxlY3RlZCIsImZhbHNlIiksdGhpcy50YWJzLmVxKGkpLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCJ0cnVlIiksdGhpcy5hY3RpdmF0aW5nPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5vcHRpb24oImFjdGl2ZSIsaSl9LHRoaXMuZGVsYXkpKX19LF9wYW5lbEtleWRvd246ZnVuY3Rpb24odCl7dGhpcy5faGFuZGxlUGFnZU5hdih0KXx8dC5jdHJsS2V5JiZ0LmtleUNvZGU9PT1uLnVpLmtleUNvZGUuVVAmJih0LnByZXZlbnREZWZhdWx0KCksdGhpcy5hY3RpdmUudHJpZ2dlcigiZm9jdXMiKSl9LF9oYW5kbGVQYWdlTmF2OmZ1bmN0aW9uKHQpe3JldHVybiB0LmFsdEtleSYmdC5rZXlDb2RlPT09bi51aS5rZXlDb2RlLlBBR0VfVVA/KHRoaXMuX2FjdGl2YXRlKHRoaXMuX2ZvY3VzTmV4dFRhYih0aGlzLm9wdGlvbnMuYWN0aXZlLTEsITEpKSwhMCk6dC5hbHRLZXkmJnQua2V5Q29kZT09PW4udWkua2V5Q29kZS5QQUdFX0RPV04/KHRoaXMuX2FjdGl2YXRlKHRoaXMuX2ZvY3VzTmV4dFRhYih0aGlzLm9wdGlvbnMuYWN0aXZlKzEsITApKSwhMCk6dm9pZCAwfSxfZmluZE5leHRUYWI6ZnVuY3Rpb24odCxpKXtmdW5jdGlvbiB1KCl7cmV0dXJuIHQ+ciYmKHQ9MCksMD50JiYodD1yKSx0fWZvcih2YXIgcj10aGlzLnRhYnMubGVuZ3RoLTE7LTEhPT1uLmluQXJyYXkodSgpLHRoaXMub3B0aW9ucy5kaXNhYmxlZCk7KXQ9aT90KzE6dC0xO3JldHVybiB0fSxfZm9jdXNOZXh0VGFiOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG49dGhpcy5fZmluZE5leHRUYWIobix0KSx0aGlzLnRhYnMuZXEobikudHJpZ2dlcigiZm9jdXMiKSxufSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7cmV0dXJuImFjdGl2ZSI9PT1uPyh0aGlzLl9hY3RpdmF0ZSh0KSx2b2lkIDApOih0aGlzLl9zdXBlcihuLHQpLCJjb2xsYXBzaWJsZSI9PT1uJiYodGhpcy5fdG9nZ2xlQ2xhc3MoInVpLXRhYnMtY29sbGFwc2libGUiLG51bGwsdCksdHx8dGhpcy5vcHRpb25zLmFjdGl2ZSE9PSExfHx0aGlzLl9hY3RpdmF0ZSgwKSksImV2ZW50Ij09PW4mJnRoaXMuX3NldHVwRXZlbnRzKHQpLCJoZWlnaHRTdHlsZSI9PT1uJiZ0aGlzLl9zZXR1cEhlaWdodFN0eWxlKHQpLHZvaWQgMCl9LF9zYW5pdGl6ZVNlbGVjdG9yOmZ1bmN0aW9uKG4pe3JldHVybiBuP24ucmVwbGFjZSgvWyEiJCUmJygpKissLlwvOjs8PT4/QFxbXF1cXmB7fH1+XS9nLCJcXCQmIik6IiJ9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMsaT10aGlzLnRhYmxpc3QuY2hpbGRyZW4oIjpoYXMoYVtocmVmXSkiKTt0LmRpc2FibGVkPW4ubWFwKGkuZmlsdGVyKCIudWktc3RhdGUtZGlzYWJsZWQiKSxmdW5jdGlvbihuKXtyZXR1cm4gaS5pbmRleChuKX0pO3RoaXMuX3Byb2Nlc3NUYWJzKCk7dC5hY3RpdmUhPT0hMSYmdGhpcy5hbmNob3JzLmxlbmd0aD90aGlzLmFjdGl2ZS5sZW5ndGgmJiFuLmNvbnRhaW5zKHRoaXMudGFibGlzdFswXSx0aGlzLmFjdGl2ZVswXSk/dGhpcy50YWJzLmxlbmd0aD09PXQuZGlzYWJsZWQubGVuZ3RoPyh0LmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1uKCkpOnRoaXMuX2FjdGl2YXRlKHRoaXMuX2ZpbmROZXh0VGFiKE1hdGgubWF4KDAsdC5hY3RpdmUtMSksITEpKTp0LmFjdGl2ZT10aGlzLnRhYnMuaW5kZXgodGhpcy5hY3RpdmUpOih0LmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1uKCkpO3RoaXMuX3JlZnJlc2goKX0sX3JlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9zZXRPcHRpb25EaXNhYmxlZCh0aGlzLm9wdGlvbnMuZGlzYWJsZWQpO3RoaXMuX3NldHVwRXZlbnRzKHRoaXMub3B0aW9ucy5ldmVudCk7dGhpcy5fc2V0dXBIZWlnaHRTdHlsZSh0aGlzLm9wdGlvbnMuaGVpZ2h0U3R5bGUpO3RoaXMudGFicy5ub3QodGhpcy5hY3RpdmUpLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoiZmFsc2UiLCJhcmlhLWV4cGFuZGVkIjoiZmFsc2UiLHRhYkluZGV4Oi0xfSk7dGhpcy5wYW5lbHMubm90KHRoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKSkuaGlkZSgpLmF0dHIoeyJhcmlhLWhpZGRlbiI6InRydWUifSk7dGhpcy5hY3RpdmUubGVuZ3RoPyh0aGlzLmFjdGl2ZS5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6InRydWUiLCJhcmlhLWV4cGFuZGVkIjoidHJ1ZSIsdGFiSW5kZXg6MH0pLHRoaXMuX2FkZENsYXNzKHRoaXMuYWN0aXZlLCJ1aS10YWJzLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpLHRoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKS5zaG93KCkuYXR0cih7ImFyaWEtaGlkZGVuIjoiZmFsc2UifSkpOnRoaXMudGFicy5lcSgwKS5hdHRyKCJ0YWJJbmRleCIsMCl9LF9wcm9jZXNzVGFiczpmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT10aGlzLnRhYnMscj10aGlzLmFuY2hvcnMsdT10aGlzLnBhbmVsczt0aGlzLnRhYmxpc3Q9dGhpcy5fZ2V0TGlzdCgpLmF0dHIoInJvbGUiLCJ0YWJsaXN0Iik7dGhpcy5fYWRkQ2xhc3ModGhpcy50YWJsaXN0LCJ1aS10YWJzLW5hdiIsInVpLWhlbHBlci1yZXNldCB1aS1oZWxwZXItY2xlYXJmaXggdWktd2lkZ2V0LWhlYWRlciIpO3RoaXMudGFibGlzdC5vbigibW91c2Vkb3duIit0aGlzLmV2ZW50TmFtZXNwYWNlLCI+IGxpIixmdW5jdGlvbih0KXtuKHRoaXMpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdC5wcmV2ZW50RGVmYXVsdCgpfSkub24oImZvY3VzIit0aGlzLmV2ZW50TmFtZXNwYWNlLCIudWktdGFicy1hbmNob3IiLGZ1bmN0aW9uKCl7bih0aGlzKS5jbG9zZXN0KCJsaSIpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdGhpcy5ibHVyKCl9KTt0aGlzLnRhYnM9dGhpcy50YWJsaXN0LmZpbmQoIj4gbGk6aGFzKGFbaHJlZl0pIikuYXR0cih7cm9sZToidGFiIix0YWJJbmRleDotMX0pO3RoaXMuX2FkZENsYXNzKHRoaXMudGFicywidWktdGFicy10YWIiLCJ1aS1zdGF0ZS1kZWZhdWx0Iik7dGhpcy5hbmNob3JzPXRoaXMudGFicy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gbigiYSIsdGhpcylbMF19KS5hdHRyKHtyb2xlOiJwcmVzZW50YXRpb24iLHRhYkluZGV4Oi0xfSk7dGhpcy5fYWRkQ2xhc3ModGhpcy5hbmNob3JzLCJ1aS10YWJzLWFuY2hvciIpO3RoaXMucGFuZWxzPW4oKTt0aGlzLmFuY2hvcnMuZWFjaChmdW5jdGlvbihpLHIpe3ZhciBmLHUsZSxzPW4ocikudW5pcXVlSWQoKS5hdHRyKCJpZCIpLG89bihyKS5jbG9zZXN0KCJsaSIpLGg9by5hdHRyKCJhcmlhLWNvbnRyb2xzIik7dC5faXNMb2NhbChyKT8oZj1yLmhhc2gsZT1mLnN1YnN0cmluZygxKSx1PXQuZWxlbWVudC5maW5kKHQuX3Nhbml0aXplU2VsZWN0b3IoZikpKTooZT1vLmF0dHIoImFyaWEtY29udHJvbHMiKXx8bih7fSkudW5pcXVlSWQoKVswXS5pZCxmPSIjIitlLHU9dC5lbGVtZW50LmZpbmQoZiksdS5sZW5ndGh8fCh1PXQuX2NyZWF0ZVBhbmVsKGUpLHUuaW5zZXJ0QWZ0ZXIodC5wYW5lbHNbaS0xXXx8dC50YWJsaXN0KSksdS5hdHRyKCJhcmlhLWxpdmUiLCJwb2xpdGUiKSk7dS5sZW5ndGgmJih0LnBhbmVscz10LnBhbmVscy5hZGQodSkpO2gmJm8uZGF0YSgidWktdGFicy1hcmlhLWNvbnRyb2xzIixoKTtvLmF0dHIoeyJhcmlhLWNvbnRyb2xzIjplLCJhcmlhLWxhYmVsbGVkYnkiOnN9KTt1LmF0dHIoImFyaWEtbGFiZWxsZWRieSIscyl9KTt0aGlzLnBhbmVscy5hdHRyKCJyb2xlIiwidGFicGFuZWwiKTt0aGlzLl9hZGRDbGFzcyh0aGlzLnBhbmVscywidWktdGFicy1wYW5lbCIsInVpLXdpZGdldC1jb250ZW50Iik7aSYmKHRoaXMuX29mZihpLm5vdCh0aGlzLnRhYnMpKSx0aGlzLl9vZmYoci5ub3QodGhpcy5hbmNob3JzKSksdGhpcy5fb2ZmKHUubm90KHRoaXMucGFuZWxzKSkpfSxfZ2V0TGlzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRhYmxpc3R8fHRoaXMuZWxlbWVudC5maW5kKCJvbCwgdWwiKS5lcSgwKX0sX2NyZWF0ZVBhbmVsOmZ1bmN0aW9uKHQpe3JldHVybiBuKCI8ZGl2PiIpLmF0dHIoImlkIix0KS5kYXRhKCJ1aS10YWJzLWRlc3Ryb3kiLCEwKX0sX3NldE9wdGlvbkRpc2FibGVkOmZ1bmN0aW9uKHQpe3ZhciBpLHUscjtmb3Iobi5pc0FycmF5KHQpJiYodC5sZW5ndGg/dC5sZW5ndGg9PT10aGlzLmFuY2hvcnMubGVuZ3RoJiYodD0hMCk6dD0hMSkscj0wO3U9dGhpcy50YWJzW3JdO3IrKylpPW4odSksdD09PSEwfHwtMSE9PW4uaW5BcnJheShyLHQpPyhpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJ0cnVlIiksdGhpcy5fYWRkQ2xhc3MoaSxudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIpKTooaS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIiksdGhpcy5fcmVtb3ZlQ2xhc3MoaSxudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIpKTt0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9dDt0aGlzLl90b2dnbGVDbGFzcyh0aGlzLndpZGdldCgpLHRoaXMud2lkZ2V0RnVsbE5hbWUrIi1kaXNhYmxlZCIsbnVsbCx0PT09ITApfSxfc2V0dXBFdmVudHM6ZnVuY3Rpb24odCl7dmFyIGk9e307dCYmbi5lYWNoKHQuc3BsaXQoIiAiKSxmdW5jdGlvbihuLHQpe2lbdF09Il9ldmVudEhhbmRsZXIifSk7dGhpcy5fb2ZmKHRoaXMuYW5jaG9ycy5hZGQodGhpcy50YWJzKS5hZGQodGhpcy5wYW5lbHMpKTt0aGlzLl9vbighMCx0aGlzLmFuY2hvcnMse2NsaWNrOmZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKX19KTt0aGlzLl9vbih0aGlzLmFuY2hvcnMsaSk7dGhpcy5fb24odGhpcy50YWJzLHtrZXlkb3duOiJfdGFiS2V5ZG93biJ9KTt0aGlzLl9vbih0aGlzLnBhbmVscyx7a2V5ZG93bjoiX3BhbmVsS2V5ZG93biJ9KTt0aGlzLl9mb2N1c2FibGUodGhpcy50YWJzKTt0aGlzLl9ob3ZlcmFibGUodGhpcy50YWJzKX0sX3NldHVwSGVpZ2h0U3R5bGU6ZnVuY3Rpb24odCl7dmFyIGkscj10aGlzLmVsZW1lbnQucGFyZW50KCk7ImZpbGwiPT09dD8oaT1yLmhlaWdodCgpLGktPXRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpLXRoaXMuZWxlbWVudC5oZWlnaHQoKSx0aGlzLmVsZW1lbnQuc2libGluZ3MoIjp2aXNpYmxlIikuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcykscj10LmNzcygicG9zaXRpb24iKTsiYWJzb2x1dGUiIT09ciYmImZpeGVkIiE9PXImJihpLT10Lm91dGVySGVpZ2h0KCEwKSl9KSx0aGlzLmVsZW1lbnQuY2hpbGRyZW4oKS5ub3QodGhpcy5wYW5lbHMpLmVhY2goZnVuY3Rpb24oKXtpLT1uKHRoaXMpLm91dGVySGVpZ2h0KCEwKX0pLHRoaXMucGFuZWxzLmVhY2goZnVuY3Rpb24oKXtuKHRoaXMpLmhlaWdodChNYXRoLm1heCgwLGktbih0aGlzKS5pbm5lckhlaWdodCgpK24odGhpcykuaGVpZ2h0KCkpKX0pLmNzcygib3ZlcmZsb3ciLCJhdXRvIikpOiJhdXRvIj09PXQmJihpPTAsdGhpcy5wYW5lbHMuZWFjaChmdW5jdGlvbigpe2k9TWF0aC5tYXgoaSxuKHRoaXMpLmhlaWdodCgiIikuaGVpZ2h0KCkpfSkuaGVpZ2h0KGkpKX0sX2V2ZW50SGFuZGxlcjpmdW5jdGlvbih0KXt2YXIgdT10aGlzLm9wdGlvbnMscj10aGlzLmFjdGl2ZSxjPW4odC5jdXJyZW50VGFyZ2V0KSxpPWMuY2xvc2VzdCgibGkiKSxmPWlbMF09PT1yWzBdLGU9ZiYmdS5jb2xsYXBzaWJsZSxvPWU/bigpOnRoaXMuX2dldFBhbmVsRm9yVGFiKGkpLHM9ci5sZW5ndGg/dGhpcy5fZ2V0UGFuZWxGb3JUYWIocik6bigpLGg9e29sZFRhYjpyLG9sZFBhbmVsOnMsbmV3VGFiOmU/bigpOmksbmV3UGFuZWw6b307dC5wcmV2ZW50RGVmYXVsdCgpO2kuaGFzQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIil8fGkuaGFzQ2xhc3MoInVpLXRhYnMtbG9hZGluZyIpfHx0aGlzLnJ1bm5pbmd8fGYmJiF1LmNvbGxhcHNpYmxlfHx0aGlzLl90cmlnZ2VyKCJiZWZvcmVBY3RpdmF0ZSIsdCxoKT09PSExfHwodS5hY3RpdmU9ZT8hMTp0aGlzLnRhYnMuaW5kZXgoaSksdGhpcy5hY3RpdmU9Zj9uKCk6aSx0aGlzLnhociYmdGhpcy54aHIuYWJvcnQoKSxzLmxlbmd0aHx8by5sZW5ndGh8fG4uZXJyb3IoImpRdWVyeSBVSSBUYWJzOiBNaXNtYXRjaGluZyBmcmFnbWVudCBpZGVudGlmaWVyLiIpLG8ubGVuZ3RoJiZ0aGlzLmxvYWQodGhpcy50YWJzLmluZGV4KGkpLHQpLHRoaXMuX3RvZ2dsZSh0LGgpKX0sX3RvZ2dsZTpmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUoKXtyLnJ1bm5pbmc9ITE7ci5fdHJpZ2dlcigiYWN0aXZhdGUiLHQsaSl9ZnVuY3Rpb24gbygpe3IuX2FkZENsYXNzKGkubmV3VGFiLmNsb3Nlc3QoImxpIiksInVpLXRhYnMtYWN0aXZlIiwidWktc3RhdGUtYWN0aXZlIik7dS5sZW5ndGgmJnIub3B0aW9ucy5zaG93P3IuX3Nob3codSxyLm9wdGlvbnMuc2hvdyxlKToodS5zaG93KCksZSgpKX12YXIgcj10aGlzLHU9aS5uZXdQYW5lbCxmPWkub2xkUGFuZWw7dGhpcy5ydW5uaW5nPSEwO2YubGVuZ3RoJiZ0aGlzLm9wdGlvbnMuaGlkZT90aGlzLl9oaWRlKGYsdGhpcy5vcHRpb25zLmhpZGUsZnVuY3Rpb24oKXtyLl9yZW1vdmVDbGFzcyhpLm9sZFRhYi5jbG9zZXN0KCJsaSIpLCJ1aS10YWJzLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpO28oKX0pOih0aGlzLl9yZW1vdmVDbGFzcyhpLm9sZFRhYi5jbG9zZXN0KCJsaSIpLCJ1aS10YWJzLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpLGYuaGlkZSgpLG8oKSk7Zi5hdHRyKCJhcmlhLWhpZGRlbiIsInRydWUiKTtpLm9sZFRhYi5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6ImZhbHNlIiwiYXJpYS1leHBhbmRlZCI6ImZhbHNlIn0pO3UubGVuZ3RoJiZmLmxlbmd0aD9pLm9sZFRhYi5hdHRyKCJ0YWJJbmRleCIsLTEpOnUubGVuZ3RoJiZ0aGlzLnRhYnMuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIDA9PT1uKHRoaXMpLmF0dHIoInRhYkluZGV4Iil9KS5hdHRyKCJ0YWJJbmRleCIsLTEpO3UuYXR0cigiYXJpYS1oaWRkZW4iLCJmYWxzZSIpO2kubmV3VGFiLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoidHJ1ZSIsImFyaWEtZXhwYW5kZWQiOiJ0cnVlIix0YWJJbmRleDowfSl9LF9hY3RpdmF0ZTpmdW5jdGlvbih0KXt2YXIgcixpPXRoaXMuX2ZpbmRBY3RpdmUodCk7aVswXSE9PXRoaXMuYWN0aXZlWzBdJiYoaS5sZW5ndGh8fChpPXRoaXMuYWN0aXZlKSxyPWkuZmluZCgiLnVpLXRhYnMtYW5jaG9yIilbMF0sdGhpcy5fZXZlbnRIYW5kbGVyKHt0YXJnZXQ6cixjdXJyZW50VGFyZ2V0OnIscHJldmVudERlZmF1bHQ6bi5ub29wfSkpfSxfZmluZEFjdGl2ZTpmdW5jdGlvbih0KXtyZXR1cm4gdD09PSExP24oKTp0aGlzLnRhYnMuZXEodCl9LF9nZXRJbmRleDpmdW5jdGlvbih0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQmJih0PXRoaXMuYW5jaG9ycy5pbmRleCh0aGlzLmFuY2hvcnMuZmlsdGVyKCJbaHJlZiQ9JyIrbi51aS5lc2NhcGVTZWxlY3Rvcih0KSsiJ10iKSkpLHR9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy54aHImJnRoaXMueGhyLmFib3J0KCk7dGhpcy50YWJsaXN0LnJlbW92ZUF0dHIoInJvbGUiKS5vZmYodGhpcy5ldmVudE5hbWVzcGFjZSk7dGhpcy5hbmNob3JzLnJlbW92ZUF0dHIoInJvbGUgdGFiSW5kZXgiKS5yZW1vdmVVbmlxdWVJZCgpO3RoaXMudGFicy5hZGQodGhpcy5wYW5lbHMpLmVhY2goZnVuY3Rpb24oKXtuLmRhdGEodGhpcywidWktdGFicy1kZXN0cm95Iik/bih0aGlzKS5yZW1vdmUoKTpuKHRoaXMpLnJlbW92ZUF0dHIoInJvbGUgdGFiSW5kZXggYXJpYS1saXZlIGFyaWEtYnVzeSBhcmlhLXNlbGVjdGVkIGFyaWEtbGFiZWxsZWRieSBhcmlhLWhpZGRlbiBhcmlhLWV4cGFuZGVkIil9KTt0aGlzLnRhYnMuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyksaT10LmRhdGEoInVpLXRhYnMtYXJpYS1jb250cm9scyIpO2k/dC5hdHRyKCJhcmlhLWNvbnRyb2xzIixpKS5yZW1vdmVEYXRhKCJ1aS10YWJzLWFyaWEtY29udHJvbHMiKTp0LnJlbW92ZUF0dHIoImFyaWEtY29udHJvbHMiKX0pO3RoaXMucGFuZWxzLnNob3coKTsiY29udGVudCIhPT10aGlzLm9wdGlvbnMuaGVpZ2h0U3R5bGUmJnRoaXMucGFuZWxzLmNzcygiaGVpZ2h0IiwiIil9LGVuYWJsZTpmdW5jdGlvbih0KXt2YXIgaT10aGlzLm9wdGlvbnMuZGlzYWJsZWQ7aSE9PSExJiYodm9pZCAwPT09dD9pPSExOih0PXRoaXMuX2dldEluZGV4KHQpLGk9bi5pc0FycmF5KGkpP24ubWFwKGksZnVuY3Rpb24obil7cmV0dXJuIG4hPT10P246bnVsbH0pOm4ubWFwKHRoaXMudGFicyxmdW5jdGlvbihuLGkpe3JldHVybiBpIT09dD9pOm51bGx9KSksdGhpcy5fc2V0T3B0aW9uRGlzYWJsZWQoaSkpfSxkaXNhYmxlOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMub3B0aW9ucy5kaXNhYmxlZDtpZihpIT09ITApe2lmKHZvaWQgMD09PXQpaT0hMDtlbHNle2lmKHQ9dGhpcy5fZ2V0SW5kZXgodCksLTEhPT1uLmluQXJyYXkodCxpKSlyZXR1cm47aT1uLmlzQXJyYXkoaSk/bi5tZXJnZShbdF0saSkuc29ydCgpOlt0XX10aGlzLl9zZXRPcHRpb25EaXNhYmxlZChpKX19LGxvYWQ6ZnVuY3Rpb24odCxpKXt0PXRoaXMuX2dldEluZGV4KHQpO3ZhciByPXRoaXMsdT10aGlzLnRhYnMuZXEodCksZT11LmZpbmQoIi51aS10YWJzLWFuY2hvciIpLGY9dGhpcy5fZ2V0UGFuZWxGb3JUYWIodSksbz17dGFiOnUscGFuZWw6Zn0scz1mdW5jdGlvbihuLHQpeyJhYm9ydCI9PT10JiZyLnBhbmVscy5zdG9wKCExLCEwKTtyLl9yZW1vdmVDbGFzcyh1LCJ1aS10YWJzLWxvYWRpbmciKTtmLnJlbW92ZUF0dHIoImFyaWEtYnVzeSIpO249PT1yLnhociYmZGVsZXRlIHIueGhyfTt0aGlzLl9pc0xvY2FsKGVbMF0pfHwodGhpcy54aHI9bi5hamF4KHRoaXMuX2FqYXhTZXR0aW5ncyhlLGksbykpLHRoaXMueGhyJiYiY2FuY2VsZWQiIT09dGhpcy54aHIuc3RhdHVzVGV4dCYmKHRoaXMuX2FkZENsYXNzKHUsInVpLXRhYnMtbG9hZGluZyIpLGYuYXR0cigiYXJpYS1idXN5IiwidHJ1ZSIpLHRoaXMueGhyLmRvbmUoZnVuY3Rpb24obix0LHUpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtmLmh0bWwobik7ci5fdHJpZ2dlcigibG9hZCIsaSxvKTtzKHUsdCl9LDEpfSkuZmFpbChmdW5jdGlvbihuLHQpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtzKG4sdCl9LDEpfSkpKX0sX2FqYXhTZXR0aW5nczpmdW5jdGlvbih0LGkscil7dmFyIHU9dGhpcztyZXR1cm57dXJsOnQuYXR0cigiaHJlZiIpLnJlcGxhY2UoLyMuKiQvLCIiKSxiZWZvcmVTZW5kOmZ1bmN0aW9uKHQsZil7cmV0dXJuIHUuX3RyaWdnZXIoImJlZm9yZUxvYWQiLGksbi5leHRlbmQoe2pxWEhSOnQsYWpheFNldHRpbmdzOmZ9LHIpKX19fSxfZ2V0UGFuZWxGb3JUYWI6ZnVuY3Rpb24odCl7dmFyIGk9bih0KS5hdHRyKCJhcmlhLWNvbnRyb2xzIik7cmV0dXJuIHRoaXMuZWxlbWVudC5maW5kKHRoaXMuX3Nhbml0aXplU2VsZWN0b3IoIiMiK2kpKX19KTtuLnVpQmFja0NvbXBhdCE9PSExJiZuLndpZGdldCgidWkudGFicyIsbi51aS50YWJzLHtfcHJvY2Vzc1RhYnM6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cyk7dGhpcy5fYWRkQ2xhc3ModGhpcy50YWJzLCJ1aS10YWIiKX19KTtuLnVpLnRhYnM7bi53aWRnZXQoInVpLnRvb2x0aXAiLHt2ZXJzaW9uOiIxLjEyLjEiLG9wdGlvbnM6e2NsYXNzZXM6eyJ1aS10b29sdGlwIjoidWktY29ybmVyLWFsbCB1aS13aWRnZXQtc2hhZG93In0sY29udGVudDpmdW5jdGlvbigpe3ZhciB0PW4odGhpcykuYXR0cigidGl0bGUiKXx8IiI7cmV0dXJuIG4oIjxhPiIpLnRleHQodCkuaHRtbCgpfSxoaWRlOiEwLGl0ZW1zOiJbdGl0bGVdOm5vdChbZGlzYWJsZWRdKSIscG9zaXRpb246e215OiJsZWZ0IHRvcCsxNSIsYXQ6ImxlZnQgYm90dG9tIixjb2xsaXNpb246ImZsaXBmaXQgZmxpcCJ9LHNob3c6ITAsdHJhY2s6ITEsY2xvc2U6bnVsbCxvcGVuOm51bGx9LF9hZGREZXNjcmliZWRCeTpmdW5jdGlvbih0LGkpe3ZhciByPSh0LmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiKXx8IiIpLnNwbGl0KC9ccysvKTtyLnB1c2goaSk7dC5kYXRhKCJ1aS10b29sdGlwLWlkIixpKS5hdHRyKCJhcmlhLWRlc2NyaWJlZGJ5IixuLnRyaW0oci5qb2luKCIgIikpKX0sX3JlbW92ZURlc2NyaWJlZEJ5OmZ1bmN0aW9uKHQpe3ZhciB1PXQuZGF0YSgidWktdG9vbHRpcC1pZCIpLGk9KHQuYXR0cigiYXJpYS1kZXNjcmliZWRieSIpfHwiIikuc3BsaXQoL1xzKy8pLHI9bi5pbkFycmF5KHUsaSk7LTEhPT1yJiZpLnNwbGljZShyLDEpO3QucmVtb3ZlRGF0YSgidWktdG9vbHRpcC1pZCIpO2k9bi50cmltKGkuam9pbigiICIpKTtpP3QuYXR0cigiYXJpYS1kZXNjcmliZWRieSIsaSk6dC5yZW1vdmVBdHRyKCJhcmlhLWRlc2NyaWJlZGJ5Iil9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9vbih7bW91c2VvdmVyOiJvcGVuIixmb2N1c2luOiJvcGVuIn0pO3RoaXMudG9vbHRpcHM9e307dGhpcy5wYXJlbnRzPXt9O3RoaXMubGl2ZVJlZ2lvbj1uKCI8ZGl2PiIpLmF0dHIoe3JvbGU6ImxvZyIsImFyaWEtbGl2ZSI6ImFzc2VydGl2ZSIsImFyaWEtcmVsZXZhbnQiOiJhZGRpdGlvbnMifSkuYXBwZW5kVG8odGhpcy5kb2N1bWVudFswXS5ib2R5KTt0aGlzLl9hZGRDbGFzcyh0aGlzLmxpdmVSZWdpb24sbnVsbCwidWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlIik7dGhpcy5kaXNhYmxlZFRpdGxlcz1uKFtdKX0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGkpe3ZhciByPXRoaXM7dGhpcy5fc3VwZXIodCxpKTsiY29udGVudCI9PT10JiZuLmVhY2godGhpcy50b29sdGlwcyxmdW5jdGlvbihuLHQpe3IuX3VwZGF0ZUNvbnRlbnQodC5lbGVtZW50KX0pfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24obil7dGhpc1tuPyJfZGlzYWJsZSI6Il9lbmFibGUiXSgpfSxfZGlzYWJsZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7bi5lYWNoKHRoaXMudG9vbHRpcHMsZnVuY3Rpb24oaSxyKXt2YXIgdT1uLkV2ZW50KCJibHVyIik7dS50YXJnZXQ9dS5jdXJyZW50VGFyZ2V0PXIuZWxlbWVudFswXTt0LmNsb3NlKHUsITApfSk7dGhpcy5kaXNhYmxlZFRpdGxlcz10aGlzLmRpc2FibGVkVGl0bGVzLmFkZCh0aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpLmFkZEJhY2soKS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO2lmKHQuaXMoIlt0aXRsZV0iKSlyZXR1cm4gdC5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIix0LmF0dHIoInRpdGxlIikpLnJlbW92ZUF0dHIoInRpdGxlIil9KSl9LF9lbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVkVGl0bGVzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO3QuZGF0YSgidWktdG9vbHRpcC10aXRsZSIpJiZ0LmF0dHIoInRpdGxlIix0LmRhdGEoInVpLXRvb2x0aXAtdGl0bGUiKSl9KTt0aGlzLmRpc2FibGVkVGl0bGVzPW4oW10pfSxvcGVuOmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMsaT1uKHQ/dC50YXJnZXQ6dGhpcy5lbGVtZW50KS5jbG9zZXN0KHRoaXMub3B0aW9ucy5pdGVtcyk7aS5sZW5ndGgmJiFpLmRhdGEoInVpLXRvb2x0aXAtaWQiKSYmKGkuYXR0cigidGl0bGUiKSYmaS5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIixpLmF0dHIoInRpdGxlIikpLGkuZGF0YSgidWktdG9vbHRpcC1vcGVuIiwhMCksdCYmIm1vdXNlb3ZlciI9PT10LnR5cGUmJmkucGFyZW50cygpLmVhY2goZnVuY3Rpb24oKXt2YXIgaSx0PW4odGhpcyk7dC5kYXRhKCJ1aS10b29sdGlwLW9wZW4iKSYmKGk9bi5FdmVudCgiYmx1ciIpLGkudGFyZ2V0PWkuY3VycmVudFRhcmdldD10aGlzLHIuY2xvc2UoaSwhMCkpO3QuYXR0cigidGl0bGUiKSYmKHQudW5pcXVlSWQoKSxyLnBhcmVudHNbdGhpcy5pZF09e2VsZW1lbnQ6dGhpcyx0aXRsZTp0LmF0dHIoInRpdGxlIil9LHQuYXR0cigidGl0bGUiLCIiKSl9KSx0aGlzLl9yZWdpc3RlckNsb3NlSGFuZGxlcnModCxpKSx0aGlzLl91cGRhdGVDb250ZW50KGksdCkpfSxfdXBkYXRlQ29udGVudDpmdW5jdGlvbihuLHQpe3ZhciByLGk9dGhpcy5vcHRpb25zLmNvbnRlbnQsdT10aGlzLGY9dD90LnR5cGU6bnVsbDtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGl8fGkubm9kZVR5cGV8fGkuanF1ZXJ5P3RoaXMuX29wZW4odCxuLGkpOihyPWkuY2FsbChuWzBdLGZ1bmN0aW9uKGkpe3UuX2RlbGF5KGZ1bmN0aW9uKCl7bi5kYXRhKCJ1aS10b29sdGlwLW9wZW4iKSYmKHQmJih0LnR5cGU9ZiksdGhpcy5fb3Blbih0LG4saSkpfSl9KSxyJiZ0aGlzLl9vcGVuKHQsbixyKSx2b2lkIDApfSxfb3BlbjpmdW5jdGlvbih0LGkscil7ZnVuY3Rpb24gbyhuKXtzLm9mPW47dS5pcygiOmhpZGRlbiIpfHx1LnBvc2l0aW9uKHMpfXZhciBmLHUsaCxlLHM9bi5leHRlbmQoe30sdGhpcy5vcHRpb25zLnBvc2l0aW9uKTtpZihyKXtpZihmPXRoaXMuX2ZpbmQoaSkpcmV0dXJuIGYudG9vbHRpcC5maW5kKCIudWktdG9vbHRpcC1jb250ZW50IikuaHRtbChyKSx2b2lkIDA7aS5pcygiW3RpdGxlXSIpJiYodCYmIm1vdXNlb3ZlciI9PT10LnR5cGU/aS5hdHRyKCJ0aXRsZSIsIiIpOmkucmVtb3ZlQXR0cigidGl0bGUiKSk7Zj10aGlzLl90b29sdGlwKGkpO3U9Zi50b29sdGlwO3RoaXMuX2FkZERlc2NyaWJlZEJ5KGksdS5hdHRyKCJpZCIpKTt1LmZpbmQoIi51aS10b29sdGlwLWNvbnRlbnQiKS5odG1sKHIpO3RoaXMubGl2ZVJlZ2lvbi5jaGlsZHJlbigpLmhpZGUoKTtlPW4oIjxkaXY+IikuaHRtbCh1LmZpbmQoIi51aS10b29sdGlwLWNvbnRlbnQiKS5odG1sKCkpO2UucmVtb3ZlQXR0cigibmFtZSIpLmZpbmQoIltuYW1lXSIpLnJlbW92ZUF0dHIoIm5hbWUiKTtlLnJlbW92ZUF0dHIoImlkIikuZmluZCgiW2lkXSIpLnJlbW92ZUF0dHIoImlkIik7ZS5hcHBlbmRUbyh0aGlzLmxpdmVSZWdpb24pO3RoaXMub3B0aW9ucy50cmFjayYmdCYmL15tb3VzZS8udGVzdCh0LnR5cGUpPyh0aGlzLl9vbih0aGlzLmRvY3VtZW50LHttb3VzZW1vdmU6b30pLG8odCkpOnUucG9zaXRpb24obi5leHRlbmQoeyJvZiI6aX0sdGhpcy5vcHRpb25zLnBvc2l0aW9uKSk7dS5oaWRlKCk7dGhpcy5fc2hvdyh1LHRoaXMub3B0aW9ucy5zaG93KTt0aGlzLm9wdGlvbnMudHJhY2smJnRoaXMub3B0aW9ucy5zaG93JiZ0aGlzLm9wdGlvbnMuc2hvdy5kZWxheSYmKGg9dGhpcy5kZWxheWVkU2hvdz1zZXRJbnRlcnZhbChmdW5jdGlvbigpe3UuaXMoIjp2aXNpYmxlIikmJihvKHMub2YpLGNsZWFySW50ZXJ2YWwoaCkpfSxuLmZ4LmludGVydmFsKSk7dGhpcy5fdHJpZ2dlcigib3BlbiIsdCx7dG9vbHRpcDp1fSl9fSxfcmVnaXN0ZXJDbG9zZUhhbmRsZXJzOmZ1bmN0aW9uKHQsaSl7dmFyIHI9e2tleXVwOmZ1bmN0aW9uKHQpe2lmKHQua2V5Q29kZT09PW4udWkua2V5Q29kZS5FU0NBUEUpe3ZhciByPW4uRXZlbnQodCk7ci5jdXJyZW50VGFyZ2V0PWlbMF07dGhpcy5jbG9zZShyLCEwKX19fTtpWzBdIT09dGhpcy5lbGVtZW50WzBdJiYoci5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVUb29sdGlwKHRoaXMuX2ZpbmQoaSkudG9vbHRpcCl9KTt0JiYibW91c2VvdmVyIiE9PXQudHlwZXx8KHIubW91c2VsZWF2ZT0iY2xvc2UiKTt0JiYiZm9jdXNpbiIhPT10LnR5cGV8fChyLmZvY3Vzb3V0PSJjbG9zZSIpO3RoaXMuX29uKCEwLGkscil9LGNsb3NlOmZ1bmN0aW9uKHQpe3ZhciB1LGY9dGhpcyxpPW4odD90LmN1cnJlbnRUYXJnZXQ6dGhpcy5lbGVtZW50KSxyPXRoaXMuX2ZpbmQoaSk7cmV0dXJuIHI/KHU9ci50b29sdGlwLHIuY2xvc2luZ3x8KGNsZWFySW50ZXJ2YWwodGhpcy5kZWxheWVkU2hvdyksaS5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIikmJiFpLmF0dHIoInRpdGxlIikmJmkuYXR0cigidGl0bGUiLGkuZGF0YSgidWktdG9vbHRpcC10aXRsZSIpKSx0aGlzLl9yZW1vdmVEZXNjcmliZWRCeShpKSxyLmhpZGluZz0hMCx1LnN0b3AoITApLHRoaXMuX2hpZGUodSx0aGlzLm9wdGlvbnMuaGlkZSxmdW5jdGlvbigpe2YuX3JlbW92ZVRvb2x0aXAobih0aGlzKSl9KSxpLnJlbW92ZURhdGEoInVpLXRvb2x0aXAtb3BlbiIpLHRoaXMuX29mZihpLCJtb3VzZWxlYXZlIGZvY3Vzb3V0IGtleXVwIiksaVswXSE9PXRoaXMuZWxlbWVudFswXSYmdGhpcy5fb2ZmKGksInJlbW92ZSIpLHRoaXMuX29mZih0aGlzLmRvY3VtZW50LCJtb3VzZW1vdmUiKSx0JiYibW91c2VsZWF2ZSI9PT10LnR5cGUmJm4uZWFjaCh0aGlzLnBhcmVudHMsZnVuY3Rpb24odCxpKXtuKGkuZWxlbWVudCkuYXR0cigidGl0bGUiLGkudGl0bGUpO2RlbGV0ZSBmLnBhcmVudHNbdF19KSxyLmNsb3Npbmc9ITAsdGhpcy5fdHJpZ2dlcigiY2xvc2UiLHQse3Rvb2x0aXA6dX0pLHIuaGlkaW5nfHwoci5jbG9zaW5nPSExKSksdm9pZCAwKTooaS5yZW1vdmVEYXRhKCJ1aS10b29sdGlwLW9wZW4iKSx2b2lkIDApfSxfdG9vbHRpcDpmdW5jdGlvbih0KXt2YXIgaT1uKCI8ZGl2PiIpLmF0dHIoInJvbGUiLCJ0b29sdGlwIikscj1uKCI8ZGl2PiIpLmFwcGVuZFRvKGkpLHU9aS51bmlxdWVJZCgpLmF0dHIoImlkIik7cmV0dXJuIHRoaXMuX2FkZENsYXNzKHIsInVpLXRvb2x0aXAtY29udGVudCIpLHRoaXMuX2FkZENsYXNzKGksInVpLXRvb2x0aXAiLCJ1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQiKSxpLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKHQpKSx0aGlzLnRvb2x0aXBzW3VdPXtlbGVtZW50OnQsdG9vbHRpcDppfX0sX2ZpbmQ6ZnVuY3Rpb24obil7dmFyIHQ9bi5kYXRhKCJ1aS10b29sdGlwLWlkIik7cmV0dXJuIHQ/dGhpcy50b29sdGlwc1t0XTpudWxsfSxfcmVtb3ZlVG9vbHRpcDpmdW5jdGlvbihuKXtuLnJlbW92ZSgpO2RlbGV0ZSB0aGlzLnRvb2x0aXBzW24uYXR0cigiaWQiKV19LF9hcHBlbmRUbzpmdW5jdGlvbihuKXt2YXIgdD1uLmNsb3Nlc3QoIi51aS1mcm9udCwgZGlhbG9nIik7cmV0dXJuIHQubGVuZ3RofHwodD10aGlzLmRvY3VtZW50WzBdLmJvZHkpLHR9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztuLmVhY2godGhpcy50b29sdGlwcyxmdW5jdGlvbihpLHIpe3ZhciBmPW4uRXZlbnQoImJsdXIiKSx1PXIuZWxlbWVudDtmLnRhcmdldD1mLmN1cnJlbnRUYXJnZXQ9dVswXTt0LmNsb3NlKGYsITApO24oIiMiK2kpLnJlbW92ZSgpO3UuZGF0YSgidWktdG9vbHRpcC10aXRsZSIpJiYodS5hdHRyKCJ0aXRsZSIpfHx1LmF0dHIoInRpdGxlIix1LmRhdGEoInVpLXRvb2x0aXAtdGl0bGUiKSksdS5yZW1vdmVEYXRhKCJ1aS10b29sdGlwLXRpdGxlIikpfSk7dGhpcy5saXZlUmVnaW9uLnJlbW92ZSgpfX0pO24udWlCYWNrQ29tcGF0IT09ITEmJm4ud2lkZ2V0KCJ1aS50b29sdGlwIixuLnVpLnRvb2x0aXAse29wdGlvbnM6e3Rvb2x0aXBDbGFzczpudWxsfSxfdG9vbHRpcDpmdW5jdGlvbigpe3ZhciBuPXRoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5vcHRpb25zLnRvb2x0aXBDbGFzcyYmbi50b29sdGlwLmFkZENsYXNzKHRoaXMub3B0aW9ucy50b29sdGlwQ2xhc3MpLG59fSk7bi51aS50b29sdGlwfSk7Ci8qISBqUXVlcnkgTWlncmF0ZSB2My4zLjIgfCAoYykgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwoidW5kZWZpbmVkIj09dHlwZW9mIGpRdWVyeS5taWdyYXRlTXV0ZSYmKGpRdWVyeS5taWdyYXRlTXV0ZT0hMCksZnVuY3Rpb24obil7InVzZSBzdHJpY3QiOyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsianF1ZXJ5Il0sZnVuY3Rpb24odCl7cmV0dXJuIG4odCx3aW5kb3cpfSk6Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPW4ocmVxdWlyZSgianF1ZXJ5Iiksd2luZG93KTpuKGpRdWVyeSx3aW5kb3cpfShmdW5jdGlvbihuLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB1KHQpe3JldHVybiAwPD1mdW5jdGlvbihuLHQpe2Zvcih2YXIgcj0vXihcZCspXC4oXGQrKVwuKFxkKykvLHU9ci5leGVjKG4pfHxbXSxmPXIuZXhlYyh0KXx8W10saT0xO2k8PTM7aSsrKXtpZigrZltpXTwrdVtpXSlyZXR1cm4gMTtpZigrdVtpXTwrZltpXSlyZXR1cm4tMX1yZXR1cm4gMH0obi5mbi5qcXVlcnksdCl9ZnVuY3Rpb24gaShpKXt2YXIgcj10LmNvbnNvbGU7bi5taWdyYXRlRGVkdXBsaWNhdGVXYXJuaW5ncyYmZVtpXXx8KGVbaV09ITAsbi5taWdyYXRlV2FybmluZ3MucHVzaChpKSxyJiZyLndhcm4mJiFuLm1pZ3JhdGVNdXRlJiYoci53YXJuKCJKUU1JR1JBVEU6ICIraSksbi5taWdyYXRlVHJhY2UmJnIudHJhY2UmJnIudHJhY2UoKSkpfWZ1bmN0aW9uIGgobix0LHIsdSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sdCx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkodSkscn0sc2V0OmZ1bmN0aW9uKG4pe2kodSk7cj1ufX0pfWZ1bmN0aW9uIHIobix0LHIsdSl7blt0XT1mdW5jdGlvbigpe3JldHVybiBpKHUpLHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1mdW5jdGlvbiBsKG4pe3JldHVybiBuLnJlcGxhY2UoLy0oW2Etel0pL2csZnVuY3Rpb24obix0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfSl9ZnVuY3Rpb24gdHQobil7dmFyIGk9dC5kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpO3JldHVybiBpLmJvZHkuaW5uZXJIVE1MPW4saS5ib2R5JiZpLmJvZHkuaW5uZXJIVE1MfWZ1bmN0aW9uIGl0KG4pe3ZhciB0PW4ucmVwbGFjZShwLCI8JDE+PFwvJDI+Iik7dCE9PW4mJnR0KG4pIT09dHQodCkmJmkoIkhUTUwgdGFncyBtdXN0IGJlIHByb3Blcmx5IG5lc3RlZCBhbmQgY2xvc2VkOiAiK24pfXZhciBlLHYseSxnLG50LGYscCxydCx1dCxmdCx3LGV0LG90O24ubWlncmF0ZVZlcnNpb249IjMuMy4yIjt0LmNvbnNvbGUmJnQuY29uc29sZS5sb2cmJihuJiZ1KCIzLjAuMCIpfHx0LmNvbnNvbGUubG9nKCJKUU1JR1JBVEU6IGpRdWVyeSAzLjAuMCsgUkVRVUlSRUQiKSxuLm1pZ3JhdGVXYXJuaW5ncyYmdC5jb25zb2xlLmxvZygiSlFNSUdSQVRFOiBNaWdyYXRlIHBsdWdpbiBsb2FkZWQgbXVsdGlwbGUgdGltZXMiKSx0LmNvbnNvbGUubG9nKCJKUU1JR1JBVEU6IE1pZ3JhdGUgaXMgaW5zdGFsbGVkIisobi5taWdyYXRlTXV0ZT8iIjoiIHdpdGggbG9nZ2luZyBhY3RpdmUiKSsiLCB2ZXJzaW9uICIrbi5taWdyYXRlVmVyc2lvbikpO2U9e307bi5taWdyYXRlRGVkdXBsaWNhdGVXYXJuaW5ncz0hMDtuLm1pZ3JhdGVXYXJuaW5ncz1bXTt2b2lkIDA9PT1uLm1pZ3JhdGVUcmFjZSYmKG4ubWlncmF0ZVRyYWNlPSEwKTtuLm1pZ3JhdGVSZXNldD1mdW5jdGlvbigpe2U9e307bi5taWdyYXRlV2FybmluZ3MubGVuZ3RoPTB9OyJCYWNrQ29tcGF0Ij09PXQuZG9jdW1lbnQuY29tcGF0TW9kZSYmaSgialF1ZXJ5IGlzIG5vdCBjb21wYXRpYmxlIHdpdGggUXVpcmtzIE1vZGUiKTt2YXIgbyxiLGMsaz17fSxzdD1uLmZuLmluaXQscz1uLmZpbmQsaHQ9L1xbKFxzKlstXHddK1xzKikoW358XiQqXT89KVxzKihbLVx3I10qPyNbLVx3I10qKVxzKlxdLyxjdD0vXFsoXHMqWy1cd10rXHMqKShbfnxeJCpdPz0pXHMqKFstXHcjXSo/I1stXHcjXSopXHMqXF0vZyxsdD0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2c7Zm9yKG8gaW4gbi5mbi5pbml0PWZ1bmN0aW9uKG4pe3ZhciB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBuJiYiIyI9PT1uJiYoaSgialF1ZXJ5KCAnIycgKSBpcyBub3QgYSB2YWxpZCBzZWxlY3RvciIpLHRbMF09W10pLHN0LmFwcGx5KHRoaXMsdCl9LG4uZm4uaW5pdC5wcm90b3R5cGU9bi5mbixuLmZpbmQ9ZnVuY3Rpb24obil7dmFyIHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtpZigic3RyaW5nIj09dHlwZW9mIG4mJmh0LnRlc3QobikpdHJ5e3QuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuKX1jYXRjaCh1KXtuPW4ucmVwbGFjZShjdCxmdW5jdGlvbihuLHQsaSxyKXtyZXR1cm4iWyIrdCtpKyciJytyKyciXSd9KTt0cnl7dC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG4pO2koIkF0dHJpYnV0ZSBzZWxlY3RvciB3aXRoICcjJyBtdXN0IGJlIHF1b3RlZDogIityWzBdKTtyWzBdPW59Y2F0Y2godSl7aSgiQXR0cmlidXRlIHNlbGVjdG9yIHdpdGggJyMnIHdhcyBub3QgZml4ZWQ6ICIrclswXSl9fXJldHVybiBzLmFwcGx5KHRoaXMscil9LHMpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsbykmJihuLmZpbmRbb109c1tvXSk7cihuLmZuLCJzaXplIixmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH0sImpRdWVyeS5mbi5zaXplKCkgaXMgZGVwcmVjYXRlZCBhbmQgcmVtb3ZlZDsgdXNlIHRoZSAubGVuZ3RoIHByb3BlcnR5Iik7cihuLCJwYXJzZUpTT04iLGZ1bmN0aW9uKCl7cmV0dXJuIEpTT04ucGFyc2UuYXBwbHkobnVsbCxhcmd1bWVudHMpfSwialF1ZXJ5LnBhcnNlSlNPTiBpcyBkZXByZWNhdGVkOyB1c2UgSlNPTi5wYXJzZSIpO3IobiwiaG9sZFJlYWR5IixuLmhvbGRSZWFkeSwialF1ZXJ5LmhvbGRSZWFkeSBpcyBkZXByZWNhdGVkIik7cihuLCJ1bmlxdWUiLG4udW5pcXVlU29ydCwialF1ZXJ5LnVuaXF1ZSBpcyBkZXByZWNhdGVkOyB1c2UgalF1ZXJ5LnVuaXF1ZVNvcnQiKTtoKG4uZXhwciwiZmlsdGVycyIsbi5leHByLnBzZXVkb3MsImpRdWVyeS5leHByLmZpbHRlcnMgaXMgZGVwcmVjYXRlZDsgdXNlIGpRdWVyeS5leHByLnBzZXVkb3MiKTtoKG4uZXhwciwiOiIsbi5leHByLnBzZXVkb3MsImpRdWVyeS5leHByWyc6J10gaXMgZGVwcmVjYXRlZDsgdXNlIGpRdWVyeS5leHByLnBzZXVkb3MiKTt1KCIzLjEuMSIpJiZyKG4sInRyaW0iLGZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1uPyIiOihuKyIiKS5yZXBsYWNlKGx0LCIiKX0sImpRdWVyeS50cmltIGlzIGRlcHJlY2F0ZWQ7IHVzZSBTdHJpbmcucHJvdG90eXBlLnRyaW0iKTt1KCIzLjIuMCIpJiYocihuLCJub2RlTmFtZSIsZnVuY3Rpb24obix0KXtyZXR1cm4gbi5ub2RlTmFtZSYmbi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09dC50b0xvd2VyQ2FzZSgpfSwialF1ZXJ5Lm5vZGVOYW1lIGlzIGRlcHJlY2F0ZWQiKSxyKG4sImlzQXJyYXkiLEFycmF5LmlzQXJyYXksImpRdWVyeS5pc0FycmF5IGlzIGRlcHJlY2F0ZWQ7IHVzZSBBcnJheS5pc0FycmF5IikpO3UoIjMuMy4wIikmJihyKG4sImlzTnVtZXJpYyIsZnVuY3Rpb24obil7dmFyIHQ9dHlwZW9mIG47cmV0dXJuKCJudW1iZXIiPT10fHwic3RyaW5nIj09dCkmJiFpc05hTihuLXBhcnNlRmxvYXQobikpfSwialF1ZXJ5LmlzTnVtZXJpYygpIGlzIGRlcHJlY2F0ZWQiKSxuLmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sIi5zcGxpdCgiICIpLGZ1bmN0aW9uKG4sdCl7a1siW29iamVjdCAiK3QrIl0iXT10LnRvTG93ZXJDYXNlKCl9KSxyKG4sInR5cGUiLGZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1uP24rIiI6Im9iamVjdCI9PXR5cGVvZiBufHwiZnVuY3Rpb24iPT10eXBlb2Ygbj9rW09iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKV18fCJvYmplY3QiOnR5cGVvZiBufSwialF1ZXJ5LnR5cGUgaXMgZGVwcmVjYXRlZCIpLHIobiwiaXNGdW5jdGlvbiIsZnVuY3Rpb24obil7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG59LCJqUXVlcnkuaXNGdW5jdGlvbigpIGlzIGRlcHJlY2F0ZWQiKSxyKG4sImlzV2luZG93IixmdW5jdGlvbihuKXtyZXR1cm4gbnVsbCE9biYmbj09PW4ud2luZG93fSwialF1ZXJ5LmlzV2luZG93KCkgaXMgZGVwcmVjYXRlZCIpKTtuLmFqYXgmJihiPW4uYWpheCxjPS8oPSlcPyg/PSZ8JCl8XD9cPy8sbi5hamF4PWZ1bmN0aW9uKCl7dmFyIG49Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG4ucHJvbWlzZSYmKHIobiwic3VjY2VzcyIsbi5kb25lLCJqUVhIUi5zdWNjZXNzIGlzIGRlcHJlY2F0ZWQgYW5kIHJlbW92ZWQiKSxyKG4sImVycm9yIixuLmZhaWwsImpRWEhSLmVycm9yIGlzIGRlcHJlY2F0ZWQgYW5kIHJlbW92ZWQiKSxyKG4sImNvbXBsZXRlIixuLmFsd2F5cywialFYSFIuY29tcGxldGUgaXMgZGVwcmVjYXRlZCBhbmQgcmVtb3ZlZCIpKSxufSx1KCI0LjAuMCIpfHxuLmFqYXhQcmVmaWx0ZXIoIitqc29uIixmdW5jdGlvbihuKXshMSE9PW4uanNvbnAmJihjLnRlc3Qobi51cmwpfHwic3RyaW5nIj09dHlwZW9mIG4uZGF0YSYmMD09PShuLmNvbnRlbnRUeXBlfHwiIikuaW5kZXhPZigiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIikmJmMudGVzdChuLmRhdGEpKSYmaSgiSlNPTi10by1KU09OUCBhdXRvLXByb21vdGlvbiBpcyBkZXByZWNhdGVkIil9KSk7dmFyIGF0PW4uZm4ucmVtb3ZlQXR0cix2dD1uLmZuLnRvZ2dsZUNsYXNzLHl0PS9cUysvZztuLmZuLnJlbW92ZUF0dHI9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcztyZXR1cm4gbi5lYWNoKHQubWF0Y2goeXQpLGZ1bmN0aW9uKHQsdSl7bi5leHByLm1hdGNoLmJvb2wudGVzdCh1KSYmKGkoImpRdWVyeS5mbi5yZW1vdmVBdHRyIG5vIGxvbmdlciBzZXRzIGJvb2xlYW4gcHJvcGVydGllczogIit1KSxyLnByb3AodSwhMSkpfSksYXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgZCxhPSEobi5mbi50b2dnbGVDbGFzcz1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dCYmImJvb2xlYW4iIT10eXBlb2YgdD92dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6KGkoImpRdWVyeS5mbi50b2dnbGVDbGFzcyggYm9vbGVhbiApIGlzIGRlcHJlY2F0ZWQiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgaT10aGlzLmdldEF0dHJpYnV0ZSYmdGhpcy5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiO2kmJm4uZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIixpKTt0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIiwhaSYmITEhPT10JiZuLmRhdGEodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIil9KSl9KSxwdD0vXlthLXpdLyx3dD0vXig/OkJvcmRlcig/OlRvcHxSaWdodHxCb3R0b218TGVmdCk/KD86V2lkdGh8KXwoPzpNYXJnaW58UGFkZGluZyk/KD86VG9wfFJpZ2h0fEJvdHRvbXxMZWZ0KT98KD86TWlufE1heCk/KD86V2lkdGh8SGVpZ2h0KSkkLztuLnN3YXAmJm4uZWFjaChbImhlaWdodCIsIndpZHRoIiwicmVsaWFibGVNYXJnaW5SaWdodCJdLGZ1bmN0aW9uKHQsaSl7dmFyIHI9bi5jc3NIb29rc1tpXSYmbi5jc3NIb29rc1tpXS5nZXQ7ciYmKG4uY3NzSG9va3NbaV0uZ2V0PWZ1bmN0aW9uKCl7dmFyIG47cmV0dXJuIGE9ITAsbj1yLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxhPSExLG59KX0pO24uc3dhcD1mdW5jdGlvbihuLHQscix1KXt2YXIgZSxmLG89e307Zm9yKGYgaW4gYXx8aSgialF1ZXJ5LnN3YXAoKSBpcyB1bmRvY3VtZW50ZWQgYW5kIGRlcHJlY2F0ZWQiKSx0KW9bZl09bi5zdHlsZVtmXSxuLnN0eWxlW2ZdPXRbZl07Zm9yKGYgaW4gZT1yLmFwcGx5KG4sdXx8W10pLHQpbi5zdHlsZVtmXT1vW2ZdO3JldHVybiBlfTt1KCIzLjQuMCIpJiYidW5kZWZpbmVkIiE9dHlwZW9mIFByb3h5JiYobi5jc3NQcm9wcz1uZXcgUHJveHkobi5jc3NQcm9wc3x8e30se3NldDpmdW5jdGlvbigpe3JldHVybiBpKCJKUU1JR1JBVEU6IGpRdWVyeS5jc3NQcm9wcyBpcyBkZXByZWNhdGVkIiksUmVmbGVjdC5zZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pKTtuLmNzc051bWJlcnx8KG4uY3NzTnVtYmVyPXt9KTtkPW4uZm4uY3NzO24uZm4uY3NzPWZ1bmN0aW9uKHQscil7dmFyIGYsdSxlPXRoaXM7cmV0dXJuIHQmJiJvYmplY3QiPT10eXBlb2YgdCYmIUFycmF5LmlzQXJyYXkodCk/KG4uZWFjaCh0LGZ1bmN0aW9uKHQsaSl7bi5mbi5jc3MuY2FsbChlLHQsaSl9KSx0aGlzKTooIm51bWJlciI9PXR5cGVvZiByJiYoZj1sKHQpLHU9ZixwdC50ZXN0KHUpJiZ3dC50ZXN0KHVbMF0udG9VcHBlckNhc2UoKSt1LnNsaWNlKDEpKXx8bi5jc3NOdW1iZXJbZl18fGkoJ051bWJlci10eXBlZCB2YWx1ZXMgYXJlIGRlcHJlY2F0ZWQgZm9yIGpRdWVyeS5mbi5jc3MoICInK3QrJyIsIHZhbHVlICknKSksZC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfTtmPW4uZGF0YTtuLmRhdGE9ZnVuY3Rpb24odCxyLHUpe3ZhciBvLHMsZTtpZihyJiYib2JqZWN0Ij09dHlwZW9mIHImJjI9PT1hcmd1bWVudHMubGVuZ3RoKXtmb3IoZSBpbiBvPW4uaGFzRGF0YSh0KSYmZi5jYWxsKHRoaXMsdCkscz17fSxyKWUhPT1sKGUpPyhpKCJqUXVlcnkuZGF0YSgpIGFsd2F5cyBzZXRzL2dldHMgY2FtZWxDYXNlZCBuYW1lczogIitlKSxvW2VdPXJbZV0pOnNbZV09cltlXTtyZXR1cm4gZi5jYWxsKHRoaXMsdCxzKSxyfXJldHVybiByJiYic3RyaW5nIj09dHlwZW9mIHImJnIhPT1sKHIpJiYobz1uLmhhc0RhdGEodCkmJmYuY2FsbCh0aGlzLHQpKSYmciBpbiBvPyhpKCJqUXVlcnkuZGF0YSgpIGFsd2F5cyBzZXRzL2dldHMgY2FtZWxDYXNlZCBuYW1lczogIityKSwyPGFyZ3VtZW50cy5sZW5ndGgmJihvW3JdPXUpLG9bcl0pOmYuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtuLmZ4JiYoZz1uLlR3ZWVuLnByb3RvdHlwZS5ydW4sbnQ9ZnVuY3Rpb24obil7cmV0dXJuIG59LG4uVHdlZW4ucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpezE8bi5lYXNpbmdbdGhpcy5lYXNpbmddLmxlbmd0aCYmKGkoIidqUXVlcnkuZWFzaW5nLiIrdGhpcy5lYXNpbmcudG9TdHJpbmcoKSsiJyBzaG91bGQgdXNlIG9ubHkgb25lIGFyZ3VtZW50Iiksbi5lYXNpbmdbdGhpcy5lYXNpbmddPW50KTtnLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdj1uLmZ4LmludGVydmFsfHwxMyx5PSJqUXVlcnkuZnguaW50ZXJ2YWwgaXMgZGVwcmVjYXRlZCIsdC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLmZ4LCJpbnRlcnZhbCIse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0LmRvY3VtZW50LmhpZGRlbnx8aSh5KSx2fSxzZXQ6ZnVuY3Rpb24obil7aSh5KTt2PW59fSkpO3ZhciBidD1uLmZuLmxvYWQsa3Q9bi5ldmVudC5hZGQsZHQ9bi5ldmVudC5maXg7cmV0dXJuIG4uZXZlbnQucHJvcHM9W10sbi5ldmVudC5maXhIb29rcz17fSxoKG4uZXZlbnQucHJvcHMsImNvbmNhdCIsbi5ldmVudC5wcm9wcy5jb25jYXQsImpRdWVyeS5ldmVudC5wcm9wcy5jb25jYXQoKSBpcyBkZXByZWNhdGVkIGFuZCByZW1vdmVkIiksbi5ldmVudC5maXg9ZnVuY3Rpb24odCl7dmFyIGYsZT10LnR5cGUsdT10aGlzLmZpeEhvb2tzW2VdLHI9bi5ldmVudC5wcm9wcztpZihyLmxlbmd0aClmb3IoaSgialF1ZXJ5LmV2ZW50LnByb3BzIGFyZSBkZXByZWNhdGVkIGFuZCByZW1vdmVkOiAiK3Iuam9pbigpKTtyLmxlbmd0aDspbi5ldmVudC5hZGRQcm9wKHIucG9wKCkpO2lmKHUmJiF1Ll9taWdyYXRlZF8mJih1Ll9taWdyYXRlZF89ITAsaSgialF1ZXJ5LmV2ZW50LmZpeEhvb2tzIGFyZSBkZXByZWNhdGVkIGFuZCByZW1vdmVkOiAiK2UpLChyPXUucHJvcHMpJiZyLmxlbmd0aCkpd2hpbGUoci5sZW5ndGgpbi5ldmVudC5hZGRQcm9wKHIucG9wKCkpO3JldHVybiBmPWR0LmNhbGwodGhpcyx0KSx1JiZ1LmZpbHRlcj91LmZpbHRlcihmLHQpOmZ9LG4uZXZlbnQuYWRkPWZ1bmN0aW9uKG4scil7cmV0dXJuIG49PT10JiYibG9hZCI9PT1yJiYiY29tcGxldGUiPT09dC5kb2N1bWVudC5yZWFkeVN0YXRlJiZpKCJqUXVlcnkod2luZG93KS5vbignbG9hZCcuLi4pIGNhbGxlZCBhZnRlciBsb2FkIGV2ZW50IG9jY3VycmVkIiksa3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxuLmVhY2goWyJsb2FkIiwidW5sb2FkIiwiZXJyb3IiXSxmdW5jdGlvbih0LHIpe24uZm5bcl09ZnVuY3Rpb24oKXt2YXIgbj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7cmV0dXJuImxvYWQiPT09ciYmInN0cmluZyI9PXR5cGVvZiBuWzBdP2J0LmFwcGx5KHRoaXMsbik6KGkoImpRdWVyeS5mbi4iK3IrIigpIGlzIGRlcHJlY2F0ZWQiKSxuLnNwbGljZSgwLDAsciksYXJndW1lbnRzLmxlbmd0aD90aGlzLm9uLmFwcGx5KHRoaXMsbik6KHRoaXMudHJpZ2dlckhhbmRsZXIuYXBwbHkodGhpcyxuKSx0aGlzKSl9fSksbi5lYWNoKCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgcmVzaXplIHNjcm9sbCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGNvbnRleHRtZW51Ii5zcGxpdCgiICIpLGZ1bmN0aW9uKHQscil7bi5mbltyXT1mdW5jdGlvbihuLHQpe3JldHVybiBpKCJqUXVlcnkuZm4uIityKyIoKSBldmVudCBzaG9ydGhhbmQgaXMgZGVwcmVjYXRlZCIpLDA8YXJndW1lbnRzLmxlbmd0aD90aGlzLm9uKHIsbnVsbCxuLHQpOnRoaXMudHJpZ2dlcihyKX19KSxuKGZ1bmN0aW9uKCl7bih0LmRvY3VtZW50KS50cmlnZ2VySGFuZGxlcigicmVhZHkiKX0pLG4uZXZlbnQuc3BlY2lhbC5yZWFkeT17c2V0dXA6ZnVuY3Rpb24oKXt0aGlzPT09dC5kb2N1bWVudCYmaSgiJ3JlYWR5JyBldmVudCBpcyBkZXByZWNhdGVkIil9fSxuLmZuLmV4dGVuZCh7YmluZDpmdW5jdGlvbihuLHQscil7cmV0dXJuIGkoImpRdWVyeS5mbi5iaW5kKCkgaXMgZGVwcmVjYXRlZCIpLHRoaXMub24obixudWxsLHQscil9LHVuYmluZDpmdW5jdGlvbihuLHQpe3JldHVybiBpKCJqUXVlcnkuZm4udW5iaW5kKCkgaXMgZGVwcmVjYXRlZCIpLHRoaXMub2ZmKG4sbnVsbCx0KX0sZGVsZWdhdGU6ZnVuY3Rpb24obix0LHIsdSl7cmV0dXJuIGkoImpRdWVyeS5mbi5kZWxlZ2F0ZSgpIGlzIGRlcHJlY2F0ZWQiKSx0aGlzLm9uKHQsbixyLHUpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gaSgialF1ZXJ5LmZuLnVuZGVsZWdhdGUoKSBpcyBkZXByZWNhdGVkIiksMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYobiwiKioiKTp0aGlzLm9mZih0LG58fCIqKiIscil9LGhvdmVyOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIGkoImpRdWVyeS5mbi5ob3ZlcigpIGlzIGRlcHJlY2F0ZWQiKSx0aGlzLm9uKCJtb3VzZWVudGVyIixuKS5vbigibW91c2VsZWF2ZSIsdHx8bil9fSkscD0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbYS16XVteXC9cMD5ceDIwXHRcclxuXGZdKilbXj5dKilcLz4vZ2kscnQ9bi5odG1sUHJlZmlsdGVyLG4uVU5TQUZFX3Jlc3RvcmVMZWdhY3lIdG1sUHJlZmlsdGVyPWZ1bmN0aW9uKCl7bi5odG1sUHJlZmlsdGVyPWZ1bmN0aW9uKG4pe3JldHVybiBpdChuKSxuLnJlcGxhY2UocCwiPCQxPjxcLyQyPiIpfX0sbi5odG1sUHJlZmlsdGVyPWZ1bmN0aW9uKG4pe3JldHVybiBpdChuKSxydChuKX0sZnQ9bi5mbi5vZmZzZXQsbi5mbi5vZmZzZXQ9ZnVuY3Rpb24oKXt2YXIgbj10aGlzWzBdO3JldHVybiFufHxuLm5vZGVUeXBlJiZuLmdldEJvdW5kaW5nQ2xpZW50UmVjdD9mdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6KGkoImpRdWVyeS5mbi5vZmZzZXQoKSByZXF1aXJlcyBhIHZhbGlkIERPTSBlbGVtZW50IiksYXJndW1lbnRzLmxlbmd0aD90aGlzOnZvaWQgMCl9LG4uYWpheCYmKHV0PW4ucGFyYW0sbi5wYXJhbT1mdW5jdGlvbih0LHIpe3ZhciB1PW4uYWpheFNldHRpbmdzJiZuLmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbDtyZXR1cm4gdm9pZCAwPT09ciYmdSYmKGkoImpRdWVyeS5wYXJhbSgpIG5vIGxvbmdlciB1c2VzIGpRdWVyeS5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWwiKSxyPXUpLHV0LmNhbGwodGhpcyx0LHIpfSksb3Q9bi5mbi5hbmRTZWxmfHxuLmZuLmFkZEJhY2ssbi5mbi5hbmRTZWxmPWZ1bmN0aW9uKCl7cmV0dXJuIGkoImpRdWVyeS5mbi5hbmRTZWxmKCkgaXMgZGVwcmVjYXRlZCBhbmQgcmVtb3ZlZCwgdXNlIGpRdWVyeS5mbi5hZGRCYWNrKCkiKSxvdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG4uRGVmZXJyZWQmJih3PW4uRGVmZXJyZWQsZXQ9W1sicmVzb2x2ZSIsImRvbmUiLG4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLG4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsbi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5Iiksbi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksInJlamVjdGVkIl0sWyJub3RpZnkiLCJwcm9ncmVzcyIsbi5DYWxsYmFja3MoIm1lbW9yeSIpLG4uQ2FsbGJhY2tzKCJtZW1vcnkiKV1dLG4uRGVmZXJyZWQ9ZnVuY3Rpb24odCl7dmFyIHI9dygpLHU9ci5wcm9taXNlKCk7cmV0dXJuIHIucGlwZT11LnBpcGU9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHM7cmV0dXJuIGkoImRlZmVycmVkLnBpcGUoKSBpcyBkZXByZWNhdGVkIiksbi5EZWZlcnJlZChmdW5jdGlvbihpKXtuLmVhY2goZXQsZnVuY3Rpb24obixmKXt2YXIgZT0iZnVuY3Rpb24iPT10eXBlb2YgdFtuXSYmdFtuXTtyW2ZbMV1dKGZ1bmN0aW9uKCl7dmFyIG49ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7biYmImZ1bmN0aW9uIj09dHlwZW9mIG4ucHJvbWlzZT9uLnByb21pc2UoKS5kb25lKGkucmVzb2x2ZSkuZmFpbChpLnJlamVjdCkucHJvZ3Jlc3MoaS5ub3RpZnkpOmlbZlswXSsiV2l0aCJdKHRoaXM9PT11P2kucHJvbWlzZSgpOnRoaXMsZT9bbl06YXJndW1lbnRzKX0pfSk7dD1udWxsfSkucHJvbWlzZSgpfSx0JiZ0LmNhbGwocixyKSxyfSxuLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2s9dy5leGNlcHRpb25Ib29rKSxufSk7dmFyIEFqYXhDYXJ0PXtsb2FkV2FpdGluZzohMSx1c2Vwb3B1cG5vdGlmaWNhdGlvbnM6ITEsdG9wY2FydHNlbGVjdG9yOiIiLHRvcHdpc2hsaXN0c2VsZWN0b3I6IiIsZmx5b3V0Y2FydHNlbGVjdG9yOiIiLGxvY2FsaXplZF9kYXRhOiExLGluaXQ6ZnVuY3Rpb24obix0LGkscix1KXt0aGlzLmxvYWRXYWl0aW5nPSExO3RoaXMudXNlcG9wdXBub3RpZmljYXRpb25zPW47dGhpcy50b3BjYXJ0c2VsZWN0b3I9dDt0aGlzLnRvcHdpc2hsaXN0c2VsZWN0b3I9aTt0aGlzLmZseW91dGNhcnRzZWxlY3Rvcj1yO3RoaXMubG9jYWxpemVkX2RhdGE9dX0sc2V0TG9hZFdhaXRpbmc6ZnVuY3Rpb24obil7ZGlzcGxheUFqYXhMb2FkaW5nKG4pO3RoaXMubG9hZFdhaXRpbmc9bn0sYWRkcHJvZHVjdHRvY2FydF9jYXRhbG9nOmZ1bmN0aW9uKG4pe2lmKHRoaXMubG9hZFdhaXRpbmc9PT0hMSl7dGhpcy5zZXRMb2FkV2FpdGluZyghMCk7dmFyIHQ9e307YWRkQW50aUZvcmdlcnlUb2tlbih0KTskLmFqYXgoe2NhY2hlOiExLHVybDpuLHR5cGU6IlBPU1QiLGRhdGE6dCxzdWNjZXNzOnRoaXMuc3VjY2Vzc19wcm9jZXNzLGNvbXBsZXRlOnRoaXMucmVzZXRMb2FkV2FpdGluZyxlcnJvcjp0aGlzLmFqYXhGYWlsdXJlfSl9fSxhZGRwcm9kdWN0dG9jYXJ0X2RldGFpbHM6ZnVuY3Rpb24obix0KXt0aGlzLmxvYWRXYWl0aW5nPT09ITEmJih0aGlzLnNldExvYWRXYWl0aW5nKCEwKSwkLmFqYXgoe2NhY2hlOiExLHVybDpuLGRhdGE6JCh0KS5zZXJpYWxpemUoKSx0eXBlOiJQT1NUIixzdWNjZXNzOnRoaXMuc3VjY2Vzc19wcm9jZXNzLGNvbXBsZXRlOnRoaXMucmVzZXRMb2FkV2FpdGluZyxlcnJvcjp0aGlzLmFqYXhGYWlsdXJlfSkpfSxhZGRwcm9kdWN0dG9jb21wYXJlbGlzdDpmdW5jdGlvbihuKXtpZih0aGlzLmxvYWRXYWl0aW5nPT09ITEpe3RoaXMuc2V0TG9hZFdhaXRpbmcoITApO3ZhciB0PXt9O2FkZEFudGlGb3JnZXJ5VG9rZW4odCk7JC5hamF4KHtjYWNoZTohMSx1cmw6bix0eXBlOiJQT1NUIixkYXRhOnQsc3VjY2Vzczp0aGlzLnN1Y2Nlc3NfcHJvY2Vzcyxjb21wbGV0ZTp0aGlzLnJlc2V0TG9hZFdhaXRpbmcsZXJyb3I6dGhpcy5hamF4RmFpbHVyZX0pfX0sc3VjY2Vzc19wcm9jZXNzOmZ1bmN0aW9uKG4pe3JldHVybihuLnVwZGF0ZXRvcGNhcnRzZWN0aW9uaHRtbCYmJChBamF4Q2FydC50b3BjYXJ0c2VsZWN0b3IpLmh0bWwobi51cGRhdGV0b3BjYXJ0c2VjdGlvbmh0bWwpLG4udXBkYXRldG9wd2lzaGxpc3RzZWN0aW9uaHRtbCYmJChBamF4Q2FydC50b3B3aXNobGlzdHNlbGVjdG9yKS5odG1sKG4udXBkYXRldG9wd2lzaGxpc3RzZWN0aW9uaHRtbCksbi51cGRhdGVmbHlvdXRjYXJ0c2VjdGlvbmh0bWwmJiQoQWpheENhcnQuZmx5b3V0Y2FydHNlbGVjdG9yKS5yZXBsYWNlV2l0aChuLnVwZGF0ZWZseW91dGNhcnRzZWN0aW9uaHRtbCksbi5tZXNzYWdlKT8obi5zdWNjZXNzPT09ITA/QWpheENhcnQudXNlcG9wdXBub3RpZmljYXRpb25zPT09ITA/ZGlzcGxheVBvcHVwTm90aWZpY2F0aW9uKG4ubWVzc2FnZSwic3VjY2VzcyIsITApOmRpc3BsYXlCYXJOb3RpZmljYXRpb24obi5tZXNzYWdlLCJzdWNjZXNzIiwzNTAwKTpBamF4Q2FydC51c2Vwb3B1cG5vdGlmaWNhdGlvbnM9PT0hMD9kaXNwbGF5UG9wdXBOb3RpZmljYXRpb24obi5tZXNzYWdlLCJlcnJvciIsITApOmRpc3BsYXlCYXJOb3RpZmljYXRpb24obi5tZXNzYWdlLCJlcnJvciIsMCksITEpOm4ucmVkaXJlY3Q/KGxvY2F0aW9uLmhyZWY9bi5yZWRpcmVjdCwhMCk6ITF9LHJlc2V0TG9hZFdhaXRpbmc6ZnVuY3Rpb24oKXtBamF4Q2FydC5zZXRMb2FkV2FpdGluZyghMSl9LGFqYXhGYWlsdXJlOmZ1bmN0aW9uKCl7YWxlcnQodGhpcy5sb2NhbGl6ZWRfZGF0YS5BamF4Q2FydEZhaWx1cmUpfX07K2Z1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KCl7dmFyIHQ9bih0aGlzKSx1PXQudmFsKCksaT1uKHQuZGF0YSgic3RhdGVwcm92aW5jZSIpKSxyO2kubGVuZ3RoIT0wJiYocj1uKHQuZGF0YSgibG9hZGluZyIpKSxyLnNob3coKSxuLmFqYXgoe2NhY2hlOiExLHR5cGU6IkdFVCIsdXJsOnQuZGF0YSgidXJsIiksZGF0YTp7Y291bnRyeUlkOnUsYWRkU2VsZWN0U3RhdGVJdGVtOiJ0cnVlIn0sc3VjY2VzczpmdW5jdGlvbih0KXtpLmh0bWwoIiIpO24uZWFjaCh0LGZ1bmN0aW9uKHQscil7aS5hcHBlbmQobigiPG9wdGlvbj48XC9vcHRpb24+IikudmFsKHIuaWQpLmh0bWwoci5uYW1lKSl9KX0sZXJyb3I6ZnVuY3Rpb24oKXthbGVydCgiRmFpbGVkIHRvIHJldHJpZXZlIHN0YXRlcy4iKX0sY29tcGxldGU6ZnVuY3Rpb24oKXt2YXIgdD10eXBlb2YgQmlsbGluZyE9InVuZGVmaW5lZCI/QmlsbGluZy5zZWxlY3RlZFN0YXRlSWQ6dHlwZW9mIENoZWNrb3V0QmlsbGluZyE9InVuZGVmaW5lZCI/Q2hlY2tvdXRCaWxsaW5nLnNlbGVjdGVkU3RhdGVJZDowO24oIiMiK2lbMF0uaWQrIiBvcHRpb25bdmFsdWU9Iit0KyJdIikucHJvcCgic2VsZWN0ZWQiLCEwKTtyLmhpZGUoKX19KSl9aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBqUXVlcnkpdGhyb3cgbmV3IEVycm9yKCJqUXVlcnkgSlMgcmVxdWlyZWQiKTtuKGRvY3VtZW50KS5oYXMoJ1tkYXRhLXRyaWdnZXI9ImNvdW50cnktc2VsZWN0Il0nKSYmbignc2VsZWN0W2RhdGEtdHJpZ2dlcj0iY291bnRyeS1zZWxlY3QiXScpLmNoYW5nZSh0KTtuLmZuLmNvdW50cnlTZWxlY3Q9ZnVuY3Rpb24oKXt0aGlzLmVhY2goZnVuY3Rpb24oKXtuKHRoaXMpLmNoYW5nZSh0KX0pfX0oalF1ZXJ5KQ==","CacheKey":"8B-UiQKRPeO3i7zJUvHDtmEgHIM"}